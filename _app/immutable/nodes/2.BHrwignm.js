import"../chunks/CWj6FrbW.js";import{i as ot}from"../chunks/D6Qpp1HO.js";import{ai as Jt,m as jt,W as ut,n as R,z as ea,o as ta,H as i,a8 as ce,S as aa,U as na,V as Ct,X as dt,y as Ne,ak as ra,ao as ia,Y as Ot,v as qt,Z as oa,ay as vt,as as Et,ag as bt,az as sa,au as ee,aA as Tt,i as St,aB as la,aC as ca,ar as ua,aD as da,x as va,aE as pa,aF as fa,al as ha,$ as ma,r as Sa,aG as ga,aH as _a,aI as ya,aJ as xa,aK as wa,aL as Aa,aM as Ca,aN as ba,e as z,a0 as Ft,L as Ue,aO as Bt,aP as Zt,M as N,N as K,C as G,O as We,R as c,P as f,a7 as Ae,I as L,Q as p,aQ as Ta,B as Pt,aR as Pa,aS as k,aT as Mt}from"../chunks/Di46pHrl.js";import{l as gt,a as Ma,e as rt,s as T,b as Ia}from"../chunks/B2mG1lgn.js";import{p as D,i as mt,b as ka}from"../chunks/gN0WRj-s.js";function Da(e,t){return t}function La(e,t,a,r){for(var n=[],o=t.length,s=0;s<o;s++)ca(t[s].e,n,!0);var l=o>0&&n.length===0&&a!==null;if(l){var d=a.parentNode;ua(d),d.append(a),r.clear(),j(e,t[0].prev,t[o-1].next)}da(n,()=>{for(var u=0;u<o;u++){var v=t[u];l||(r.delete(v.k),j(e,v.prev,v.next)),va(v.e,!l)}})}function Ha(e,t,a,r,n,o=null){var s=e,l={flags:t,items:new Map,first:null};{var d=e;s=R?ut(ea(d)):d.appendChild(Jt())}R&&ta();var u=null,v=!1,y=ce(()=>{var h=a();return St(h)?h:h==null?[]:Et(h)});jt(()=>{var h=i(y),m=h.length;if(v&&m===0)return;v=m===0;let _=!1;if(R){var P=aa(s)===na;P!==(m===0)&&(s=Ct(),ut(s),dt(!1),_=!0)}if(R){for(var A=null,S,x=0;x<m;x++){if(Ne.nodeType===ra&&Ne.data===ia){s=Ne,_=!0,dt(!1);break}var M=h[x],C=r(M,x);S=Gt(Ne,l,A,null,M,C,x,n,t,a),l.items.set(C,S),A=S}m>0&&ut(Ct())}R||Ra(h,l,s,n,t,r,a),o!==null&&(m===0?u?Ot(u):u=qt(()=>o(s)):u!==null&&oa(u,()=>{u=null})),_&&dt(!0),i(y)}),R&&(s=Ne)}function Ra(e,t,a,r,n,o,s){var l=e.length,d=t.items,u=t.first,v=u,y,h=null,m=[],_=[],P,A,S,x;for(x=0;x<l;x+=1){if(P=e[x],A=o(P,x),S=d.get(A),S===void 0){var M=v?v.e.nodes_start:a;h=Gt(M,t,h,h===null?t.first:h.next,P,A,x,r,n,s),d.set(A,h),m=[],_=[],v=h.next;continue}if(Oa(S,P,x),(S.e.f&vt)!==0&&Ot(S.e),S!==v){if(y!==void 0&&y.has(S)){if(m.length<_.length){var C=_[0],w;h=C.prev;var b=m[0],H=m[m.length-1];for(w=0;w<m.length;w+=1)It(m[w],C,a);for(w=0;w<_.length;w+=1)y.delete(_[w]);j(t,b.prev,H.next),j(t,h,b),j(t,H,C),v=C,h=H,x-=1,m=[],_=[]}else y.delete(S),It(S,v,a),j(t,S.prev,S.next),j(t,S,h===null?t.first:h.next),j(t,h,S),h=S;continue}for(m=[],_=[];v!==null&&v.k!==A;)(v.e.f&vt)===0&&(y??(y=new Set)).add(v),_.push(v),v=v.next;if(v===null)continue;S=v}m.push(S),h=S,v=S.next}if(v!==null||y!==void 0){for(var Z=y===void 0?[]:Et(y);v!==null;)(v.e.f&vt)===0&&Z.push(v),v=v.next;var ue=Z.length;if(ue>0){var te=l===0?a:null;La(t,Z,te,d)}}bt.first=t.first&&t.first.e,bt.last=h&&h.e}function Oa(e,t,a,r){sa(e.v,t),e.i=a}function Gt(e,t,a,r,n,o,s,l,d,u){var v=(d&pa)!==0,y=(d&fa)===0,h=v?y?ee(n,!1,!1):Tt(n):n,m=(d&la)===0?s:Tt(s),_={i:m,v:h,k:o,a:null,e:null,prev:a,next:r};try{return _.e=qt(()=>l(e,h,m,u),R),_.e.prev=a&&a.e,_.e.next=r&&r.e,a===null?t.first=_:(a.next=_,a.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function It(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,o=e.e.nodes_start;o!==r;){var s=ha(o);n.before(o),o=s}}function j(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function qa(e,t,a){var r=e==null?"":""+e;return r===""?null:r}function Nt(e,t,a,r,n,o){var s=e.__className;if(R||s!==a||s===void 0){var l=qa(a);(!R||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=a}return o}function $t(e,t,a){if(e.multiple){if(t==null)return;if(!St(t))return ga();for(var r of e.options)r.selected=t.includes($e(r));return}for(r of e.options){var n=$e(r);if(_a(n,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Ea(e){var t=new MutationObserver(()=>{$t(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Sa(()=>{t.disconnect()})}function Fa(e,t,a=t){var r=!0;gt(e,"change",n=>{var o=n?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(o),$e);else{var l=e.querySelector(o)??e.querySelector("option:not([disabled])");s=l&&$e(l)}a(s)}),ma(()=>{var n=t();if($t(e,n,r),r&&n===void 0){var o=e.querySelector(":checked");o!==null&&(n=$e(o),a(n))}e.__value=n,r=!1}),Ea(e)}function $e(e){return"__value"in e?e.__value:e.value}const Ba=Symbol("is custom element"),Za=Symbol("is html");function Ut(e){if(R){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;it(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;it(e,"checked",null),e.checked=n}}};e.__on_r=a,Ca(a),Ma()}}function it(e,t,a,r){var n=Ga(e);R&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=a)&&(t==="loading"&&(e[ya]=a),a==null?e.removeAttribute(t):typeof a!="string"&&Na(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Ga(e){return e.__attributes??(e.__attributes={[Ba]:e.nodeName.includes("-"),[Za]:e.namespaceURI===xa})}var kt=new Map;function Na(e){var t=kt.get(e.nodeName);if(t)return t;kt.set(e.nodeName,t=[]);for(var a,r=e,n=Element.prototype;n!==r;){a=Aa(r);for(var o in a)a[o].set&&t.push(o);r=wa(r)}return t}function $a(e,t,a=t){var r=ba();gt(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=pt(e)?ft(o):o,a(o),r&&o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),(R&&e.defaultValue!==e.value||z(t)==null&&e.value)&&a(pt(e)?ft(e.value):e.value),Ft(()=>{var n=t();pt(e)&&n===ft(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Ua(e,t,a=t){gt(e,"change",r=>{var n=r?e.defaultChecked:e.checked;a(n)}),(R&&e.defaultChecked!==e.checked||z(t)==null)&&a(e.checked),Ft(()=>{var r=t();e.checked=!!r})}function pt(e){var t=e.type;return t==="number"||t==="range"}function ft(e){return e===""?null:+e}function Wa(e){return function(...t){var a=t[0];return a.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Va(e,t){var o;var a=(o=e.$$events)==null?void 0:o[t.type],r=St(a)?a.slice():a==null?[]:[a];for(var n of r)n.call(this,t)}const ht=["S","A","B","C","D","E","F","G"],Ya=["Great","Good","Normal","Bad","Terrible"],za=["Front","Pace","Late","End"],Ka=["Turf","Dirt"],Qa=["Firm","Soft","Heavy","Wet"],Dt={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Xa={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Ja={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},ja={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},en={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},tn={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},an={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}};function I(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function nn(e,t,a){return e+.8*t*a}function rn(e,t,a){return e*(1+(t+a)/1e4)}function on(e,t){return e*550+t*150}function sn(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function ln(e){return Xa[e]}function cn(e,t){return Ja[e][t]}function un(e){return ja[e]}function dn(e){return an[e]}function vn(e){return en[e]}function pn(e){return tn[e]}function fn(e){return e*.85}function hn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function mn(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function Sn(e,t,a,r,n){const o=(t-e)/a,s=(-e+Math.sqrt(e**2+2*a*(r/6-n)))/a;return Math.min(o,s)}function gn(e,t,a){return(e+t*a/2)*a}function _n(e,t,a,r,n){return 20*n*((t*a+e-r+12)**3-(e-r+12)**3)/(3*t)/144}function yn(e,t){return e/t}function xn(e,t,a){return Math.max(e/6-(t+a),0)}function wn(e,t,a,r){return 20*a*(e-t+12)**2/144*r}const _t=3;function An(e){return e*.85}function Cn(e,t,a,r){return 24+6e-4*Math.sqrt(500*e)*t*a*r}function bn(e,t){return(e-_t)/t}function Tn(e,t){return(_t+e)/2*t}function Pn(e,t){return 20*t*e}function Mn(e,t,a,r,n,o){const s=_t,l=An(e),d=Cn(t,a,r,n),u=bn(l,d),v=Tn(l,u),y=Pn(u,o.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:l,acceleration:d,distance:v,timeInSeconds:u,hpConsumption:y}}function In(e,t,a,r){return(e*t+a.speed)*r.speed**2}function kn(e,t){return e*t}function Dn(e,t,a,r){return(e*t+a.power)*r.acceleration}function Ln(e,t){return e*t}function Hn(e,t,a){return e*t*a}function Rn(e,t,a,r,n){return{speed:In(e.speed,t,a,r),stamina:kn(e.stamina,t),power:Dn(e.power,t,a,r),guts:Ln(e.guts,t),wit:Hn(e.wit,t,n)}}function On(e,t,a){return e+t*a}function qn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function En(e,t,a,r,n,o){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*o}function Fn(e,t,a){return(t-e)/a}function Bn(e,t,a){return(e+t)/2*a}function Zn(e,t,a,r,n){return 20*n*((t-r+12)**3-(e-r+12)**3)/(3*a)/144}function Gn(e,t){return e/t}function Nn(e,t){return e/2-t}function $n(e,t,a,r){return 20*a*(e-t+12)**2/144*r}function Un(e,t,a,r,n){return e*r+Math.sqrt(500*t)*n*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function Wn(e,t,a,r,n,o){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*o}function Vn(e,t,a,r,n){return e/3<=t?0:(a-r)/n}function Yn(e,t,a){return(e+t)/2*a}function zn(e,t,a,r,n,o){return 20*n*o*((e+t*a-r+12)**3-(e-r+12)**3)/(3*t)/144}function Kn(e,t,a){return Math.max(e/3-t-a,0)}function Qn(e,t){return e/t}function Xn(e,t,a,r,n){return 20*a*r*(e-t+12)**2/144*n}function Jn(e,t,a,r,n,o,s,l,d,u,v,y){const h=a+r+n+o+s,m=(t-h-(e/3-60)*20*l*d*(u-v+12)**2/144/u)/(20*l*d*((v-y+12)**2/144/v-(u-v+12)**2/144/u))+60,_=e/3;return Math.min(m,_)}function jn(e){return 1+200/Math.sqrt(600*e)}function er(e,t,a){return e===0?t:a}function tr(e,t,a,r){return(e*(a+.01)+Math.sqrt(500*t)*r*.002)*1.05+Math.sqrt(500*t)*r*.002}function ar(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function Lt(e,t,a){return(e-t)/a}function nr(e,t,a){return(e+t)/2*a}function Ht(e,t,a,r,n,o){return 20*r*n*((e+t*o-a+12)**3-(e-a+12)**3)/(3*t)/144}function rr(e,t,a,r,n){return e/(20*t*a*(r-n+12)**2/144)}function ir(e,t,a,r,n,o,s,l,d){return e-(t+a+r+n+o+s+l+d)}function or(e,t,a,r,n,o,s,l){return 20*e*t*(a-r+12)**2/144*(n/3-(o+s+l))/a}function sr(e,t){return e*t}function lr(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function cr(e,t,a,r,n){return e/3-(t+a+r+n)}function ur(e,t,a,r,n,o,s){const l=e+t+a+r+n,d=o+s;return l+d}function dr(e,t,a,r,n,o){return e+(t-a)/.8/r/(1+(n+o)/1e4)}function vr(e){return(6.5/Math.log10(.1*e+1))**2}function pr(e){return Math.max(100-9e3/e,20)}function fr(e){return 20-(e-2e3)/1e3}function hr(e){const t=parseInt(e.distance),a=ln(e.mood),r=cn(e.surface,e.condition),n=un(e.distanceAptitude),o=vn(e.strategyAptitude),s=dn(e.strategy),l=pn(e.surfaceAptitude),d=Rn(e.stats,a,r,n,o),u=fr(t),v=nn(t,d.stamina,s.hpCorrection),y=on(e.skills.goldRecovery,e.skills.whiteRecovery),h=sn(e.skills.uniqueRecoveryTwoStarsOrBelow,e.skills.uniqueRecoveryThreeStarsOrAbove),m=rn(v,y,h),_=pr(d.wit),P=vr(d.wit),A=Mn(u,d.power,s.accelerationCorrection.early,n.acceleration,l,r),S=fn(u),x=hn(u,d.wit,s.speedCorrection.early),M=mn(d.power,s.accelerationCorrection.early,n.acceleration,l),C=Sn(S,x,M,t,A.distance),w=gn(S,M,C),b=_n(S,M,C,u,r.hpConsumptionCoefficient),H=x,Z=x,ue=0,te=xn(t,A.distance,w),Ce=yn(te,H),de=wn(H,u,r.hpConsumptionCoefficient,Ce),$=On(S,M,C),U=qn(u,d.wit,s.speedCorrection.middle),be=En($,U,d.power,s.accelerationCorrection.middle,n.acceleration,l),Ve=Fn($,U,be),g=Bn($,U,Ve),ae=Zn($,U,be,u,r.hpConsumptionCoefficient),W=U,ve=U,Te=0,Pe=Nn(t,g),Me=Gn(Pe,W),ne=$n(W,u,r.hpConsumptionCoefficient,Me),V=ve,Q=Un(u,d.speed,d.wit,s.speedCorrection.late,n.speed),re=Wn(V,Q,d.power,s.accelerationCorrection.late,n.acceleration,l),ie=Q,pe=Q,st=0,O=jn(d.guts),q=tr(u,d.speed,s.speedCorrection.late,n.speed),oe=ar(d.power,s.accelerationCorrection.late,n.acceleration,l),fe=Jn(t,m,A.hpConsumption,b,de,ae,ne,r.hpConsumptionCoefficient,O,ie,q,u),se=q,Ye=q,lt=0,F=Vn(t,fe,Q,V,re),B=Yn(V,Q,F),he=zn(V,re,F,u,r.hpConsumptionCoefficient,O),X=Kn(t,fe,B),me=Qn(X,pe),Ie=Xn(ie,u,r.hpConsumptionCoefficient,O,me),Se=er(B,W,ie),le=Lt(q,Se,oe),ge=nr(Se,q,le),ze=Ht(Se,oe,u,r.hpConsumptionCoefficient,O,le),ke=ir(m,A.hpConsumption,b,de,ae,ne,he,Ie,ze),Ke=or(r.hpConsumptionCoefficient,O,se,u,t,B,X,ge),Qe=Math.min(Ke,ke),_e=rr(Qe,r.hpConsumptionCoefficient,O,se,u),De=sr(se,_e),Xe=Ye,Je=0,Le=-1.2,je=cr(t,B,X,ge,De),et=lr(Xe,Le,je),He=0,ye=W,Re=q,Oe=oe,xe=q,ct=q,tt=0,we=Lt(Re,ye,Oe),qe=Ht(V,oe,u,r.hpConsumptionCoefficient,O,we),Ee=(ye+Re)/2*we,Fe=t/3-Ee,Be=Fe/xe,Ze=20*r.hpConsumptionCoefficient*O*(xe-u+12)**2/144*Be,Ge=ur(A.hpConsumption,b,de,ae,ne,qe,Ze),at=dr(d.stamina,Ge,m,s.hpCorrection,y,h);return{realStats:d,baseSpeed:u,initialHitPoints:v,hitPointsWithRecovery:m,lastSpurtDistance:fe,lastSpurtHitPointsConsumptionCoefficient:O,targetHitPointsForLastSpurt:Ge,requiredStamina:at,skillProcRate:_,rushedRate:P,detailedBreakdown:{startingDash:A,phaseZeroAcceleration:{initialSpeed:S,targetSpeed:x,acceleration:M,timeInSeconds:C,distance:w,hpConsumption:b},phaseZeroSteady:{initialSpeed:H,targetSpeed:Z,acceleration:ue,timeInSeconds:Ce,distance:te,hpConsumption:de},phaseOneAcceleration:{initialSpeed:$,targetSpeed:U,acceleration:be,timeInSeconds:Ve,distance:g,hpConsumption:ae},phaseOneSteady:{initialSpeed:W,targetSpeed:ve,acceleration:Te,timeInSeconds:Me,distance:Pe,hpConsumption:ne},phaseTwoAcceleration:{initialSpeed:V,targetSpeed:Q,acceleration:re,timeInSeconds:F,distance:B,hpConsumption:he},phaseTwoAndThreeSteady:{initialSpeed:ie,targetSpeed:pe,acceleration:st,timeInSeconds:me,distance:X,hpConsumption:Ie},lastSpurtAcceleration:{initialSpeed:Se,targetSpeed:q,acceleration:oe,timeInSeconds:le,distance:ge,hpConsumption:ze},lastSpurtSteady:{initialSpeed:se,targetSpeed:Ye,acceleration:lt,timeInSeconds:_e,distance:De,hpConsumption:Qe},hitPointsZeroDeceleration:{initialSpeed:Xe,targetSpeed:Je,acceleration:Le,timeInSeconds:et,distance:je,hpConsumption:He},idealLastSpurtAcceleration:{initialSpeed:ye,targetSpeed:Re,acceleration:Oe,timeInSeconds:we,distance:Ee,hpConsumption:qe},idealLastSpurtSteady:{initialSpeed:xe,targetSpeed:ct,acceleration:tt,timeInSeconds:Be,distance:Fe,hpConsumption:Ze}}}}var mr=N("<span> </span>"),Sr=N('<button class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 appearance-none bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" name="speed"/></div></div></button>');function Y(e,t){Ue(t,!1);let a=D(t,"label",8),r=D(t,"value",12),n=D(t,"showGrade",8,!0),o=0,s=1200,l=ee(""),d=ee(""),u=ee();const v=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]];let y={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function h(){var w,b;(w=i(u))==null||w.focus(),(b=i(u))==null||b.select()}Bt(()=>(L(r()),i(l)),()=>{var w;r()<o&&r(o),r()>s&&r(s),Ae(l,((w=v.find(([b])=>r()>=b))==null?void 0:w[1])??""),Ae(d,y[i(l)]??"text-gray-800")}),Zt(),ot();var m=Sr(),_=f(m),P=f(_),A=f(P,!0);p(P);var S=c(P,2),x=f(S);{var M=w=>{var b=mr(),H=f(b,!0);p(b),K(()=>{Nt(b,1,`${i(d)??""} text-xl font-bold`),T(H,i(l))}),G(w,b)};mt(x,w=>{n()&&w(M)})}var C=c(x,2);Ut(C),it(C,"min",o),it(C,"max",s),ka(C,w=>Ae(u,w),()=>i(u)),p(S),p(_),p(m),K(()=>T(A,a())),$a(C,r),rt("click",C,Wa(function(w){Va.call(this,t,w)})),rt("focus",C,h),rt("click",m,h),G(e,m),We()}var gr=N("<option> </option>"),_r=N('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function Rt(e,t){let a=D(t,"options",24,()=>[]),r=D(t,"value",12);var n=_r();K(()=>{r(),Ta(()=>{a()})}),Ha(n,5,a,Da,(o,s)=>{var l=gr(),d=f(l,!0);p(l);var u={};K(()=>{T(d,i(s)),u!==(u=i(s))&&(l.value=(l.__value=i(s))??"")}),G(o,l)}),p(n),Fa(n,r),G(e,n)}var yr=N('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function nt(e,t){Ue(t,!1);let a=D(t,"label",8),r=D(t,"extraLabel",8,""),n=D(t,"option1",24,()=>[]),o=D(t,"value1",12),s=D(t,"option2",24,()=>[]),l=D(t,"value2",12),d="",u=ee(""),v={S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};Bt(()=>{},()=>{Ae(u,v[d]??"text-gray-800")}),Zt();var y=yr(),h=f(y),m=f(h,!0);p(h);var _=c(h,2),P=f(_,!0);p(_);var A=c(_,2),S=f(A);Rt(S,{get options(){return n()},get value(){return o()},set value(M){o(M)},$$legacy:!0});var x=c(S,2);Rt(x,{get options(){return s()},get value(){return l()},set value(M){l(M)},$$legacy:!0}),p(A),p(y),K(()=>{T(m,a()),T(P,r())}),G(e,y),We()}var xr=N('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function J(e,t){Ue(t,!1);let a=D(t,"label",8),r=D(t,"value",8),n=D(t,"decimals",8,0),o=D(t,"valueSuffix",8,"");ot();var s=xr(),l=f(s),d=f(l,!0);p(l);var u=c(l,2),v=f(u);p(u),p(s),K(y=>{T(d,a()),T(v,`${y??""}${o()??""}`)},[()=>(L(I),L(r()),L(n()),z(()=>I(r(),n())))],ce),G(e,s),We()}var wr=N('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function E(e,t){Ue(t,!1);let a=D(t,"label",8),r=D(t,"data",8);ot();var n=wr(),o=f(n),s=f(o,!0);p(o);var l=c(o,2),d=f(l,!0);p(l);var u=c(l,2),v=f(u,!0);p(u);var y=c(u,2),h=f(y,!0);p(y);var m=c(y,2),_=f(m,!0);p(m);var P=c(m,2),A=f(P,!0);p(P);var S=c(P,2),x=f(S,!0);p(S),p(n),K((M,C,w,b,H,Z)=>{T(s,a()),T(d,M),T(v,C),T(h,w),T(_,b),T(A,H),T(x,Z)},[()=>(L(I),L(r()),z(()=>I(r().initialSpeed,3))),()=>(L(I),L(r()),z(()=>I(r().targetSpeed,3))),()=>(L(I),L(r()),z(()=>I(r().acceleration,3))),()=>(L(I),L(r()),z(()=>I(r().timeInSeconds,3))),()=>(L(I),L(r()),z(()=>I(r().distance,2))),()=>(L(I),L(r()),z(()=>I(r().hpConsumption,2)))],ce),G(e,n),We()}var Ar=N('<div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full flex flex-col md:w-4/5"><div class="grid grid-cols-5 mb-4"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-2 mb-6"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div></div></div> <div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></div></div>'),Cr=N('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="w-full md:w-4/5 flex flex-col gap-2"><div class="grid grid-cols-5"><!> <!> <!> <!> <!></div> <h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div></div> <label class="my-4"><input type="checkbox"/> Show debug data</label></div> <!>',1),br=N('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div> <div class="w-full mx-auto mb-6 px-2 md:w-4/5"><input type="button" value="Calculate" class="block mx-auto w-full bg-amber-400 font-semibold py-2 rounded md:w-5/6 lg:w-2/3 hover:cursor-pointer"/></div> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Dr(e,t){Ue(t,!1);let a=ee(),r=ee(!1),n=ee({stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryTwoStarsOrBelow:0,uniqueRecoveryThreeStarsOrAbove:0}});function o(){return Dt[parseInt(i(n).distance)]}function s(){Ae(a,hr(i(n)))}function l(){return i(a).realStats.stamina+1<i(a).requiredStamina?"Not enough stamina/guts":i(a).realStats.stamina/i(a).requiredStamina<1.1&&i(a).requiredStamina>=0?"Borderline":"You have enough stamina!"}function d(){return i(a).realStats.stamina+1<i(a).requiredStamina?"text-red-600":i(a).realStats.stamina/i(a).requiredStamina<1.1&&i(a).requiredStamina>=0?"text-orange-400":"text-green-600"}ot();var u=br();Ia(g=>{Pa.title="UmaCalc"});var v=c(Pt(u),2),y=f(v),h=f(y);Y(h,{label:"Speed",get value(){return i(n).stats.speed},set value(g){k(n,i(n).stats.speed=g)},$$legacy:!0});var m=c(h,2);Y(m,{label:"Stamina",get value(){return i(n).stats.stamina},set value(g){k(n,i(n).stats.stamina=g)},$$legacy:!0});var _=c(m,2);Y(_,{label:"Power",get value(){return i(n).stats.power},set value(g){k(n,i(n).stats.power=g)},$$legacy:!0});var P=c(_,2);Y(P,{label:"Guts",get value(){return i(n).stats.guts},set value(g){k(n,i(n).stats.guts=g)},$$legacy:!0});var A=c(P,2);Y(A,{label:"Wit",get value(){return i(n).stats.wit},set value(g){k(n,i(n).stats.wit=g)},$$legacy:!0}),p(y);var S=c(y,2),x=f(S);nt(x,{label:"Track",get option1(){return Ka},get option2(){return ht},get value1(){return i(n).surface},set value1(g){k(n,i(n).surface=g)},get value2(){return i(n).surfaceAptitude},set value2(g){k(n,i(n).surfaceAptitude=g)},$$legacy:!0});var M=c(x,2);const C=ce(o),w=ce(()=>Object.keys(Dt));nt(M,{label:"Distance",get extraLabel(){return i(C)},get option1(){return i(w)},get option2(){return ht},get value1(){return i(n).distance},set value1(g){k(n,i(n).distance=g)},get value2(){return i(n).distanceAptitude},set value2(g){k(n,i(n).distanceAptitude=g)},$$legacy:!0});var b=c(M,2);nt(b,{label:"Style",get option1(){return za},get option2(){return ht},get value1(){return i(n).strategy},set value1(g){k(n,i(n).strategy=g)},get value2(){return i(n).strategyAptitude},set value2(g){k(n,i(n).strategyAptitude=g)},$$legacy:!0});var H=c(b,2);nt(H,{label:"Mood/Condition",get option1(){return Ya},get option2(){return Qa},get value1(){return i(n).mood},set value1(g){k(n,i(n).mood=g)},get value2(){return i(n).condition},set value2(g){k(n,i(n).condition=g)},$$legacy:!0}),p(S);var Z=c(S,4),ue=f(Z);Y(ue,{label:"Gold skills",showGrade:!1,get value(){return i(n).skills.goldRecovery},set value(g){k(n,i(n).skills.goldRecovery=g)},$$legacy:!0});var te=c(ue,2);Y(te,{label:"White skills",showGrade:!1,get value(){return i(n).skills.whiteRecovery},set value(g){k(n,i(n).skills.whiteRecovery=g)},$$legacy:!0});var Ce=c(te,2);Y(Ce,{label:"2* or below uniques",showGrade:!1,get value(){return i(n).skills.uniqueRecoveryTwoStarsOrBelow},set value(g){k(n,i(n).skills.uniqueRecoveryTwoStarsOrBelow=g)},$$legacy:!0});var de=c(Ce,2);Y(de,{label:"3* or above uniques",showGrade:!1,get value(){return i(n).skills.uniqueRecoveryThreeStarsOrAbove},set value(g){k(n,i(n).skills.uniqueRecoveryThreeStarsOrAbove=g)},$$legacy:!0}),p(Z),p(v);var $=c(v,2),U=f($);p($);var be=c($,2);{var Ve=g=>{var ae=Cr(),W=Pt(ae),ve=c(f(W),2),Te=f(ve),Pe=f(Te);J(Pe,{label:"Speed",get value(){return i(a).realStats.speed}});var Me=c(Pe,2);J(Me,{label:"Stamina",get value(){return i(a).realStats.stamina}});var ne=c(Me,2);J(ne,{label:"Power",get value(){return i(a).realStats.power}});var V=c(ne,2);J(V,{label:"Guts",get value(){return i(a).realStats.guts}});var Q=c(V,2);J(Q,{label:"Wit",get value(){return i(a).realStats.wit}}),p(Te);var re=c(Te,4),ie=f(re);J(ie,{label:"Stamina Needed",get value(){return i(a).requiredStamina}});var pe=c(ie,2),st=f(pe,!0);p(pe),p(re);var O=c(re,2),q=f(O);J(q,{label:"Skill proc rate",get value(){return i(a).skillProcRate},decimals:2,valueSuffix:"%"});var oe=c(q,2);J(oe,{label:"Rushed rate",get value(){return i(a).rushedRate},decimals:2,valueSuffix:"%"}),p(O),p(ve);var fe=c(ve,2),se=f(fe);Ut(se),Mt(),p(fe),p(W);var Ye=c(W,2);{var lt=F=>{var B=Ar(),he=f(B),X=f(he),me=f(X),Ie=c(f(me),2),Se=f(Ie,!0);p(Ie),p(me);var le=c(me,2),ge=c(f(le),2),ze=f(ge,!0);p(ge),p(le);var ke=c(le,2),Ke=c(f(ke),2),Qe=f(Ke,!0);p(Ke),p(ke);var _e=c(ke,2),De=c(f(_e),2),Xe=f(De,!0);p(De),p(_e);var Je=c(_e,2),Le=c(f(Je),2),je=f(Le,!0);p(Le),p(Je),p(X);var et=c(X,2),He=f(et),ye=c(f(He),2),Re=f(ye,!0);p(ye),p(He);var Oe=c(He,2),xe=c(f(Oe),2),ct=f(xe,!0);p(xe),p(Oe),p(et),p(he);var tt=c(he,2),we=f(tt),qe=c(f(we),2);E(qe,{label:"Starting Dash",get data(){return i(a).detailedBreakdown.startingDash}});var Ee=c(qe,2);E(Ee,{label:"phase 0 Acceleration",get data(){return i(a).detailedBreakdown.phaseZeroAcceleration}});var Fe=c(Ee,2);E(Fe,{label:"phase 0 Steady",get data(){return i(a).detailedBreakdown.phaseZeroSteady}});var Be=c(Fe,2);E(Be,{label:"phase 1 Acceleration",get data(){return i(a).detailedBreakdown.phaseOneAcceleration}});var Ze=c(Be,2);E(Ze,{label:"phase 1 Steady",get data(){return i(a).detailedBreakdown.phaseOneSteady}});var Ge=c(Ze,2);E(Ge,{label:"phase 2 Acceleration",get data(){return i(a).detailedBreakdown.phaseTwoAcceleration}});var at=c(Ge,2);E(at,{label:"phase 2, 3 Steady",get data(){return i(a).detailedBreakdown.phaseTwoAndThreeSteady}});var yt=c(at,2);E(yt,{label:"Last Spurt Acceleration",get data(){return i(a).detailedBreakdown.lastSpurtAcceleration}});var xt=c(yt,2);E(xt,{label:"Last Spurt Steady",get data(){return i(a).detailedBreakdown.lastSpurtSteady}});var wt=c(xt,2);E(wt,{label:"HP0 / Deceleration",get data(){return i(a).detailedBreakdown.hitPointsZeroDeceleration}});var At=c(wt,2);E(At,{label:"Ideal Last Spurt Acceleration",get data(){return i(a).detailedBreakdown.idealLastSpurtAcceleration}});var Wt=c(At,2);E(Wt,{label:"Ideal Last Spurt Steady",get data(){return i(a).detailedBreakdown.idealLastSpurtSteady}}),p(we),p(tt),p(B),K((Vt,Yt,zt,Kt,Qt,Xt)=>{T(Se,Vt),T(ze,Yt),T(Qe,zt),T(Xe,Kt),T(je,Qt),T(Re,Xt),T(ct,i(a).requiredStamina)},[()=>I(i(a).baseSpeed,2),()=>I(i(a).initialHitPoints,2),()=>I(i(a).hitPointsWithRecovery,2),()=>I(i(a).lastSpurtDistance,2),()=>I(i(a).lastSpurtHitPointsConsumptionCoefficient,2),()=>I(i(a).targetHitPointsForLastSpurt,2)],ce),G(F,B)};mt(Ye,F=>{i(r)&&F(lt)})}K((F,B)=>{Nt(pe,1,`${F??""} text-center text-2xl font-bold self-center`),T(st,B)},[d,l],ce),Ua(se,()=>i(r),F=>Ae(r,F)),G(g,ae)};mt(be,g=>{i(a)&&g(Ve)})}Mt(2),rt("click",U,s),G(e,u),We()}export{Dr as component};
