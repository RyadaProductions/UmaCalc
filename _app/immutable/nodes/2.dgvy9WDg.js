import"../chunks/CWj6FrbW.js";import{i as N}from"../chunks/CsWR9Nw8.js";import{ai as Oe,m as Ue,W as le,n as E,z as We,o as Ze,H as L,a8 as z,S as Ve,U as Ye,V as Se,X as se,y as X,ak as ze,ao as Ke,Y as Le,v as Pe,Z as Qe,ay as ce,as as Re,ag as xe,az as Xe,au as Y,aA as ye,i as ge,aB as Je,aC as je,ar as et,aD as tt,x as at,aE as nt,aF as rt,al as it,$ as ot,r as lt,aG as st,aH as ct,aI as ut,aJ as dt,aK as vt,aL as ft,e as y,a0 as Te,M as q,N as G,C as H,aM as pt,Q as _,P as S,R as f,L as O,aN as $e,aO as He,O as U,a7 as K,I as g,B as J,aP as mt,aQ as Ce}from"../chunks/BUfLOW2L.js";import{l as he,a as gt,s as R,e as ue,b as ht}from"../chunks/Dq4oyTj2.js";import{p as P,i as pe,b as _t}from"../chunks/k5fHhs6s.js";function St(e,a){return a}function xt(e,a,t,n){for(var r=[],i=a.length,o=0;o<i;o++)je(a[o].e,r,!0);var l=i>0&&r.length===0&&t!==null;if(l){var c=t.parentNode;et(c),c.append(t),n.clear(),Z(e,a[0].prev,a[i-1].next)}tt(r,()=>{for(var s=0;s<i;s++){var u=a[s];l||(n.delete(u.k),Z(e,u.prev,u.next)),at(u.e,!l)}})}function yt(e,a,t,n,r,i=null){var o=e,l={flags:a,items:new Map,first:null};{var c=e;o=E?le(We(c)):c.appendChild(Oe())}E&&Ze();var s=null,u=!1,d=z(()=>{var v=t();return ge(v)?v:v==null?[]:Re(v)});Ue(()=>{var v=L(d),m=v.length;if(u&&m===0)return;u=m===0;let h=!1;if(E){var b=Ve(o)===Ye;b!==(m===0)&&(o=Se(),le(o),se(!1),h=!0)}if(E){for(var M=null,x,w=0;w<m;w++){if(X.nodeType===ze&&X.data===Ke){o=X,h=!0,se(!1);break}var A=v[w],k=n(A,w);x=qe(X,l,M,null,A,k,w,r,a,t),l.items.set(k,x),M=x}m>0&&le(Se())}E||Ct(v,l,o,r,a,n,t),i!==null&&(m===0?s?Le(s):s=Pe(()=>i(o)):s!==null&&Qe(s,()=>{s=null})),h&&se(!0),L(d)}),E&&(o=X)}function Ct(e,a,t,n,r,i,o){var l=e.length,c=a.items,s=a.first,u=s,d,v=null,m=[],h=[],b,M,x,w;for(w=0;w<l;w+=1){if(b=e[w],M=i(b,w),x=c.get(M),x===void 0){var A=u?u.e.nodes_start:t;v=qe(A,a,v,v===null?a.first:v.next,b,M,w,n,r,o),c.set(M,v),m=[],h=[],u=v.next;continue}if(wt(x,b,w),(x.e.f&ce)!==0&&Le(x.e),x!==u){if(d!==void 0&&d.has(x)){if(m.length<h.length){var k=h[0],C;v=k.prev;var p=m[0],T=m[m.length-1];for(C=0;C<m.length;C+=1)we(m[C],k,t);for(C=0;C<h.length;C+=1)d.delete(h[C]);Z(a,p.prev,T.next),Z(a,v,p),Z(a,T,k),u=k,v=T,w-=1,m=[],h=[]}else d.delete(x),we(x,u,t),Z(a,x.prev,x.next),Z(a,x,v===null?a.first:v.next),Z(a,v,x),v=x;continue}for(m=[],h=[];u!==null&&u.k!==M;)(u.e.f&ce)===0&&(d??(d=new Set)).add(u),h.push(u),u=u.next;if(u===null)continue;x=u}m.push(x),v=x,u=x.next}if(u!==null||d!==void 0){for(var $=d===void 0?[]:Re(d);u!==null;)(u.e.f&ce)===0&&$.push(u),u=u.next;var I=$.length;if(I>0){var W=l===0?t:null;xt(a,$,W,c)}}xe.first=a.first&&a.first.e,xe.last=v&&v.e}function wt(e,a,t,n){Xe(e.v,a),e.i=t}function qe(e,a,t,n,r,i,o,l,c,s){var u=(c&nt)!==0,d=(c&rt)===0,v=u?d?Y(r,!1,!1):ye(r):r,m=(c&Je)===0?o:ye(o),h={i:m,v,k:i,a:null,e:null,prev:t,next:n};try{return h.e=Pe(()=>l(e,v,m,s),E),h.e.prev=t&&t.e,h.e.next=n&&n.e,t===null?a.first=h:(t.next=h,t.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function we(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,i=e.e.nodes_start;i!==n;){var o=it(i);r.before(i),i=o}}function Z(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function bt(e,a,t){var n=e==null?"":""+e;return n===""?null:n}function Ie(e,a,t,n,r,i){var o=e.__className;if(E||o!==t||o===void 0){var l=bt(t);(!E||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=t}return i}function Ee(e,a,t){if(e.multiple){if(a==null)return;if(!ge(a))return st();for(var n of e.options)n.selected=a.includes(j(n));return}for(n of e.options){var r=j(n);if(ct(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Mt(e){var a=new MutationObserver(()=>{Ee(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),lt(()=>{a.disconnect()})}function kt(e,a,t=a){var n=!0;he(e,"change",r=>{var i=r?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(i),j);else{var l=e.querySelector(i)??e.querySelector("option:not([disabled])");o=l&&j(l)}t(o)}),ot(()=>{var r=a();if(Ee(e,r,n),n&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=j(i),t(r))}e.__value=r,n=!1}),Mt(e)}function j(e){return"__value"in e?e.__value:e.value}const At=Symbol("is custom element"),Dt=Symbol("is html");function Fe(e){if(E){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;be(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;be(e,"checked",null),e.checked=r}}};e.__on_r=t,ut(t),gt()}}function be(e,a,t,n){var r=Lt(e);E&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[dt]=t),e.removeAttribute(a))}function Lt(e){return e.__attributes??(e.__attributes={[At]:e.nodeName.includes("-"),[Dt]:e.namespaceURI===vt})}function Pt(e,a,t=a){var n=ft();he(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=de(e)?ve(i):i,t(i),n&&i!==(i=a())){var o=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),(E&&e.defaultValue!==e.value||y(a)==null&&e.value)&&t(de(e)?ve(e.value):e.value),Te(()=>{var r=a();de(e)&&r===ve(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Rt(e,a,t=a){he(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(E&&e.defaultChecked!==e.checked||y(a)==null)&&t(e.checked),Te(()=>{var n=a();e.checked=!!n})}function de(e){var a=e.type;return a==="number"||a==="range"}function ve(e){return e===""?null:+e}function Tt(e){return function(...a){var t=a[0];return t.stopPropagation(),e==null?void 0:e.apply(this,a)}}function $t(e,a){var i;var t=(i=e.$$events)==null?void 0:i[a.type],n=ge(t)?t.slice():t==null?[]:[t];for(var r of n)r.call(this,a)}const fe=["S","A","B","C","D","E","F","G"],Ht=["Great","Good","Normal","Bad","Terrible"],qt=["Front","Pace","Late","End"],It=["Turf","Dirt"],Et=["Firm","Soft","Heavy","Wet"],me={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Ft={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Bt={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Gt={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},Nt={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},Ot={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},Ut={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}},Wt={stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0}};function Zt(e,a,t){return e+.8*a*t}function Vt(e,a,t){return e*(1+(a+t)/1e4)}function Yt(e,a){return e*550+a*150}function zt(e,a){let t=0;return e>0&&(t+=350*Math.pow(1.02,e-1)),a>0&&(t+=550*Math.pow(1.02,a-1)),t}function Kt(e){return Ft[e]}function Qt(e,a){return Bt[e][a]}function Xt(e){return Gt[e]}function Jt(e){return Ut[e]}function jt(e){return Nt[e]}function ea(e){return Ot[e]}function ta(e){return e*.85}function aa(e,a,t){return e*t+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function na(e,a,t,n){return 6e-4*Math.sqrt(500*e)*a*t*n}function ra(e,a,t,n,r){const i=(a-e)/t,o=(-e+Math.sqrt(e**2+2*t*(n/6-r)))/t;return Math.min(i,o)}function ia(e,a,t){return(e+a*t/2)*t}function oa(e,a,t,n,r){return 20*r*((a*t+e-n+12)**3-(e-n+12)**3)/(3*a)/144}function la(e,a,t,n,r,i,o,l,c){const s=ta(e),u=aa(e,a.wit,t),d=na(a.power,n,r,i),v=ra(s,u,d,o,l),m=ia(s,d,v),h=oa(s,d,v,e,c.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:u,acceleration:d,duration:v,distance:m,hpConsumption:h}}function sa(e,a){return e/a}function ca(e,a,t){return Math.max(e/6-(a+t),0)}function ua(e,a,t,n){return 20*t*(e-a+12)**2/144*n}function da(e,a,t,n,r){const i=t.targetSpeed,o=t.targetSpeed,l=0,c=ca(a,n.distance,t.distance),s=sa(c,i),u=ua(i,e,r.hpConsumptionCoefficient,s);return{initialSpeed:i,targetSpeed:o,acceleration:l,duration:s,distance:c,hpConsumption:u}}const _e=3;function va(e){return e*.85}function fa(e,a,t,n){return 24+6e-4*Math.sqrt(500*e)*a*t*n}function pa(e,a){return(e-_e)/a}function ma(e,a){return(_e+e)/2*a}function ga(e,a){return 20*a*e}function ha(e,a,t,n,r,i){const o=_e,l=va(e),c=fa(a,t,n,r),s=pa(l,c),u=ma(l,s),d=ga(s,i.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:l,acceleration:c,distance:u,duration:s,hpConsumption:d}}function _a(e,a,t,n){return(e*a+t.speed)*n.speed**2}function Sa(e,a){return e*a}function xa(e,a,t,n){return(e*a+t.power)*n.acceleration}function ya(e,a){return e*a}function Ca(e,a,t){return e*a*t}function wa(e,a,t,n,r){return{speed:_a(e.speed,a,t,n),stamina:Sa(e.stamina,a),power:xa(e.power,a,t,n),guts:ya(e.guts,a),wit:Ca(e.wit,a,r)}}function ba(e,a){return e/a}function Ma(e,a){return e/2-a}function ka(e,a,t,n){return 20*n*(a-e+12)**2/144*t}function Aa(e,a,t,n){const r=t.targetSpeed,i=t.targetSpeed,o=0,l=Ma(a,t.distance),c=ba(l,r),s=ka(e,r,c,n.hpConsumptionCoefficient);return{initialSpeed:r,targetSpeed:i,acceleration:o,duration:c,distance:l,hpConsumption:s}}function Da(e,a,t){return Math.max(e/3-a-t,0)}function La(e,a){return e/a}function Pa(e,a,t,n,r){return 20*t*n*(a-e+12)**2/144*r}function Ra(e){const a=e.targetSpeed,t=e.targetSpeed;return{initialSpeed:a,targetSpeed:t,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function Ta(e,a,t,n,r,i,o){const l=e.initialSpeed,c=e.targetSpeed,s=e.acceleration,u=Da(t,n,r.distance),d=La(u,c),v=Pa(a,l,i.hpConsumptionCoefficient,o,d);return{initialSpeed:l,targetSpeed:c,acceleration:s,duration:d,distance:u,hpConsumption:v}}function $a(e,a,t,n,r,i,o,l,c,s,u,d){const v=t+n+r+i+o,m=(a-v-(e/3-60)*20*l*c*(s-d+12)**2/144/s)/(20*l*c*((u-d+12)**2/144/u-(s-d+12)**2/144/s))+60,h=e/3;return Math.min(m,h)}function Ha(e){return 1+200/Math.sqrt(600*e)}function qa(e,a,t,n,r,i,o,l,c){return e-(a+t+n+r+i+o+l+c)}function Ia(e,a,t,n,r){return t/(20*n*r*(a-e+12)**2/144)}function Ea(e,a,t,n,r,i,o,l){return 20*o*l*(t-e+12)**2/144*(a/3-(n+r+i))/t}function Fa(e,a){return e*a}function Ba(e,a,t,n,r,i,o,l){const c=o.targetSpeed,s=o.targetSpeed,u=0,d=Ea(e,a,c,r.distance,i.distance,o.distance,l.hpConsumptionCoefficient,t),v=Math.min(d,n),m=Ia(e,c,v,l.hpConsumptionCoefficient,t),h=Fa(c,m);return{initialSpeed:c,targetSpeed:s,acceleration:u,duration:m,distance:h,hpConsumption:v}}function Ga(e,a,t){return a===0?e:t}function Na(e,a,t,n){return(e*(t+.01)+Math.sqrt(500*a)*n*.002)*1.05+Math.sqrt(500*a)*n*.002}function Oa(e,a,t,n){return 6e-4*Math.sqrt(500*e)*a*t*n}function Be(e,a,t){return(e-a)/t}function Ge(e,a,t){return(e+a)/2*t}function Ne(e,a,t,n,r,i){return 20*r*i*((a+t*n-e+12)**3-(a-e+12)**3)/(3*t)/144}function Ua(e,a,t,n){return{initialSpeed:-1,targetSpeed:Na(e,a.speed,t.speedCorrection.late,n.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function Wa(e,a,t,n,r,i,o,l,c,s,u){const d=Ga(c.targetSpeed,s.distance,u.targetSpeed),v=e.targetSpeed,m=Oa(t.power,n.accelerationCorrection.late,r.acceleration,i),h=Be(v,d,m),b=Ge(d,v,h),M=Ne(a,d,m,h,o.hpConsumptionCoefficient,l);return{initialSpeed:d,targetSpeed:v,acceleration:m,duration:h,distance:b,hpConsumption:M}}function Za(e,a,t,n,r,i){const o=n.targetSpeed,l=i.targetSpeed,c=i.acceleration,s=Be(l,o,c),u=Ge(o,l,s),d=Ne(e,r.initialSpeed,i.acceleration,s,a.hpConsumptionCoefficient,t);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:s,distance:u,hpConsumption:d}}function Va(e,a,t){return(-e+Math.sqrt(e**2+2*a*t))/a}function Ya(e,a,t,n,r){return e/3-(a+t+n+r)}function za(e,a,t,n,r,i){const o=i.targetSpeed,l=a,c=-1.2,s=Ya(e,t.distance,n.distance,r.distance,i.distance),u=Va(o,c,s);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:u,distance:s,hpConsumption:0}}function Ka(e,a,t,n,r,i,o){const l=e+a+t+n+r,c=i+o;return l+c}function Qa(e,a,t,n,r,i){return e+(a-t)/.8/n/(1+(r+i)/1e4)}function Xa(e){return(6.5/Math.log10(.1*e+1))**2}function Ja(e){return Math.max(100-9e3/e,20)}function ja(e){return 20-(e-2e3)/1e3}function en(e,a){return .85*e+Math.sqrt(200*a)*.001}function tn(e,a,t){return e+a*t}function an(e,a,t){return e*t+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function nn(e,a,t,n,r,i){return e>a?-.8:6e-4*Math.sqrt(500*t)*n*r*i}function rn(e,a,t){return(a-e)/t}function on(e,a,t){return(e+a)/2*t}function ln(e,a,t,n,r){return 20*r*((a-n+12)**3-(e-n+12)**3)/(3*t)/144}function sn(e,a,t,n,r,i,o){const l=tn(t.initialSpeed,t.acceleration,t.duration),c=an(e,a.wit,n.speedCorrection.middle),s=nn(l,c,a.power,n.accelerationCorrection.middle,r.acceleration,i),u=rn(l,c,s),d=on(l,c,u),v=ln(l,c,s,e,o.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:c,acceleration:s,duration:u,distance:d,hpConsumption:v}}function cn(e,a,t,n,r){return e*n+Math.sqrt(500*a)*r*.002+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function un(e,a,t,n,r,i){return e>a?-.8:6e-4*Math.sqrt(500*t)*n*r*i}function dn(e,a,t,n,r){return e/3<=a?0:(t-n)/r}function vn(e,a,t){return(e+a)/2*t}function fn(e,a,t,n,r,i){return 20*r*i*((a+t*n-e+12)**3-(a-e+12)**3)/(3*t)/144}function pn(e,a,t,n,r,i){const o=i.targetSpeed,l=cn(e,a.speed,a.wit,t.speedCorrection.late,n.speed),c=un(o,l,a.power,t.accelerationCorrection.late,n.acceleration,r);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:-1,distance:-1,hpConsumption:-1}}function mn(e,a,t,n,r,i){const o=e.initialSpeed,l=e.targetSpeed,c=e.acceleration,s=dn(t,n,l,o,c),u=vn(o,l,s),d=fn(a,o,c,s,r.hpConsumptionCoefficient,i);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:s,distance:u,hpConsumption:d}}function gn(e,a){return e/3-a}function hn(e,a){return e/a}function _n(e,a,t,n,r){return 20*a*t*(n-e+12)**2/144*r}function Sn(e,a,t,n,r,i){const o=n.targetSpeed,l=n.targetSpeed,c=0,s=gn(a,r.distance),u=hn(s,o),d=_n(e,i.hpConsumptionCoefficient,t,o,u);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:u,distance:s,hpConsumption:d}}function xn(e){const a=parseInt(e.distance),t=Kt(e.mood),n=Qt(e.surface,e.condition),r=Xt(e.distanceAptitude),i=jt(e.strategyAptitude),o=Jt(e.strategy),l=ea(e.surfaceAptitude),c=wa(e.stats,t,n,r,i),s=ja(a),u=en(s,c.guts),d=Zt(a,c.stamina,o.hpCorrection),v=Yt(e.skills.goldRecovery,e.skills.whiteRecovery),m=zt(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),h=Vt(d,v,m),b=Ja(e.stats.wit),M=Xa(c.wit),x=Ha(c.guts),w=ha(s,c.power,o.accelerationCorrection.early,r.acceleration,l,n),A=la(s,c,o.speedCorrection.early,o.accelerationCorrection.early,r.acceleration,l,a,w.distance,n),k=da(s,a,A,w,n),C=sn(s,c,A,o,r,l,n),p=Aa(s,a,C,n);let T=pn(s,c,o,r,l,p),$=Ra(T),I=Ua(s,c,o,r);const W=$a(a,h,w.hpConsumption,A.hpConsumption,k.hpConsumption,C.hpConsumption,p.hpConsumption,n.hpConsumptionCoefficient,x,$.initialSpeed,I.targetSpeed,s);T=mn(T,s,a,W,n,x),$=Ta($,s,a,W,T,n,x),I=Wa(I,s,c,o,r,l,n,x,p,T,$);const re=qa(h,w.hpConsumption,A.hpConsumption,k.hpConsumption,C.hpConsumption,p.hpConsumption,T.hpConsumption,$.hpConsumption,I.hpConsumption),ee=Ba(s,a,x,re,T,$,I,n),ie=za(a,u,T,$,I,ee),Q=Za(s,n,x,p,T,I),te=Sn(s,a,x,I,Q,n),ae=Ka(w.hpConsumption,A.hpConsumption,k.hpConsumption,C.hpConsumption,p.hpConsumption,Q.hpConsumption,te.hpConsumption),oe=Qa(c.stamina,ae,h,o.hpCorrection,v,m);return{realStats:c,baseSpeed:s,initialHitPoints:d,hitPointsWithRecovery:h,lastSpurtDistance:W,lastSpurtHitPointsConsumptionCoefficient:x,targetHitPointsForLastSpurt:ae,requiredStamina:oe,skillProcRate:b,rushedRate:M,detailedBreakdown:{startingDash:w,phaseZeroAcceleration:A,phaseZeroSteady:k,phaseOneAcceleration:C,phaseOneSteady:p,phaseTwoAcceleration:T,phaseTwoAndThreeSteady:$,lastSpurtAcceleration:I,lastSpurtSteady:ee,hitPointsZeroDeceleration:ie,idealLastSpurtAcceleration:Q,idealLastSpurtSteady:te}}}function D(e,a=0){if(e===0)return"-";const t=10**a;return(Math.sign(e)*Math.round(Math.abs(e)*t)/t).toFixed(a)}function Me(e){return me[parseInt(e.distance)]}function ke(e){return e.realStats.stamina+1<e.requiredStamina?"Not enough stamina/guts":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"Borderline":"You have enough stamina!"}function Ae(e){return e.realStats.stamina+1<e.requiredStamina?"text-red-600":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"text-orange-400":"text-green-600"}var yn=q("<option> </option>"),Cn=q('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function De(e,a){let t=P(a,"options",24,()=>[]),n=P(a,"value",12);var r=Cn();G(()=>{n(),pt(()=>{t()})}),yt(r,5,t,St,(i,o)=>{var l=yn(),c=S(l,!0);_(l);var s={};G(()=>{R(c,L(o)),s!==(s=L(o))&&(l.value=(l.__value=L(o))??"")}),H(i,l)}),_(r),kt(r,n),H(e,r)}var wn=q('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function ne(e,a){let t=P(a,"label",8),n=P(a,"extraLabel",8,""),r=P(a,"option1",24,()=>[]),i=P(a,"value1",12),o=P(a,"option2",24,()=>[]),l=P(a,"value2",12);var c=wn(),s=S(c),u=S(s,!0);_(s);var d=f(s,2),v=S(d,!0);_(d);var m=f(d,2),h=S(m);De(h,{get options(){return r()},get value(){return i()},set value(M){i(M)},$$legacy:!0});var b=f(h,2);De(b,{get options(){return o()},get value(){return l()},set value(M){l(M)},$$legacy:!0}),_(m),_(c),G(()=>{R(u,t()),R(v,n())}),H(e,c)}var bn=q("<span> </span>"),Mn=q('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function B(e,a){O(a,!1);let t=P(a,"label",8),n=P(a,"value",12),r=P(a,"showGrade",8,!0),i=P(a,"max",8,1200),o=0,l=Y(""),c=Y(""),s=Y();const u=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]];let d={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function v(){var C,p;(C=L(s))==null||C.focus(),(p=L(s))==null||p.select()}$e(()=>(g(n()),g(i()),L(l)),()=>{var C;n()<o&&n(o),n()>i()&&n(i()),K(l,((C=u.find(([p])=>n()>=p))==null?void 0:C[1])??""),K(c,d[L(l)]??"text-gray-800")}),He(),N();var m=Mn(),h=S(m),b=S(h),M=S(b,!0);_(b);var x=f(b,2),w=S(x);{var A=C=>{var p=bn(),T=S(p,!0);_(p),G(()=>{Ie(p,1,`${L(c)??""} text-xl font-bold`),R(T,L(l))}),H(C,p)};pe(w,C=>{r()&&C(A)})}var k=f(w,2);Fe(k),_t(k,C=>K(s,C),()=>L(s)),_(x),_(h),_(m),G(()=>R(M,t())),Pt(k,n),ue("click",k,Tt(function(C){$t.call(this,a,C)})),ue("focus",k,v),ue("click",m,v),H(e,m),U()}var kn=q('<div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div>');function An(e,a){O(a,!1);let t=P(a,"inputData",12);N();var n=kn(),r=S(n),i=S(r);B(i,{label:"Speed",get value(){return t().stats.speed},set value(p){t(t().stats.speed=p,!0)},$$legacy:!0});var o=f(i,2);B(o,{label:"Stamina",get value(){return t().stats.stamina},set value(p){t(t().stats.stamina=p,!0)},$$legacy:!0});var l=f(o,2);B(l,{label:"Power",get value(){return t().stats.power},set value(p){t(t().stats.power=p,!0)},$$legacy:!0});var c=f(l,2);B(c,{label:"Guts",get value(){return t().stats.guts},set value(p){t(t().stats.guts=p,!0)},$$legacy:!0});var s=f(c,2);B(s,{label:"Wit",get value(){return t().stats.wit},set value(p){t(t().stats.wit=p,!0)},$$legacy:!0}),_(r);var u=f(r,2),d=S(u);ne(d,{label:"Track",get option1(){return It},get option2(){return fe},get value1(){return t().surface},set value1(p){t(t().surface=p,!0)},get value2(){return t().surfaceAptitude},set value2(p){t(t().surfaceAptitude=p,!0)},$$legacy:!0});var v=f(d,2);const m=z(()=>(g(Me),g(t()),y(()=>Me(t())))),h=z(()=>(g(me),y(()=>Object.keys(me))));ne(v,{label:"Distance",get extraLabel(){return L(m)},get option1(){return L(h)},get option2(){return fe},get value1(){return t().distance},set value1(p){t(t().distance=p,!0)},get value2(){return t().distanceAptitude},set value2(p){t(t().distanceAptitude=p,!0)},$$legacy:!0});var b=f(v,2);ne(b,{label:"Style",get option1(){return qt},get option2(){return fe},get value1(){return t().strategy},set value1(p){t(t().strategy=p,!0)},get value2(){return t().strategyAptitude},set value2(p){t(t().strategyAptitude=p,!0)},$$legacy:!0});var M=f(b,2);ne(M,{label:"Mood/Condition",get option1(){return Ht},get option2(){return Et},get value1(){return t().mood},set value1(p){t(t().mood=p,!0)},get value2(){return t().condition},set value2(p){t(t().condition=p,!0)},$$legacy:!0}),_(u);var x=f(u,4),w=S(x);B(w,{label:"Gold skills",showGrade:!1,get value(){return t().skills.goldRecovery},set value(p){t(t().skills.goldRecovery=p,!0)},$$legacy:!0});var A=f(w,2);B(A,{label:"White skills",showGrade:!1,get value(){return t().skills.whiteRecovery},set value(p){t(t().skills.whiteRecovery=p,!0)},$$legacy:!0});var k=f(A,2);B(k,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return t().skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(p){t(t().skills.uniqueRecoveryLevelTwoStarsOrBelow=p,!0)},$$legacy:!0});var C=f(k,2);B(C,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return t().skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(p){t(t().skills.uniqueRecoveryLevelThreeStarsOrAbove=p,!0)},$$legacy:!0}),_(x),_(n),H(e,n),U()}var Dn=q('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function V(e,a){O(a,!1);let t=P(a,"label",8),n=P(a,"value",8),r=P(a,"decimals",8,0),i=P(a,"valueSuffix",8,"");N();var o=Dn(),l=S(o),c=S(l,!0);_(l);var s=f(l,2),u=S(s);_(s),_(o),G(d=>{R(c,t()),R(u,`${d??""}${i()??""}`)},[()=>(g(D),g(n()),g(r()),y(()=>D(n(),r())))],z),H(e,o),U()}var Ln=q('<h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="grid grid-cols-5"><!> <!> <!> <!> <!></div>',1);function Pn(e,a){O(a,!1);let t=P(a,"stats",8);N();var n=Ln(),r=f(J(n),2),i=S(r);V(i,{label:"Speed",get value(){return g(t()),y(()=>t().speed)}});var o=f(i,2);V(o,{label:"Stamina",get value(){return g(t()),y(()=>t().stamina)}});var l=f(o,2);V(l,{label:"Power",get value(){return g(t()),y(()=>t().power)}});var c=f(l,2);V(c,{label:"Guts",get value(){return g(t()),y(()=>t().guts)}});var s=f(c,2);V(s,{label:"Wit",get value(){return g(t()),y(()=>t().wit)}}),_(r),H(e,n),U()}var Rn=q('<h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div>',1);function Tn(e,a){O(a,!1);let t=P(a,"result",8);N();var n=Rn(),r=f(J(n),2),i=S(r);V(i,{label:"Stamina Needed",get value(){return g(t()),y(()=>t().requiredStamina)}});var o=f(i,2),l=S(o,!0);_(o),_(r);var c=f(r,2),s=S(c);V(s,{label:"Skill proc rate",get value(){return g(t()),y(()=>t().skillProcRate)},decimals:2,valueSuffix:"%"});var u=f(s,2);V(u,{label:"Rushed rate",get value(){return g(t()),y(()=>t().rushedRate)},decimals:2,valueSuffix:"%"}),_(c),G((d,v)=>{Ie(o,1,`${d??""} text-center text-2xl font-bold self-center`),R(l,v)},[()=>(g(Ae),g(t()),y(()=>Ae(t()))),()=>(g(ke),g(t()),y(()=>ke(t())))],z),H(e,n),U()}var $n=q('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function F(e,a){O(a,!1);let t=P(a,"label",8),n=P(a,"data",8);N();var r=$n(),i=S(r),o=S(i,!0);_(i);var l=f(i,2),c=S(l,!0);_(l);var s=f(l,2),u=S(s,!0);_(s);var d=f(s,2),v=S(d,!0);_(d);var m=f(d,2),h=S(m,!0);_(m);var b=f(m,2),M=S(b,!0);_(b);var x=f(b,2),w=S(x,!0);_(x),_(r),G((A,k,C,p,T,$)=>{R(o,t()),R(c,A),R(u,k),R(v,C),R(h,p),R(M,T),R(w,$)},[()=>(g(D),g(n()),y(()=>D(n().initialSpeed,3))),()=>(g(D),g(n()),y(()=>D(n().targetSpeed,3))),()=>(g(D),g(n()),y(()=>D(n().acceleration,3))),()=>(g(D),g(n()),y(()=>D(n().duration,3))),()=>(g(D),g(n()),y(()=>D(n().distance,2))),()=>(g(D),g(n()),y(()=>D(n().hpConsumption,2)))],z),H(e,r),U()}var Hn=q('<div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>');function qn(e,a){O(a,!1);let t=P(a,"result",8);N();var n=Hn(),r=S(n),i=S(r),o=f(S(i),2);F(o,{label:"Starting Dash",get data(){return g(t()),y(()=>t().detailedBreakdown.startingDash)}});var l=f(o,2);F(l,{label:"Early Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseZeroAcceleration)}});var c=f(l,2);F(c,{label:"Early Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseZeroSteady)}});var s=f(c,2);F(s,{label:"Middle Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseOneAcceleration)}});var u=f(s,2);F(u,{label:"Middle Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseOneSteady)}});var d=f(u,2);F(d,{label:"Late Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseTwoAcceleration)}});var v=f(d,2);F(v,{label:"Late Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseTwoAndThreeSteady)}});var m=f(v,2);F(m,{label:"Last Spurt Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.lastSpurtAcceleration)}});var h=f(m,2);F(h,{label:"Last Spurt Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.lastSpurtSteady)}});var b=f(h,2);F(b,{label:"HP0 / Deceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.hitPointsZeroDeceleration)}});var M=f(b,4);F(M,{label:"Ideal Last Spurt Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.idealLastSpurtAcceleration)}});var x=f(M,2);F(x,{label:"Ideal Last Spurt Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.idealLastSpurtSteady)}}),_(i),_(r),_(n),H(e,n),U()}var In=q('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-4"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div></div></div>');function En(e,a){O(a,!1);let t=P(a,"result",8);N();var n=In(),r=S(n),i=S(r),o=S(i),l=f(S(o),2),c=S(l,!0);_(l),_(o);var s=f(o,2),u=f(S(s),2),d=S(u,!0);_(u),_(s);var v=f(s,2),m=f(S(v),2),h=S(m,!0);_(m),_(v),_(i);var b=f(i,2),M=S(b),x=f(S(M),2),w=S(x,!0);_(x),_(M);var A=f(M,2),k=f(S(A),2),C=S(k,!0);_(k),_(A);var p=f(A,2),T=f(S(p),2),$=S(T,!0);_(T),_(p);var I=f(p,2),W=f(S(I),2),re=S(W,!0);_(W),_(I),_(b),_(r),_(n),G((ee,ie,Q,te,ae,oe)=>{R(c,ee),R(d,ie),R(h,Q),R(w,te),R(C,(g(t()),y(()=>t().requiredStamina))),R($,ae),R(re,oe)},[()=>(g(D),g(t()),y(()=>D(t().baseSpeed,2))),()=>(g(D),g(t()),y(()=>D(t().initialHitPoints,2))),()=>(g(D),g(t()),y(()=>D(t().hitPointsWithRecovery,2))),()=>(g(D),g(t()),y(()=>D(t().targetHitPointsForLastSpurt,2))),()=>(g(D),g(t()),y(()=>D(t().lastSpurtDistance,2))),()=>(g(D),g(t()),y(()=>D(t().lastSpurtHitPointsConsumptionCoefficient,2)))],z),H(e,n),U()}var Fn=q("<!> <!>",1),Bn=q('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><!> <!></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Gn=q('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <!> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Vn(e,a){O(a,!1);let t=Y(),n=Y(!1),r=Y({...Wt});$e(()=>L(r),()=>{K(t,xn(L(r)))}),He(),N();var i=Gn();ht(s=>{mt.title="UmaCalc"});var o=f(J(i),2);An(o,{get inputData(){return L(r)},set inputData(s){K(r,s)},$$legacy:!0});var l=f(o,2);{var c=s=>{var u=Bn(),d=J(u),v=S(d),m=S(v);Pn(m,{get stats(){return L(t),y(()=>L(t).realStats)}});var h=f(m,2);Tn(h,{get result(){return L(t)}}),_(v);var b=f(v,2),M=S(b);Fe(M),Ce(),_(b),_(d);var x=f(d,2);{var w=A=>{var k=Fn(),C=J(k);En(C,{get result(){return L(t)}});var p=f(C,2);qn(p,{get result(){return L(t)}}),H(A,k)};pe(x,A=>{L(n)&&A(w)})}Rt(M,()=>L(n),A=>K(n,A)),H(s,u)};pe(l,s=>{L(t)&&s(c)})}Ce(2),H(e,i),U()}export{Vn as component};
