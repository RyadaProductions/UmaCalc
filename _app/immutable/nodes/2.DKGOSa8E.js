import"../chunks/CWj6FrbW.js";import{i as Dt}from"../chunks/CLxuRfqj.js";import{a3 as qe,a4 as Be,a as Gt,a5 as he,a6 as Ot,m as Ht,ac as pe,n as L,z as Pt,o as Rt,G as n,K as be,al as Ut,am as qt,an as We,ab as fe,y as H,a8 as Bt,af as Wt,ao as je,v as et,ap as Vt,ay as ve,aj as tt,az as Yt,au as S,aA as Ve,i as rt,aB as Kt,aC as zt,ai as Xt,aD as Jt,x as Zt,aE as Qt,aF as jt,aa as er,ar as tr,r as rr,aG as ar,aH as nr,aI as sr,aJ as or,aK as ir,aL as lr,e as ur,as as dr,Y as ye,Z as me,C as ge,aM as cr,a0 as i,$ as l,X as pr,a1 as p,B as fr,_ as vr,aN as _r,aO as w,I as P}from"../chunks/Cc085nJr.js";import{s as I,a as xr}from"../chunks/D1oaAkEQ.js";import{p as Ye}from"../chunks/qijHiQYO.js";let Ke=!1;function at(){Ke||(Ke=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function hr(e){var t=Gt,r=he;qe(null),Be(null);try{return e()}finally{qe(t),Be(r)}}function nt(e,t,r,s=r){e.addEventListener(t,()=>hr(r));const a=e.__on_r;a?e.__on_r=()=>{a(),s(!0)}:e.__on_r=()=>s(!0),at()}function br(e,t){return t}function mr(e,t,r,s){for(var a=[],o=t.length,d=0;d<o;d++)zt(t[d].e,a,!0);var v=o>0&&a.length===0&&r!==null;if(v){var m=r.parentNode;Xt(m),m.append(r),s.clear(),k(e,t[0].prev,t[o-1].next)}Jt(a,()=>{for(var h=0;h<o;h++){var c=t[h];v||(s.delete(c.k),k(e,c.prev,c.next)),Zt(c.e,!v)}})}function gr(e,t,r,s,a,o=null){var d=e,v={flags:t,items:new Map,first:null};{var m=e;d=L?pe(Pt(m)):m.appendChild(Ot())}L&&Rt();var h=null,c=!1,y=be(()=>{var f=r();return rt(f)?f:f==null?[]:tt(f)});Ht(()=>{var f=n(y),b=f.length;if(c&&b===0)return;c=b===0;let x=!1;if(L){var T=Ut(d)===qt;T!==(b===0)&&(d=We(),pe(d),fe(!1),x=!0)}if(L){for(var E=null,_,g=0;g<b;g++){if(H.nodeType===Bt&&H.data===Wt){d=H,x=!0,fe(!1);break}var N=f[g],$=s(N,g);_=st(H,v,E,null,N,$,g,a,t,r),v.items.set($,_),E=_}b>0&&pe(We())}L||yr(f,v,d,a,t,s,r),o!==null&&(b===0?h?je(h):h=et(()=>o(d)):h!==null&&Vt(h,()=>{h=null})),x&&fe(!0),n(y)}),L&&(d=H)}function yr(e,t,r,s,a,o,d){var v=e.length,m=t.items,h=t.first,c=h,y,f=null,b=[],x=[],T,E,_,g;for(g=0;g<v;g+=1){if(T=e[g],E=o(T,g),_=m.get(E),_===void 0){var N=c?c.e.nodes_start:r;f=st(N,t,f,f===null?t.first:f.next,T,E,g,s,a,d),m.set(E,f),b=[],x=[],c=f.next;continue}if(wr(_,T,g),(_.e.f&ve)!==0&&je(_.e),_!==c){if(y!==void 0&&y.has(_)){if(b.length<x.length){var $=x[0],C;f=$.prev;var D=b[0],G=b[b.length-1];for(C=0;C<b.length;C+=1)ze(b[C],$,r);for(C=0;C<x.length;C+=1)y.delete(x[C]);k(t,D.prev,G.next),k(t,f,D),k(t,G,$),c=$,f=G,g-=1,b=[],x=[]}else y.delete(_),ze(_,c,r),k(t,_.prev,_.next),k(t,_,f===null?t.first:f.next),k(t,f,_),f=_;continue}for(b=[],x=[];c!==null&&c.k!==E;)(c.e.f&ve)===0&&(y??(y=new Set)).add(c),x.push(c),c=c.next;if(c===null)continue;_=c}b.push(_),f=_,c=_.next}if(c!==null||y!==void 0){for(var F=y===void 0?[]:tt(y);c!==null;)(c.e.f&ve)===0&&F.push(c),c=c.next;var V=F.length;if(V>0){var O=v===0?r:null;mr(t,F,O,m)}}he.first=t.first&&t.first.e,he.last=f&&f.e}function wr(e,t,r,s){Yt(e.v,t),e.i=r}function st(e,t,r,s,a,o,d,v,m,h){var c=(m&Qt)!==0,y=(m&jt)===0,f=c?y?S(a,!1,!1):Ve(a):a,b=(m&Kt)===0?d:Ve(d),x={i:b,v:f,k:o,a:null,e:null,prev:r,next:s};try{return x.e=et(()=>v(e,f,b,h),L),x.e.prev=r&&r.e,x.e.next=s&&s.e,r===null?t.first=x:(r.next=x,r.e.next=x.e),s!==null&&(s.prev=x,s.e.prev=x.e),x}finally{}}function ze(e,t,r){for(var s=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,o=e.e.nodes_start;o!==s;){var d=er(o);a.before(o),o=d}}function k(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ot(e,t,r){if(e.multiple){if(t==null)return;if(!rt(t))return ar();for(var s of e.options)s.selected=t.includes(B(s));return}for(s of e.options){var a=B(s);if(nr(a,t)){s.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Mr(e){var t=new MutationObserver(()=>{ot(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),rr(()=>{t.disconnect()})}function $r(e,t,r=t){var s=!0;nt(e,"change",a=>{var o=a?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(o),B);else{var v=e.querySelector(o)??e.querySelector("option:not([disabled])");d=v&&B(v)}r(d)}),tr(()=>{var a=t();if(ot(e,a,s),s&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=B(o),r(a))}e.__value=a,s=!1}),Mr(e)}function B(e){return"__value"in e?e.__value:e.value}const Cr=Symbol("is custom element"),Er=Symbol("is html");function R(e){if(L){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;Xe(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var a=e.checked;Xe(e,"checked",null),e.checked=a}}};e.__on_r=r,sr(r),at()}}function Xe(e,t,r,s){var a=Ar(e);L&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[or]=r),e.removeAttribute(t))}function Ar(e){return e.__attributes??(e.__attributes={[Cr]:e.nodeName.includes("-"),[Er]:e.namespaceURI===ir})}function U(e,t,r=t){var s=lr();nt(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=_e(e)?xe(o):o,r(o),s&&o!==(o=t())){var d=e.selectionStart,v=e.selectionEnd;e.value=o??"",v!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(v,e.value.length))}}),(L&&e.defaultValue!==e.value||ur(t)==null&&e.value)&&r(_e(e)?xe(e.value):e.value),dr(()=>{var a=t();_e(e)&&a===xe(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function _e(e){var t=e.type;return t==="number"||t==="range"}function xe(e){return e===""?null:+e}const A=["S","A","B","C","D","E","F","G"],Sr=["Great","Good","Normal","Bad","Terrible"],Lr=["Front","Pace","Late","End"],Tr=["Turf","Dirt"],kr=["Firm","Soft","Heavy","Wet"],Je={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Nr={great:1.04,good:1.02,normal:1,bad:.98,terrible:.96},Fr={turf:{heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},firm:{speed:0,power:0,hpConsumptionCoefficient:1},soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},dirt:{heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},firm:{speed:0,power:-100,hpConsumptionCoefficient:1},soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},it={s:{speed:1.05,acceleration:1},a:{speed:1,acceleration:1},b:{speed:.9,acceleration:1},c:{speed:.8,acceleration:1},d:{speed:.6,acceleration:1},e:{speed:.4,acceleration:.6},f:{speed:.2,acceleration:.5},g:{speed:.1,acceleration:.4}};function q(e){const t=e.toLowerCase(),r=Nr[t];if(r==null)throw new Error(`Unknown mood "${e}"`);return r}function Ze(e,t){const r=Fr[e.toLowerCase()];if(!r)throw new Error(`Unknown surface "${e}"`);const s=r[t.toLowerCase()];if(!s)throw new Error(`Unknown condition "${t}"`);return s}function Qe(e,t){const r=t[e.toLowerCase()];if(!r)throw new Error(`No aptitude for distance "${e}"`);const s=it[r.toLowerCase()];if(!s)throw new Error(`No modifiers for aptitude "${r}"`);return s}function Ir(e,t){const r=t[e.toLowerCase()];if(!r)throw new Error(`No aptitude for strategy "${e}"`);const s=it[r.toLowerCase()];if(!s)throw new Error(`No modifiers for aptitude "${r}"`);return s}function Dr(e,t,r,s){return W((e*t+r.speed)*s.speed**2)}function Gr(e,t){return W(e*t)}function Or(e,t,r,s){return W((e*t+r.power)*s.acceleration)}function Hr(e,t){return W(e*t)}function Pr(e,t,r){return W(e*t*r)}function W(e,t=0){const r=10**t;return Math.sign(e)*Math.round(Math.abs(e)*r)/r}var Rr=ye("<option> </option>"),Ur=ye('<select class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary"></select>');function M(e,t){let r=Ye(t,"options",24,()=>[]),s=Ye(t,"value",12);var a=Ur();me(()=>{s(),cr(()=>{r()})}),gr(a,5,r,br,(o,d)=>{var v=Rr(),m=l(v,!0);i(v);var h={};me(()=>{I(m,n(d)),h!==(h=n(d))&&(v.value=(v.__value=n(d))??"")}),ge(o,v)}),i(a),$r(a,s),ge(e,a)}var qr=ye('<h1 class="text-3xl font-semibold text-center mb-6">UmaCalc</h1> <div class="bg-surface w-4/5 mx-auto"><table class="table-auto w-4/5 mx-auto border-separate border-spacing-y-4"><tbody><tr><th class="px-4 pt-2 text-center">Speed</th><th class="px-4 pt-2 text-center">Stamina</th><th class="px-4 pt-2 text-center">Power</th><th class="px-4 pt-2 text-center">Guts</th><th class="px-4 pt-2 text-center">Wit</th></tr><tr><td class="px-4 pb-2 "><input class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary" type="number" name="speed" min="0" max="1200"/></td><td class="px-4 pb-2 "><input class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary" type="number" name="stamina" min="0" max="1200"/></td><td class="px-4 pb-2 "><input class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary" type="number" name="power" min="0" max="1200"/></td><td class="px-4 pb-2 "><input class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary" type="number" name="guts" min="0" max="1200"/></td><td class="px-4 pb-2 "><input class="w-full border border-border rounded px-3 py-2 bg-surface text-text-primary" type="number" name="wit" min="0" max="1200"/></td></tr></tbody><tbody><tr><th class="px-4 pt-2 text-center">Turf</th><th class="px-4 pt-2 text-center">Dirt</th></tr><tr><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td></tr></tbody><tbody><tr><th class="px-4 pt-2 text-center">Sprint</th><th class="px-4 pt-2 text-center">Mile</th><th class="px-4 pt-2 text-center">Medium</th><th class="px-4 pt-2 text-center">Long</th></tr><tr><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td></tr></tbody><tbody><tr><th class="px-4 pt-2 text-center">Front</th><th class="px-4 pt-2 text-center">Pace</th><th class="px-4 pt-2 text-center">Late</th><th class="px-4 pt-2 text-center">End</th></tr><tr><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td></tr></tbody><tbody><tr><th class="px-4 pt-2 text-center">Mood</th><th class="px-4 pt-2 text-center">Strategy</th></tr><tr><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td></tr></tbody><tbody><tr><th class="px-4 pt-2 text-center">Surface</th><th class="px-4 pt-2 text-center">Condition</th><th class="px-4 pt-2 text-center">Distance</th><th class="px-4 pt-2 text-center">Length</th></tr><tr><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2"><!></td><td class="px-4 pb-2 text-center"> </td></tr></tbody></table></div> <h1 class="text-3xl font-semibold text-center mb-6">Results</h1> <div class="bg-surface w-4/5 mx-auto"><table class="table-auto w-4/5 mx-auto border-separate border-spacing-y-4"><tbody><tr><th class="px-4 pt-2 text-center">Speed</th><th class="px-4 pt-2 text-center">Stamina</th><th class="px-4 pt-2 text-center">Power</th><th class="px-4 pt-2 text-center">Guts</th><th class="px-4 pt-2 text-center">Wit</th></tr><tr><td class="px-4 pb-2 text-center"> </td><td class="px-4 pb-2 text-center"> </td><td class="px-4 pb-2 text-center"> </td><td class="px-4 pb-2 text-center"> </td><td class="px-4 pb-2 text-center"> </td></tr></tbody></table></div>',1);function zr(e,t){pr(t,!1);let r=S({speed:1200,stamina:800,power:1e3,guts:400,wit:1e3}),s=S({turf:"A",dirt:"A"}),a=S({sprint:"S",mile:"A",medium:"A",long:"A"}),o=S({front:"A",pace:"A",late:"A",end:"A"}),d=S("Great"),v=S("Front"),m=S("Turf"),h=S("Firm"),c=S("2000");function y(){return Je[parseInt(n(c))]}function f(){return Dr(n(r).speed,q(n(d)),Ze(n(m),n(h)),Qe(y(),n(a)))}function b(){return Gr(n(r).stamina,q(n(d)))}function x(){return Or(n(r).power,q(n(d)),Ze(n(m),n(h)),Qe(y(),n(a)))}function T(){return Hr(n(r).guts,q(n(d)))}function E(){return Pr(n(r).wit,q(n(d)),Ir(n(v),n(o)).acceleration)}Dt();var _=qr();xr(u=>{_r.title="UmaCalc"});var g=p(fr(_),2),N=l(g),$=l(N),C=p(l($)),D=l(C),G=l(D);R(G),i(D);var F=p(D),V=l(F);R(V),i(F);var O=p(F),we=l(O);R(we),i(O);var Y=p(O),Me=l(Y);R(Me),i(Y);var $e=p(Y),Ce=l($e);R(Ce),i($e),i(C),i($);var K=p($),Ee=p(l(K)),z=l(Ee),lt=l(z);M(lt,{get options(){return A},get value(){return n(s).turf},set value(u){w(s,n(s).turf=u)},$$legacy:!0}),i(z);var Ae=p(z),ut=l(Ae);M(ut,{get options(){return A},get value(){return n(s).dirt},set value(u){w(s,n(s).dirt=u)},$$legacy:!0}),i(Ae),i(Ee),i(K);var X=p(K),Se=p(l(X)),J=l(Se),dt=l(J);M(dt,{get options(){return A},get value(){return n(a).sprint},set value(u){w(a,n(a).sprint=u)},$$legacy:!0}),i(J);var Z=p(J),ct=l(Z);M(ct,{get options(){return A},get value(){return n(a).mile},set value(u){w(a,n(a).mile=u)},$$legacy:!0}),i(Z);var Q=p(Z),pt=l(Q);M(pt,{get options(){return A},get value(){return n(a).medium},set value(u){w(a,n(a).medium=u)},$$legacy:!0}),i(Q);var Le=p(Q),ft=l(Le);M(ft,{get options(){return A},get value(){return n(a).long},set value(u){w(a,n(a).long=u)},$$legacy:!0}),i(Le),i(Se),i(X);var j=p(X),Te=p(l(j)),ee=l(Te),vt=l(ee);M(vt,{get options(){return A},get value(){return n(o).front},set value(u){w(o,n(o).front=u)},$$legacy:!0}),i(ee);var te=p(ee),_t=l(te);M(_t,{get options(){return A},get value(){return n(o).pace},set value(u){w(o,n(o).pace=u)},$$legacy:!0}),i(te);var re=p(te),xt=l(re);M(xt,{get options(){return A},get value(){return n(o).late},set value(u){w(o,n(o).late=u)},$$legacy:!0}),i(re);var ke=p(re),ht=l(ke);M(ht,{get options(){return A},get value(){return n(o).end},set value(u){w(o,n(o).end=u)},$$legacy:!0}),i(ke),i(Te),i(j);var ae=p(j),Ne=p(l(ae)),ne=l(Ne),bt=l(ne);M(bt,{get options(){return Sr},get value(){return n(d)},set value(u){P(d,u)},$$legacy:!0}),i(ne);var Fe=p(ne),mt=l(Fe);M(mt,{get options(){return Lr},get value(){return n(v)},set value(u){P(v,u)},$$legacy:!0}),i(Fe),i(Ne),i(ae);var Ie=p(ae),De=p(l(Ie)),se=l(De),gt=l(se);M(gt,{get options(){return Tr},get value(){return n(m)},set value(u){P(m,u)},$$legacy:!0}),i(se);var oe=p(se),yt=l(oe);M(yt,{get options(){return kr},get value(){return n(h)},set value(u){P(h,u)},$$legacy:!0}),i(oe);var ie=p(oe),wt=l(ie);const Mt=be(()=>Object.keys(Je));M(wt,{get options(){return n(Mt)},get value(){return n(c)},set value(u){P(c,u)},$$legacy:!0}),i(ie);var Ge=p(ie),$t=l(Ge,!0);i(Ge),i(De),i(Ie),i(N),i(g);var Oe=p(g,4),He=l(Oe),Pe=l(He),Re=p(l(Pe)),le=l(Re),Ct=l(le,!0);i(le);var ue=p(le),Et=l(ue,!0);i(ue);var de=p(ue),At=l(de,!0);i(de);var ce=p(de),St=l(ce,!0);i(ce);var Ue=p(ce),Lt=l(Ue,!0);i(Ue),i(Re),i(Pe),i(He),i(Oe),me((u,Tt,kt,Nt,Ft,It)=>{I($t,u),I(Ct,Tt),I(Et,kt),I(At,Nt),I(St,Ft),I(Lt,It)},[y,f,b,x,T,E],be),U(G,()=>n(r).speed,u=>w(r,n(r).speed=u)),U(V,()=>n(r).stamina,u=>w(r,n(r).stamina=u)),U(we,()=>n(r).power,u=>w(r,n(r).power=u)),U(Me,()=>n(r).guts,u=>w(r,n(r).guts=u)),U(Ce,()=>n(r).wit,u=>w(r,n(r).wit=u)),ge(e,_),vr()}export{zr as component};
