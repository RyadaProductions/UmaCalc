import"../chunks/CWj6FrbW.js";import{i as oe}from"../chunks/D7yyfmma.js";import{ai as Xt,m as Jt,W as _e,n as I,z as jt,o as ea,H as i,a8 as z,S as ta,U as aa,V as ct,X as Se,y as ee,ak as na,ao as ra,Y as St,v as xt,Z as ia,ay as xe,as as yt,ag as ut,az as oa,au as K,aA as dt,i as De,aB as la,aC as sa,ar as ca,aD as ua,x as da,aE as va,aF as fa,al as pa,$ as ma,r as ha,aG as ga,aH as _a,aI as Sa,aJ as xa,aK as ya,aL as Ca,e as x,a0 as Ct,L as le,aM as wt,aN as bt,M as G,N as O,C as B,O as se,R as v,P as h,a7 as te,I as b,Q as m,aO as wa,B as ye,aP as ba,aQ as H,aR as vt}from"../chunks/JMHaOCld.js";import{l as Le,a as Ma,e as Ce,s as P,b as ka}from"../chunks/C7iduzYR.js";import{p as T,i as ke,b as Aa}from"../chunks/BMDX70Gu.js";function Da(e,t){return t}function La(e,t,a,r){for(var n=[],o=t.length,l=0;l<o;l++)sa(t[l].e,n,!0);var s=o>0&&n.length===0&&a!==null;if(s){var u=a.parentNode;ca(u),u.append(a),r.clear(),W(e,t[0].prev,t[o-1].next)}ua(n,()=>{for(var c=0;c<o;c++){var d=t[c];s||(r.delete(d.k),W(e,d.prev,d.next)),da(d.e,!s)}})}function Pa(e,t,a,r,n,o=null){var l=e,s={flags:t,items:new Map,first:null};{var u=e;l=I?_e(jt(u)):u.appendChild(Xt())}I&&ea();var c=null,d=!1,f=z(()=>{var p=a();return De(p)?p:p==null?[]:yt(p)});Jt(()=>{var p=i(f),g=p.length;if(d&&g===0)return;d=g===0;let _=!1;if(I){var A=ta(l)===aa;A!==(g===0)&&(l=ct(),_e(l),Se(!1),_=!0)}if(I){for(var L=null,y,w=0;w<g;w++){if(ee.nodeType===na&&ee.data===ra){l=ee,_=!0,Se(!1);break}var $=p[w],D=r($,w);y=Mt(ee,s,L,null,$,D,w,n,t,a),s.items.set(D,y),L=y}g>0&&_e(ct())}I||Ra(p,s,l,n,t,r,a),o!==null&&(g===0?c?St(c):c=xt(()=>o(l)):c!==null&&ia(c,()=>{c=null})),_&&Se(!0),i(f)}),I&&(l=ee)}function Ra(e,t,a,r,n,o,l){var s=e.length,u=t.items,c=t.first,d=c,f,p=null,g=[],_=[],A,L,y,w;for(w=0;w<s;w+=1){if(A=e[w],L=o(A,w),y=u.get(L),y===void 0){var $=d?d.e.nodes_start:a;p=Mt($,t,p,p===null?t.first:p.next,A,L,w,r,n,l),u.set(L,p),g=[],_=[],d=p.next;continue}if(Ta(y,A,w),(y.e.f&xe)!==0&&St(y.e),y!==d){if(f!==void 0&&f.has(y)){if(g.length<_.length){var D=_[0],C;p=D.prev;var k=g[0],R=g[g.length-1];for(C=0;C<g.length;C+=1)ft(g[C],D,a);for(C=0;C<_.length;C+=1)f.delete(_[C]);W(t,k.prev,R.next),W(t,p,k),W(t,R,D),d=D,p=R,w-=1,g=[],_=[]}else f.delete(y),ft(y,d,a),W(t,y.prev,y.next),W(t,y,p===null?t.first:p.next),W(t,p,y),p=y;continue}for(g=[],_=[];d!==null&&d.k!==L;)(d.e.f&xe)===0&&(f??(f=new Set)).add(d),_.push(d),d=d.next;if(d===null)continue;y=d}g.push(y),p=y,d=y.next}if(d!==null||f!==void 0){for(var q=f===void 0?[]:yt(f);d!==null;)(d.e.f&xe)===0&&q.push(d),d=d.next;var E=q.length;if(E>0){var Z=s===0?a:null;La(t,q,Z,u)}}ut.first=t.first&&t.first.e,ut.last=p&&p.e}function Ta(e,t,a,r){oa(e.v,t),e.i=a}function Mt(e,t,a,r,n,o,l,s,u,c){var d=(u&va)!==0,f=(u&fa)===0,p=d?f?K(n,!1,!1):dt(n):n,g=(u&la)===0?l:dt(l),_={i:g,v:p,k:o,a:null,e:null,prev:a,next:r};try{return _.e=xt(()=>s(e,p,g,c),I),_.e.prev=a&&a.e,_.e.next=r&&r.e,a===null?t.first=_:(a.next=_,a.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function ft(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,o=e.e.nodes_start;o!==r;){var l=pa(o);n.before(o),o=l}}function W(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function $a(e,t,a){var r=e==null?"":""+e;return r===""?null:r}function kt(e,t,a,r,n,o){var l=e.__className;if(I||l!==a||l===void 0){var s=$a(a);(!I||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=a}return o}function At(e,t,a){if(e.multiple){if(t==null)return;if(!De(t))return ga();for(var r of e.options)r.selected=t.includes(ae(r));return}for(r of e.options){var n=ae(r);if(_a(n,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Ha(e){var t=new MutationObserver(()=>{At(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ha(()=>{t.disconnect()})}function qa(e,t,a=t){var r=!0;Le(e,"change",n=>{var o=n?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(o),ae);else{var s=e.querySelector(o)??e.querySelector("option:not([disabled])");l=s&&ae(s)}a(l)}),ma(()=>{var n=t();if(At(e,n,r),r&&n===void 0){var o=e.querySelector(":checked");o!==null&&(n=ae(o),a(n))}e.__value=n,r=!1}),Ha(e)}function ae(e){return"__value"in e?e.__value:e.value}const Ea=Symbol("is custom element"),Ia=Symbol("is html");function Dt(e){if(I){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;pt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;pt(e,"checked",null),e.checked=n}}};e.__on_r=a,Sa(a),Ma()}}function pt(e,t,a,r){var n=Fa(e);I&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=a)&&(t==="loading"&&(e[xa]=a),e.removeAttribute(t))}function Fa(e){return e.__attributes??(e.__attributes={[Ea]:e.nodeName.includes("-"),[Ia]:e.namespaceURI===ya})}function Ba(e,t,a=t){var r=Ca();Le(e,"input",n=>{var o=n?e.defaultValue:e.value;if(o=we(e)?be(o):o,a(o),r&&o!==(o=t())){var l=e.selectionStart,s=e.selectionEnd;e.value=o??"",s!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(s,e.value.length))}}),(I&&e.defaultValue!==e.value||x(t)==null&&e.value)&&a(we(e)?be(e.value):e.value),Ct(()=>{var n=t();we(e)&&n===be(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Ga(e,t,a=t){Le(e,"change",r=>{var n=r?e.defaultChecked:e.checked;a(n)}),(I&&e.defaultChecked!==e.checked||x(t)==null)&&a(e.checked),Ct(()=>{var r=t();e.checked=!!r})}function we(e){var t=e.type;return t==="number"||t==="range"}function be(e){return e===""?null:+e}function Na(e){return function(...t){var a=t[0];return a.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Oa(e,t){var o;var a=(o=e.$$events)==null?void 0:o[t.type],r=De(a)?a.slice():a==null?[]:[a];for(var n of r)n.call(this,t)}const Me=["S","A","B","C","D","E","F","G"],Ua=["Great","Good","Normal","Bad","Terrible"],Wa=["Front","Pace","Late","End"],Za=["Turf","Dirt"],Va=["Firm","Soft","Heavy","Wet"],Ae={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Ya={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},za={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Ka={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},Qa={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},Xa={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},Ja={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}},ja={stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0}};function M(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function mt(e){return Ae[parseInt(e.distance)]}function ht(e){return e.realStats.stamina+1<e.requiredStamina?"Not enough stamina/guts":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"Borderline":"You have enough stamina!"}function gt(e){return e.realStats.stamina+1<e.requiredStamina?"text-red-600":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"text-orange-400":"text-green-600"}function en(e,t,a){return e+.8*t*a}function tn(e,t,a){return e*(1+(t+a)/1e4)}function an(e,t){return e*550+t*150}function nn(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function rn(e){return Ya[e]}function on(e,t){return za[e][t]}function ln(e){return Ka[e]}function sn(e){return Ja[e]}function cn(e){return Qa[e]}function un(e){return Xa[e]}function dn(e){return e*.85}function vn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function fn(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function pn(e,t,a,r,n){const o=(t-e)/a,l=(-e+Math.sqrt(e**2+2*a*(r/6-n)))/a;return Math.min(o,l)}function mn(e,t,a){return(e+t*a/2)*a}function hn(e,t,a,r,n){return 20*n*((t*a+e-r+12)**3-(e-r+12)**3)/(3*t)/144}function gn(e,t,a,r,n,o,l,s,u){const c=dn(e),d=vn(e,t.wit,a),f=fn(t.power,r,n,o),p=pn(c,d,f,l,s),g=mn(c,f,p),_=hn(c,f,p,e,u.hpConsumptionCoefficient);return{initialSpeed:c,targetSpeed:d,acceleration:f,duration:p,distance:g,hpConsumption:_}}function _n(e,t){return e/t}function Sn(e,t,a){return Math.max(e/6-(t+a),0)}function xn(e,t,a,r){return 20*a*(e-t+12)**2/144*r}function yn(e,t,a,r,n){const o=a.targetSpeed,l=a.targetSpeed,s=0,u=Sn(t,r.distance,a.distance),c=_n(u,o),d=xn(o,e,n.hpConsumptionCoefficient,c);return{initialSpeed:o,targetSpeed:l,acceleration:s,duration:c,distance:u,hpConsumption:d}}const Pe=3;function Cn(e){return e*.85}function wn(e,t,a,r){return 24+6e-4*Math.sqrt(500*e)*t*a*r}function bn(e,t){return(e-Pe)/t}function Mn(e,t){return(Pe+e)/2*t}function kn(e,t){return 20*t*e}function An(e,t,a,r,n,o){const l=Pe,s=Cn(e),u=wn(t,a,r,n),c=bn(s,u),d=Mn(s,c),f=kn(c,o.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:s,acceleration:u,distance:d,duration:c,hpConsumption:f}}function Dn(e,t,a,r){return(e*t+a.speed)*r.speed**2}function Ln(e,t){return e*t}function Pn(e,t,a,r){return(e*t+a.power)*r.acceleration}function Rn(e,t){return e*t}function Tn(e,t,a){return e*t*a}function $n(e,t,a,r,n){return{speed:Dn(e.speed,t,a,r),stamina:Ln(e.stamina,t),power:Pn(e.power,t,a,r),guts:Rn(e.guts,t),wit:Tn(e.wit,t,n)}}function Hn(e,t){return e/t}function qn(e,t){return e/2-t}function En(e,t,a,r){return 20*r*(t-e+12)**2/144*a}function In(e,t,a,r){const n=a.targetSpeed,o=a.targetSpeed,l=0,s=qn(t,a.distance),u=Hn(s,n),c=En(e,n,u,r.hpConsumptionCoefficient);return{initialSpeed:n,targetSpeed:o,acceleration:l,duration:u,distance:s,hpConsumption:c}}function Fn(e,t,a){return Math.max(e/3-t-a,0)}function Bn(e,t){return e/t}function Gn(e,t,a,r,n){return 20*a*r*(t-e+12)**2/144*n}function Nn(e){const t=e.targetSpeed,a=e.targetSpeed;return{initialSpeed:t,targetSpeed:a,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function On(e,t,a,r,n,o,l){const s=e.initialSpeed,u=e.targetSpeed,c=e.acceleration,d=Fn(a,r,n.distance),f=Bn(d,u),p=Gn(t,s,o.hpConsumptionCoefficient,l,f);return{initialSpeed:s,targetSpeed:u,acceleration:c,duration:f,distance:d,hpConsumption:p}}function Un(e,t,a,r,n,o,l,s,u,c,d,f){const p=a+r+n+o+l,g=(t-p-(e/3-60)*20*s*u*(c-f+12)**2/144/c)/(20*s*u*((d-f+12)**2/144/d-(c-f+12)**2/144/c))+60,_=e/3;return Math.min(g,_)}function Wn(e){return 1+200/Math.sqrt(600*e)}function Zn(e,t,a,r,n,o,l,s,u){return e-(t+a+r+n+o+l+s+u)}function Vn(e,t,a,r,n){return a/(20*r*n*(t-e+12)**2/144)}function Yn(e,t,a,r,n,o,l,s){return 20*l*s*(a-e+12)**2/144*(t/3-(r+n+o))/a}function zn(e,t){return e*t}function Kn(e,t,a,r,n,o,l,s){const u=l.targetSpeed,c=l.targetSpeed,d=0,f=Yn(e,t,u,n.distance,o.distance,l.distance,s.hpConsumptionCoefficient,a),p=Math.min(f,r),g=Vn(e,u,p,s.hpConsumptionCoefficient,a),_=zn(u,g);return{initialSpeed:u,targetSpeed:c,acceleration:d,duration:g,distance:_,hpConsumption:p}}function Qn(e,t,a){return t===0?e:a}function Xn(e,t,a,r){return(e*(a+.01)+Math.sqrt(500*t)*r*.002)*1.05+Math.sqrt(500*t)*r*.002}function Jn(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function Lt(e,t,a){return(e-t)/a}function Pt(e,t,a){return(e+t)/2*a}function Rt(e,t,a,r,n,o){return 20*n*o*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function jn(e,t,a,r){return{initialSpeed:-1,targetSpeed:Xn(e,t.speed,a.speedCorrection.late,r.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function er(e,t,a,r,n,o,l,s,u,c,d){const f=Qn(u.targetSpeed,c.distance,d.targetSpeed),p=e.targetSpeed,g=Jn(a.power,r.accelerationCorrection.late,n.acceleration,o),_=Lt(p,f,g),A=Pt(f,p,_),L=Rt(t,f,g,_,l.hpConsumptionCoefficient,s);return{initialSpeed:f,targetSpeed:p,acceleration:g,duration:_,distance:A,hpConsumption:L}}function tr(e,t,a,r,n,o){const l=r.targetSpeed,s=o.targetSpeed,u=o.acceleration,c=Lt(s,l,u),d=Pt(l,s,c),f=Rt(e,n.initialSpeed,o.acceleration,c,t.hpConsumptionCoefficient,a);return{initialSpeed:l,targetSpeed:s,acceleration:u,duration:c,distance:d,hpConsumption:f}}function ar(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function nr(e,t,a,r,n){return e/3-(t+a+r+n)}function rr(e,t,a,r,n,o){const l=o.targetSpeed,s=t,u=-1.2,c=nr(e,a.distance,r.distance,n.distance,o.distance),d=ar(l,u,c);return{initialSpeed:l,targetSpeed:s,acceleration:u,duration:d,distance:c,hpConsumption:0}}function ir(e,t,a,r,n,o,l){const s=e+t+a+r+n,u=o+l;return s+u}function or(e,t,a,r,n,o){return e+(t-a)/.8/r/(1+(n+o)/1e4)}function lr(e){return(6.5/Math.log10(.1*e+1))**2}function sr(e){return Math.max(100-9e3/e,20)}function cr(e){return 20-(e-2e3)/1e3}function ur(e,t){return .85*e+Math.sqrt(200*t)*.001}function dr(e,t,a){return e+t*a}function vr(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function fr(e,t,a,r,n,o){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*o}function pr(e,t,a){return(t-e)/a}function mr(e,t,a){return(e+t)/2*a}function hr(e,t,a,r,n){return 20*n*((t-r+12)**3-(e-r+12)**3)/(3*a)/144}function gr(e,t,a,r,n,o,l){const s=dr(a.initialSpeed,a.acceleration,a.duration),u=vr(e,t.wit,r.speedCorrection.middle),c=fr(s,u,t.power,r.accelerationCorrection.middle,n.acceleration,o),d=pr(s,u,c),f=mr(s,u,d),p=hr(s,u,c,e,l.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:u,acceleration:c,duration:d,distance:f,hpConsumption:p}}function _r(e,t,a,r,n){return e*r+Math.sqrt(500*t)*n*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function Sr(e,t,a,r,n,o){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*o}function xr(e,t,a,r,n){return e/3<=t?0:(a-r)/n}function yr(e,t,a){return(e+t)/2*a}function Cr(e,t,a,r,n,o){return 20*n*o*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function wr(e,t,a,r,n,o){const l=o.targetSpeed,s=_r(e,t.speed,t.wit,a.speedCorrection.late,r.speed),u=Sr(l,s,t.power,a.accelerationCorrection.late,r.acceleration,n);return{initialSpeed:l,targetSpeed:s,acceleration:u,duration:-1,distance:-1,hpConsumption:-1}}function br(e,t,a,r,n,o){const l=e.initialSpeed,s=e.targetSpeed,u=e.acceleration,c=xr(a,r,s,l,u),d=yr(l,s,c),f=Cr(t,l,u,c,n.hpConsumptionCoefficient,o);return{initialSpeed:l,targetSpeed:s,acceleration:u,duration:c,distance:d,hpConsumption:f}}function Mr(e,t){return e/3-t}function kr(e,t){return e/t}function Ar(e,t,a,r,n){return 20*t*a*(r-e+12)**2/144*n}function Dr(e,t,a,r,n,o){const l=r.targetSpeed,s=r.targetSpeed,u=0,c=Mr(t,n.distance),d=kr(c,l),f=Ar(e,o.hpConsumptionCoefficient,a,l,d);return{initialSpeed:l,targetSpeed:s,acceleration:u,duration:d,distance:c,hpConsumption:f}}function Lr(e){const t=parseInt(e.distance),a=rn(e.mood),r=on(e.surface,e.condition),n=ln(e.distanceAptitude),o=cn(e.strategyAptitude),l=sn(e.strategy),s=un(e.surfaceAptitude),u=$n(e.stats,a,r,n,o),c=cr(t),d=ur(c,u.guts),f=en(t,u.stamina,l.hpCorrection),p=an(e.skills.goldRecovery,e.skills.whiteRecovery),g=nn(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),_=tn(f,p,g),A=sr(e.stats.wit),L=lr(u.wit),y=Wn(u.guts),w=An(c,u.power,l.accelerationCorrection.early,n.acceleration,s,r),$=gn(c,u,l.speedCorrection.early,l.accelerationCorrection.early,n.acceleration,s,t,w.distance,r),D=yn(c,t,$,w,r),C=gr(c,u,$,l,n,s,r),k=In(c,t,C,r);let R=wr(c,u,l,n,s,k),q=Nn(R),E=jn(c,u,l,n);const Z=Un(t,_,w.hpConsumption,$.hpConsumption,D.hpConsumption,C.hpConsumption,k.hpConsumption,r.hpConsumptionCoefficient,y,q.initialSpeed,E.targetSpeed,c);R=br(R,c,t,Z,r,y),q=On(q,c,t,Z,R,r,y),E=er(E,c,u,l,n,s,r,y,k,R,q);const S=Zn(_,w.hpConsumption,$.hpConsumption,D.hpConsumption,C.hpConsumption,k.hpConsumption,R.hpConsumption,q.hpConsumption,E.hpConsumption),X=Kn(c,t,y,S,R,q,E,r),J=rr(t,d,R,q,E,X),V=tr(c,r,y,k,R,E),Q=Dr(c,t,y,E,V,r),j=ir(w.hpConsumption,$.hpConsumption,D.hpConsumption,C.hpConsumption,k.hpConsumption,V.hpConsumption,Q.hpConsumption),ne=or(u.stamina,j,_,l.hpCorrection,p,g);return{realStats:u,baseSpeed:c,initialHitPoints:f,hitPointsWithRecovery:_,lastSpurtDistance:Z,lastSpurtHitPointsConsumptionCoefficient:y,targetHitPointsForLastSpurt:j,requiredStamina:ne,skillProcRate:A,rushedRate:L,detailedBreakdown:{startingDash:w,phaseZeroAcceleration:$,phaseZeroSteady:D,phaseOneAcceleration:C,phaseOneSteady:k,phaseTwoAcceleration:R,phaseTwoAndThreeSteady:q,lastSpurtAcceleration:E,lastSpurtSteady:X,hitPointsZeroDeceleration:J,idealLastSpurtAcceleration:V,idealLastSpurtSteady:Q}}}var Pr=G("<span> </span>"),Rr=G('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function N(e,t){le(t,!1);let a=T(t,"label",8),r=T(t,"value",12),n=T(t,"showGrade",8,!0),o=T(t,"max",8,1200),l=0,s=K(""),u=K(""),c=K();const d=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]];let f={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function p(){var C,k;(C=i(c))==null||C.focus(),(k=i(c))==null||k.select()}wt(()=>(b(r()),b(o()),i(s)),()=>{var C;r()<l&&r(l),r()>o()&&r(o()),te(s,((C=d.find(([k])=>r()>=k))==null?void 0:C[1])??""),te(u,f[i(s)]??"text-gray-800")}),bt(),oe();var g=Rr(),_=h(g),A=h(_),L=h(A,!0);m(A);var y=v(A,2),w=h(y);{var $=C=>{var k=Pr(),R=h(k,!0);m(k),O(()=>{kt(k,1,`${i(u)??""} text-xl font-bold`),P(R,i(s))}),B(C,k)};ke(w,C=>{n()&&C($)})}var D=v(w,2);Dt(D),Aa(D,C=>te(c,C),()=>i(c)),m(y),m(_),m(g),O(()=>P(L,a())),Ba(D,r),Ce("click",D,Na(function(C){Oa.call(this,t,C)})),Ce("focus",D,p),Ce("click",g,p),B(e,g),se()}var Tr=G("<option> </option>"),$r=G('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function _t(e,t){let a=T(t,"options",24,()=>[]),r=T(t,"value",12);var n=$r();O(()=>{r(),wa(()=>{a()})}),Pa(n,5,a,Da,(o,l)=>{var s=Tr(),u=h(s,!0);m(s);var c={};O(()=>{P(u,i(l)),c!==(c=i(l))&&(s.value=(s.__value=i(l))??"")}),B(o,s)}),m(n),qa(n,r),B(e,n)}var Hr=G('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function ie(e,t){let a=T(t,"label",8),r=T(t,"extraLabel",8,""),n=T(t,"option1",24,()=>[]),o=T(t,"value1",12),l=T(t,"option2",24,()=>[]),s=T(t,"value2",12);var u=Hr(),c=h(u),d=h(c,!0);m(c);var f=v(c,2),p=h(f,!0);m(f);var g=v(f,2),_=h(g);_t(_,{get options(){return n()},get value(){return o()},set value(L){o(L)},$$legacy:!0});var A=v(_,2);_t(A,{get options(){return l()},get value(){return s()},set value(L){s(L)},$$legacy:!0}),m(g),m(u),O(()=>{P(d,a()),P(p,r())}),B(e,u)}var qr=G('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function U(e,t){le(t,!1);let a=T(t,"label",8),r=T(t,"value",8),n=T(t,"decimals",8,0),o=T(t,"valueSuffix",8,"");oe();var l=qr(),s=h(l),u=h(s,!0);m(s);var c=v(s,2),d=h(c);m(c),m(l),O(f=>{P(u,a()),P(d,`${f??""}${o()??""}`)},[()=>(b(M),b(r()),b(n()),x(()=>M(r(),n())))],z),B(e,l),se()}var Er=G('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function F(e,t){le(t,!1);let a=T(t,"label",8),r=T(t,"data",8);oe();var n=Er(),o=h(n),l=h(o,!0);m(o);var s=v(o,2),u=h(s,!0);m(s);var c=v(s,2),d=h(c,!0);m(c);var f=v(c,2),p=h(f,!0);m(f);var g=v(f,2),_=h(g,!0);m(g);var A=v(g,2),L=h(A,!0);m(A);var y=v(A,2),w=h(y,!0);m(y),m(n),O(($,D,C,k,R,q)=>{P(l,a()),P(u,$),P(d,D),P(p,C),P(_,k),P(L,R),P(w,q)},[()=>(b(M),b(r()),x(()=>M(r().initialSpeed,3))),()=>(b(M),b(r()),x(()=>M(r().targetSpeed,3))),()=>(b(M),b(r()),x(()=>M(r().acceleration,3))),()=>(b(M),b(r()),x(()=>M(r().duration,3))),()=>(b(M),b(r()),x(()=>M(r().distance,2))),()=>(b(M),b(r()),x(()=>M(r().hpConsumption,2)))],z),B(e,n),se()}var Ir=G('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-4"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div></div></div> <div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>',1),Fr=G('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-5"><!> <!> <!> <!> <!></div> <h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Br=G('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Zr(e,t){le(t,!1);let a=K(),r=K(!1),n=K({...ja});wt(()=>i(n),()=>{te(a,Lr(i(n)))}),bt(),oe();var o=Br();ka(S=>{ba.title="UmaCalc"});var l=v(ye(o),2),s=h(l),u=h(s);N(u,{label:"Speed",get value(){return i(n).stats.speed},set value(S){H(n,i(n).stats.speed=S)},$$legacy:!0});var c=v(u,2);N(c,{label:"Stamina",get value(){return i(n).stats.stamina},set value(S){H(n,i(n).stats.stamina=S)},$$legacy:!0});var d=v(c,2);N(d,{label:"Power",get value(){return i(n).stats.power},set value(S){H(n,i(n).stats.power=S)},$$legacy:!0});var f=v(d,2);N(f,{label:"Guts",get value(){return i(n).stats.guts},set value(S){H(n,i(n).stats.guts=S)},$$legacy:!0});var p=v(f,2);N(p,{label:"Wit",get value(){return i(n).stats.wit},set value(S){H(n,i(n).stats.wit=S)},$$legacy:!0}),m(s);var g=v(s,2),_=h(g);ie(_,{label:"Track",get option1(){return Za},get option2(){return Me},get value1(){return i(n).surface},set value1(S){H(n,i(n).surface=S)},get value2(){return i(n).surfaceAptitude},set value2(S){H(n,i(n).surfaceAptitude=S)},$$legacy:!0});var A=v(_,2);const L=z(()=>(b(mt),i(n),x(()=>mt(i(n))))),y=z(()=>(b(Ae),x(()=>Object.keys(Ae))));ie(A,{label:"Distance",get extraLabel(){return i(L)},get option1(){return i(y)},get option2(){return Me},get value1(){return i(n).distance},set value1(S){H(n,i(n).distance=S)},get value2(){return i(n).distanceAptitude},set value2(S){H(n,i(n).distanceAptitude=S)},$$legacy:!0});var w=v(A,2);ie(w,{label:"Style",get option1(){return Wa},get option2(){return Me},get value1(){return i(n).strategy},set value1(S){H(n,i(n).strategy=S)},get value2(){return i(n).strategyAptitude},set value2(S){H(n,i(n).strategyAptitude=S)},$$legacy:!0});var $=v(w,2);ie($,{label:"Mood/Condition",get option1(){return Ua},get option2(){return Va},get value1(){return i(n).mood},set value1(S){H(n,i(n).mood=S)},get value2(){return i(n).condition},set value2(S){H(n,i(n).condition=S)},$$legacy:!0}),m(g);var D=v(g,4),C=h(D);N(C,{label:"Gold skills",showGrade:!1,get value(){return i(n).skills.goldRecovery},set value(S){H(n,i(n).skills.goldRecovery=S)},$$legacy:!0});var k=v(C,2);N(k,{label:"White skills",showGrade:!1,get value(){return i(n).skills.whiteRecovery},set value(S){H(n,i(n).skills.whiteRecovery=S)},$$legacy:!0});var R=v(k,2);N(R,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return i(n).skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(S){H(n,i(n).skills.uniqueRecoveryLevelTwoStarsOrBelow=S)},$$legacy:!0});var q=v(R,2);N(q,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return i(n).skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(S){H(n,i(n).skills.uniqueRecoveryLevelThreeStarsOrAbove=S)},$$legacy:!0}),m(D),m(l);var E=v(l,2);{var Z=S=>{var X=Fr(),J=ye(X),V=v(h(J),2),Q=h(V),j=h(Q);U(j,{label:"Speed",get value(){return i(a),x(()=>i(a).realStats.speed)}});var ne=v(j,2);U(ne,{label:"Stamina",get value(){return i(a),x(()=>i(a).realStats.stamina)}});var Re=v(ne,2);U(Re,{label:"Power",get value(){return i(a),x(()=>i(a).realStats.power)}});var Te=v(Re,2);U(Te,{label:"Guts",get value(){return i(a),x(()=>i(a).realStats.guts)}});var Tt=v(Te,2);U(Tt,{label:"Wit",get value(){return i(a),x(()=>i(a).realStats.wit)}}),m(Q);var ce=v(Q,4),$e=h(ce);U($e,{label:"Stamina Needed",get value(){return i(a),x(()=>i(a).requiredStamina)}});var ue=v($e,2),$t=h(ue,!0);m(ue),m(ce);var He=v(ce,2),qe=h(He);U(qe,{label:"Skill proc rate",get value(){return i(a),x(()=>i(a).skillProcRate)},decimals:2,valueSuffix:"%"});var Ht=v(qe,2);U(Ht,{label:"Rushed rate",get value(){return i(a),x(()=>i(a).rushedRate)},decimals:2,valueSuffix:"%"}),m(He),m(V);var Ee=v(V,2),Ie=h(Ee);Dt(Ie),vt(),m(Ee),m(J);var qt=v(J,2);{var Et=Y=>{var re=Ir(),de=ye(re),Fe=h(de),ve=h(Fe),fe=h(ve),Be=v(h(fe),2),It=h(Be,!0);m(Be),m(fe);var pe=v(fe,2),Ge=v(h(pe),2),Ft=h(Ge,!0);m(Ge),m(pe);var Ne=v(pe,2),Oe=v(h(Ne),2),Bt=h(Oe,!0);m(Oe),m(Ne),m(ve);var Ue=v(ve,2),me=h(Ue),We=v(h(me),2),Gt=h(We,!0);m(We),m(me);var he=v(me,2),Ze=v(h(he),2),Nt=h(Ze,!0);m(Ze),m(he);var ge=v(he,2),Ve=v(h(ge),2),Ot=h(Ve,!0);m(Ve),m(ge);var Ye=v(ge,2),ze=v(h(Ye),2),Ut=h(ze,!0);m(ze),m(Ye),m(Ue),m(Fe),m(de);var Ke=v(de,2),Qe=h(Ke),Xe=h(Qe),Je=v(h(Xe),2);F(Je,{label:"Starting Dash",get data(){return i(a),x(()=>i(a).detailedBreakdown.startingDash)}});var je=v(Je,2);F(je,{label:"Early Acceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseZeroAcceleration)}});var et=v(je,2);F(et,{label:"Early Steady",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseZeroSteady)}});var tt=v(et,2);F(tt,{label:"Middle Acceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseOneAcceleration)}});var at=v(tt,2);F(at,{label:"Middle Steady",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseOneSteady)}});var nt=v(at,2);F(nt,{label:"Late Acceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseTwoAcceleration)}});var rt=v(nt,2);F(rt,{label:"Late Steady",get data(){return i(a),x(()=>i(a).detailedBreakdown.phaseTwoAndThreeSteady)}});var it=v(rt,2);F(it,{label:"Last Spurt Acceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.lastSpurtAcceleration)}});var ot=v(it,2);F(ot,{label:"Last Spurt Steady",get data(){return i(a),x(()=>i(a).detailedBreakdown.lastSpurtSteady)}});var lt=v(ot,2);F(lt,{label:"HP0 / Deceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.hitPointsZeroDeceleration)}});var st=v(lt,4);F(st,{label:"Ideal Last Spurt Acceleration",get data(){return i(a),x(()=>i(a).detailedBreakdown.idealLastSpurtAcceleration)}});var Wt=v(st,2);F(Wt,{label:"Ideal Last Spurt Steady",get data(){return i(a),x(()=>i(a).detailedBreakdown.idealLastSpurtSteady)}}),m(Xe),m(Qe),m(Ke),O((Zt,Vt,Yt,zt,Kt,Qt)=>{P(It,Zt),P(Ft,Vt),P(Bt,Yt),P(Gt,zt),P(Nt,(i(a),x(()=>i(a).requiredStamina))),P(Ot,Kt),P(Ut,Qt)},[()=>(b(M),i(a),x(()=>M(i(a).baseSpeed,2))),()=>(b(M),i(a),x(()=>M(i(a).initialHitPoints,2))),()=>(b(M),i(a),x(()=>M(i(a).hitPointsWithRecovery,2))),()=>(b(M),i(a),x(()=>M(i(a).targetHitPointsForLastSpurt,2))),()=>(b(M),i(a),x(()=>M(i(a).lastSpurtDistance,2))),()=>(b(M),i(a),x(()=>M(i(a).lastSpurtHitPointsConsumptionCoefficient,2)))],z),B(Y,re)};ke(qt,Y=>{i(r)&&Y(Et)})}O((Y,re)=>{kt(ue,1,`${Y??""} text-center text-2xl font-bold self-center`),P($t,re)},[()=>(b(gt),i(a),x(()=>gt(i(a)))),()=>(b(ht),i(a),x(()=>ht(i(a))))],z),Ga(Ie,()=>i(r),Y=>te(r,Y)),B(S,X)};ke(E,S=>{i(a)&&S(Z)})}vt(2),B(e,o),se()}export{Zr as component};
