import"../chunks/CWj6FrbW.js";import{i as le}from"../chunks/D7yyfmma.js";import{ai as Jt,m as jt,W as Ce,n as E,z as ea,o as ta,H as u,a8 as Y,S as aa,U as na,V as pt,X as we,y as X,ak as ra,ao as ia,Y as Ct,v as wt,Z as oa,ay as be,as as bt,ag as mt,az as la,au as z,aA as gt,i as Pe,aB as sa,aC as ca,ar as ua,aD as da,x as va,aE as fa,aF as pa,al as ma,$ as ga,r as ha,aG as _a,aH as xa,aI as Sa,aJ as ya,aK as Ca,aL as wa,e as O,a0 as kt,L as se,aM as ba,aN as ka,M as B,N,C as F,O as ce,R as v,P as g,a7 as J,I as H,Q as m,aO as Ma,B as ke,aP as Aa,aQ as T,aR as ht}from"../chunks/JMHaOCld.js";import{l as Re,a as Da,e as oe,s as A,b as La}from"../chunks/C7iduzYR.js";import{p as R,i as Le,b as Pa}from"../chunks/BMDX70Gu.js";function Ra(e,t){return t}function $a(e,t,a,r){for(var n=[],i=t.length,o=0;o<i;o++)ca(t[o].e,n,!0);var l=i>0&&n.length===0&&a!==null;if(l){var c=a.parentNode;ua(c),c.append(a),r.clear(),Z(e,t[0].prev,t[i-1].next)}da(n,()=>{for(var s=0;s<i;s++){var d=t[s];l||(r.delete(d.k),Z(e,d.prev,d.next)),va(d.e,!l)}})}function Ta(e,t,a,r,n,i=null){var o=e,l={flags:t,items:new Map,first:null};{var c=e;o=E?Ce(ea(c)):c.appendChild(Jt())}E&&ta();var s=null,d=!1,f=Y(()=>{var p=a();return Pe(p)?p:p==null?[]:bt(p)});jt(()=>{var p=u(f),h=p.length;if(d&&h===0)return;d=h===0;let _=!1;if(E){var b=aa(o)===na;b!==(h===0)&&(o=pt(),Ce(o),we(!1),_=!0)}if(E){for(var k=null,x,C=0;C<h;C++){if(X.nodeType===ra&&X.data===ia){o=X,_=!0,we(!1);break}var P=p[C],M=r(P,C);x=Mt(X,l,k,null,P,M,C,n,t,a),l.items.set(M,x),k=x}h>0&&Ce(pt())}E||Ha(p,l,o,n,t,r,a),i!==null&&(h===0?s?Ct(s):s=wt(()=>i(o)):s!==null&&oa(s,()=>{s=null})),_&&we(!0),u(f)}),E&&(o=X)}function Ha(e,t,a,r,n,i,o){var l=e.length,c=t.items,s=t.first,d=s,f,p=null,h=[],_=[],b,k,x,C;for(C=0;C<l;C+=1){if(b=e[C],k=i(b,C),x=c.get(k),x===void 0){var P=d?d.e.nodes_start:a;p=Mt(P,t,p,p===null?t.first:p.next,b,k,C,r,n,o),c.set(k,p),h=[],_=[],d=p.next;continue}if(qa(x,b,C),(x.e.f&be)!==0&&Ct(x.e),x!==d){if(f!==void 0&&f.has(x)){if(h.length<_.length){var M=_[0],y;p=M.prev;var w=h[0],D=h[h.length-1];for(y=0;y<h.length;y+=1)_t(h[y],M,a);for(y=0;y<_.length;y+=1)f.delete(_[y]);Z(t,w.prev,D.next),Z(t,p,w),Z(t,D,M),d=M,p=D,C-=1,h=[],_=[]}else f.delete(x),_t(x,d,a),Z(t,x.prev,x.next),Z(t,x,p===null?t.first:p.next),Z(t,p,x),p=x;continue}for(h=[],_=[];d!==null&&d.k!==k;)(d.e.f&be)===0&&(f??(f=new Set)).add(d),_.push(d),d=d.next;if(d===null)continue;x=d}h.push(x),p=x,d=x.next}if(d!==null||f!==void 0){for(var $=f===void 0?[]:bt(f);d!==null;)(d.e.f&be)===0&&$.push(d),d=d.next;var q=$.length;if(q>0){var U=l===0?a:null;$a(t,$,U,c)}}mt.first=t.first&&t.first.e,mt.last=p&&p.e}function qa(e,t,a,r){la(e.v,t),e.i=a}function Mt(e,t,a,r,n,i,o,l,c,s){var d=(c&fa)!==0,f=(c&pa)===0,p=d?f?z(n,!1,!1):gt(n):n,h=(c&sa)===0?o:gt(o),_={i:h,v:p,k:i,a:null,e:null,prev:a,next:r};try{return _.e=wt(()=>l(e,p,h,s),E),_.e.prev=a&&a.e,_.e.next=r&&r.e,a===null?t.first=_:(a.next=_,a.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function _t(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==r;){var o=ma(i);n.before(i),i=o}}function Z(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function Ea(e,t,a){var r=e==null?"":""+e;return r===""?null:r}function At(e,t,a,r,n,i){var o=e.__className;if(E||o!==a||o===void 0){var l=Ea(a);(!E||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=a}return i}function Dt(e,t,a){if(e.multiple){if(t==null)return;if(!Pe(t))return _a();for(var r of e.options)r.selected=t.includes(j(r));return}for(r of e.options){var n=j(r);if(xa(n,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Ia(e){var t=new MutationObserver(()=>{Dt(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ha(()=>{t.disconnect()})}function Fa(e,t,a=t){var r=!0;Re(e,"change",n=>{var i=n?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(i),j);else{var l=e.querySelector(i)??e.querySelector("option:not([disabled])");o=l&&j(l)}a(o)}),ga(()=>{var n=t();if(Dt(e,n,r),r&&n===void 0){var i=e.querySelector(":checked");i!==null&&(n=j(i),a(n))}e.__value=n,r=!1}),Ia(e)}function j(e){return"__value"in e?e.__value:e.value}const Ba=Symbol("is custom element"),Ga=Symbol("is html");function Lt(e){if(E){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;xt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;xt(e,"checked",null),e.checked=n}}};e.__on_r=a,Sa(a),Da()}}function xt(e,t,a,r){var n=Oa(e);E&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=a)&&(t==="loading"&&(e[ya]=a),e.removeAttribute(t))}function Oa(e){return e.__attributes??(e.__attributes={[Ba]:e.nodeName.includes("-"),[Ga]:e.namespaceURI===Ca})}function Na(e,t,a=t){var r=wa();Re(e,"input",n=>{var i=n?e.defaultValue:e.value;if(i=Me(e)?Ae(i):i,a(i),r&&i!==(i=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),(E&&e.defaultValue!==e.value||O(t)==null&&e.value)&&a(Me(e)?Ae(e.value):e.value),kt(()=>{var n=t();Me(e)&&n===Ae(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Ua(e,t,a=t){Re(e,"change",r=>{var n=r?e.defaultChecked:e.checked;a(n)}),(E&&e.defaultChecked!==e.checked||O(t)==null)&&a(e.checked),kt(()=>{var r=t();e.checked=!!r})}function Me(e){var t=e.type;return t==="number"||t==="range"}function Ae(e){return e===""?null:+e}function Wa(e){return function(...t){var a=t[0];return a.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Za(e,t){var i;var a=(i=e.$$events)==null?void 0:i[t.type],r=Pe(a)?a.slice():a==null?[]:[a];for(var n of r)n.call(this,t)}const De=["S","A","B","C","D","E","F","G"],Va=["Great","Good","Normal","Bad","Terrible"],Ya=["Front","Pace","Late","End"],za=["Turf","Dirt"],Ka=["Firm","Soft","Heavy","Wet"],St={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Qa={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Xa={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Ja={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},ja={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},en={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},tn={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}};function L(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function an(e,t,a){return e+.8*t*a}function nn(e,t,a){return e*(1+(t+a)/1e4)}function rn(e,t){return e*550+t*150}function on(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function ln(e){return Qa[e]}function sn(e,t){return Xa[e][t]}function cn(e){return Ja[e]}function un(e){return tn[e]}function dn(e){return ja[e]}function vn(e){return en[e]}function fn(e){return e*.85}function pn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function mn(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function gn(e,t,a,r,n){const i=(t-e)/a,o=(-e+Math.sqrt(e**2+2*a*(r/6-n)))/a;return Math.min(i,o)}function hn(e,t,a){return(e+t*a/2)*a}function _n(e,t,a,r,n){return 20*n*((t*a+e-r+12)**3-(e-r+12)**3)/(3*t)/144}function xn(e,t,a,r,n,i,o,l,c){const s=fn(e),d=pn(e,t.wit,a),f=mn(t.power,r,n,i),p=gn(s,d,f,o,l),h=hn(s,f,p),_=_n(s,f,p,e,c.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:d,acceleration:f,duration:p,distance:h,hpConsumption:_}}function Sn(e,t){return e/t}function yn(e,t,a){return Math.max(e/6-(t+a),0)}function Cn(e,t,a,r){return 20*a*(e-t+12)**2/144*r}function wn(e,t,a,r,n){const i=a.targetSpeed,o=a.targetSpeed,l=0,c=yn(t,r.distance,a.distance),s=Sn(c,i),d=Cn(i,e,n.hpConsumptionCoefficient,s);return{initialSpeed:i,targetSpeed:o,acceleration:l,duration:s,distance:c,hpConsumption:d}}const $e=3;function bn(e){return e*.85}function kn(e,t,a,r){return 24+6e-4*Math.sqrt(500*e)*t*a*r}function Mn(e,t){return(e-$e)/t}function An(e,t){return($e+e)/2*t}function Dn(e,t){return 20*t*e}function Ln(e,t,a,r,n,i){const o=$e,l=bn(e),c=kn(t,a,r,n),s=Mn(l,c),d=An(l,s),f=Dn(s,i.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:l,acceleration:c,distance:d,duration:s,hpConsumption:f}}function Pn(e,t,a,r){return(e*t+a.speed)*r.speed**2}function Rn(e,t){return e*t}function $n(e,t,a,r){return(e*t+a.power)*r.acceleration}function Tn(e,t){return e*t}function Hn(e,t,a){return e*t*a}function qn(e,t,a,r,n){return{speed:Pn(e.speed,t,a,r),stamina:Rn(e.stamina,t),power:$n(e.power,t,a,r),guts:Tn(e.guts,t),wit:Hn(e.wit,t,n)}}function En(e,t){return e/t}function In(e,t){return e/2-t}function Fn(e,t,a,r){return 20*r*(t-e+12)**2/144*a}function Bn(e,t,a,r){const n=a.targetSpeed,i=a.targetSpeed,o=0,l=In(t,a.distance),c=En(l,n),s=Fn(e,n,c,r.hpConsumptionCoefficient);return{initialSpeed:n,targetSpeed:i,acceleration:o,duration:c,distance:l,hpConsumption:s}}function Gn(e,t,a){return Math.max(e/3-t-a,0)}function On(e,t){return e/t}function Nn(e,t,a,r,n){return 20*a*r*(t-e+12)**2/144*n}function Un(e){const t=e.targetSpeed,a=e.targetSpeed;return{initialSpeed:t,targetSpeed:a,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function Wn(e,t,a,r,n,i,o){const l=e.initialSpeed,c=e.targetSpeed,s=e.acceleration,d=Gn(a,r,n.distance),f=On(d,c),p=Nn(t,l,i.hpConsumptionCoefficient,o,f);return{initialSpeed:l,targetSpeed:c,acceleration:s,duration:f,distance:d,hpConsumption:p}}function Zn(e,t,a,r,n,i,o,l,c,s,d,f){const p=a+r+n+i+o,h=(t-p-(e/3-60)*20*l*c*(s-f+12)**2/144/s)/(20*l*c*((d-f+12)**2/144/d-(s-f+12)**2/144/s))+60,_=e/3;return Math.min(h,_)}function Vn(e){return 1+200/Math.sqrt(600*e)}function Yn(e,t,a,r,n,i,o,l,c){return e-(t+a+r+n+i+o+l+c)}function zn(e,t,a,r,n){return a/(20*r*n*(t-e+12)**2/144)}function Kn(e,t,a,r,n,i,o,l){return 20*o*l*(a-e+12)**2/144*(t/3-(r+n+i))/a}function Qn(e,t){return e*t}function Xn(e,t,a,r,n,i,o,l){const c=o.targetSpeed,s=o.targetSpeed,d=0,f=Kn(e,t,c,n.distance,i.distance,o.distance,l.hpConsumptionCoefficient,a),p=Math.min(f,r),h=zn(e,c,p,l.hpConsumptionCoefficient,a),_=Qn(c,h);return{initialSpeed:c,targetSpeed:s,acceleration:d,duration:h,distance:_,hpConsumption:p}}function Jn(e,t,a){return t===0?e:a}function jn(e,t,a,r){return(e*(a+.01)+Math.sqrt(500*t)*r*.002)*1.05+Math.sqrt(500*t)*r*.002}function er(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function Pt(e,t,a){return(e-t)/a}function Rt(e,t,a){return(e+t)/2*a}function $t(e,t,a,r,n,i){return 20*n*i*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function tr(e,t,a,r){return{initialSpeed:-1,targetSpeed:jn(e,t.speed,a.speedCorrection.late,r.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function ar(e,t,a,r,n,i,o,l,c,s,d){const f=Jn(c.targetSpeed,s.distance,d.targetSpeed),p=e.targetSpeed,h=er(a.power,r.accelerationCorrection.late,n.acceleration,i),_=Pt(p,f,h),b=Rt(f,p,_),k=$t(t,f,h,_,o.hpConsumptionCoefficient,l);return{initialSpeed:f,targetSpeed:p,acceleration:h,duration:_,distance:b,hpConsumption:k}}function nr(e,t,a,r,n,i){const o=r.targetSpeed,l=i.targetSpeed,c=i.acceleration,s=Pt(l,o,c),d=Rt(o,l,s),f=$t(e,n.initialSpeed,i.acceleration,s,t.hpConsumptionCoefficient,a);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:s,distance:d,hpConsumption:f}}function rr(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function ir(e,t,a,r,n){return e/3-(t+a+r+n)}function or(e,t,a,r,n,i){const o=i.targetSpeed,l=t,c=-1.2,s=ir(e,a.distance,r.distance,n.distance,i.distance),d=rr(o,c,s);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:d,distance:s,hpConsumption:0}}function lr(e,t,a,r,n,i,o){const l=e+t+a+r+n,c=i+o;return l+c}function sr(e,t,a,r,n,i){return e+(t-a)/.8/r/(1+(n+i)/1e4)}function cr(e){return(6.5/Math.log10(.1*e+1))**2}function ur(e){return Math.max(100-9e3/e,20)}function dr(e){return 20-(e-2e3)/1e3}function vr(e,t){return .85*e+Math.sqrt(200*t)*.001}function fr(e,t,a){return e+t*a}function pr(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function mr(e,t,a,r,n,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*i}function gr(e,t,a){return(t-e)/a}function hr(e,t,a){return(e+t)/2*a}function _r(e,t,a,r,n){return 20*n*((t-r+12)**3-(e-r+12)**3)/(3*a)/144}function xr(e,t,a,r,n,i,o){const l=fr(a.initialSpeed,a.acceleration,a.duration),c=pr(e,t.wit,r.speedCorrection.middle),s=mr(l,c,t.power,r.accelerationCorrection.middle,n.acceleration,i),d=gr(l,c,s),f=hr(l,c,d),p=_r(l,c,s,e,o.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:c,acceleration:s,duration:d,distance:f,hpConsumption:p}}function Sr(e,t,a,r,n){return e*r+Math.sqrt(500*t)*n*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function yr(e,t,a,r,n,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*i}function Cr(e,t,a,r,n){return e/3<=t?0:(a-r)/n}function wr(e,t,a){return(e+t)/2*a}function br(e,t,a,r,n,i){return 20*n*i*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function kr(e,t,a,r,n,i){const o=i.targetSpeed,l=Sr(e,t.speed,t.wit,a.speedCorrection.late,r.speed),c=yr(o,l,t.power,a.accelerationCorrection.late,r.acceleration,n);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:-1,distance:-1,hpConsumption:-1}}function Mr(e,t,a,r,n,i){const o=e.initialSpeed,l=e.targetSpeed,c=e.acceleration,s=Cr(a,r,l,o,c),d=wr(o,l,s),f=br(t,o,c,s,n.hpConsumptionCoefficient,i);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:s,distance:d,hpConsumption:f}}function Ar(e,t){return e/3-t}function Dr(e,t){return e/t}function Lr(e,t,a,r,n){return 20*t*a*(r-e+12)**2/144*n}function Pr(e,t,a,r,n,i){const o=r.targetSpeed,l=r.targetSpeed,c=0,s=Ar(t,n.distance),d=Dr(s,o),f=Lr(e,i.hpConsumptionCoefficient,a,o,d);return{initialSpeed:o,targetSpeed:l,acceleration:c,duration:d,distance:s,hpConsumption:f}}function Rr(e){const t=parseInt(e.distance),a=ln(e.mood),r=sn(e.surface,e.condition),n=cn(e.distanceAptitude),i=dn(e.strategyAptitude),o=un(e.strategy),l=vn(e.surfaceAptitude),c=qn(e.stats,a,r,n,i),s=dr(t),d=vr(s,c.guts),f=an(t,c.stamina,o.hpCorrection),p=rn(e.skills.goldRecovery,e.skills.whiteRecovery),h=on(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),_=nn(f,p,h),b=ur(c.wit),k=cr(c.wit),x=Vn(c.guts),C=Ln(s,c.power,o.accelerationCorrection.early,n.acceleration,l,r),P=xn(s,c,o.speedCorrection.early,o.accelerationCorrection.early,n.acceleration,l,t,C.distance,r),M=wn(s,t,P,C,r),y=xr(s,c,P,o,n,l,r),w=Bn(s,t,y,r);let D=kr(s,c,o,n,l,w),$=Un(D),q=tr(s,c,o,n);const U=Zn(t,_,C.hpConsumption,P.hpConsumption,M.hpConsumption,y.hpConsumption,w.hpConsumption,r.hpConsumptionCoefficient,x,$.initialSpeed,q.targetSpeed,s);D=Mr(D,s,t,U,r,x),$=Wn($,s,t,U,D,r,x),q=ar(q,s,c,o,n,l,r,x,w,D,$);const ee=Yn(_,C.hpConsumption,P.hpConsumption,M.hpConsumption,y.hpConsumption,w.hpConsumption,D.hpConsumption,$.hpConsumption,q.hpConsumption),te=Xn(s,t,x,ee,D,$,q,r),K=or(t,d,D,$,q,te),Q=nr(s,r,x,w,D,q),ae=Pr(s,t,x,q,Q,r),ne=lr(C.hpConsumption,P.hpConsumption,M.hpConsumption,y.hpConsumption,w.hpConsumption,Q.hpConsumption,ae.hpConsumption),S=sr(c.stamina,ne,_,o.hpCorrection,p,h);return{realStats:c,baseSpeed:s,initialHitPoints:f,hitPointsWithRecovery:_,lastSpurtDistance:U,lastSpurtHitPointsConsumptionCoefficient:x,targetHitPointsForLastSpurt:ne,requiredStamina:S,skillProcRate:b,rushedRate:k,detailedBreakdown:{startingDash:C,phaseZeroAcceleration:P,phaseZeroSteady:M,phaseOneAcceleration:y,phaseOneSteady:w,phaseTwoAcceleration:D,phaseTwoAndThreeSteady:$,lastSpurtAcceleration:q,lastSpurtSteady:te,hitPointsZeroDeceleration:K,idealLastSpurtAcceleration:Q,idealLastSpurtSteady:ae}}}var $r=B("<span> </span>"),Tr=B('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function G(e,t){se(t,!1);let a=R(t,"label",8),r=R(t,"value",12),n=R(t,"showGrade",8,!0),i=R(t,"max",8,1200),o=0,l=z(""),c=z(""),s=z();const d=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]];let f={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function p(){var y,w;(y=u(s))==null||y.focus(),(w=u(s))==null||w.select()}ba(()=>(H(r()),H(i()),u(l)),()=>{var y;r()<o&&r(o),r()>i()&&r(i()),J(l,((y=d.find(([w])=>r()>=w))==null?void 0:y[1])??""),J(c,f[u(l)]??"text-gray-800")}),ka(),le();var h=Tr(),_=g(h),b=g(_),k=g(b,!0);m(b);var x=v(b,2),C=g(x);{var P=y=>{var w=$r(),D=g(w,!0);m(w),N(()=>{At(w,1,`${u(c)??""} text-xl font-bold`),A(D,u(l))}),F(y,w)};Le(C,y=>{n()&&y(P)})}var M=v(C,2);Lt(M),Pa(M,y=>J(s,y),()=>u(s)),m(x),m(_),m(h),N(()=>A(k,a())),Na(M,r),oe("click",M,Wa(function(y){Za.call(this,t,y)})),oe("focus",M,p),oe("click",h,p),F(e,h),ce()}var Hr=B("<option> </option>"),qr=B('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function yt(e,t){let a=R(t,"options",24,()=>[]),r=R(t,"value",12);var n=qr();N(()=>{r(),Ma(()=>{a()})}),Ta(n,5,a,Ra,(i,o)=>{var l=Hr(),c=g(l,!0);m(l);var s={};N(()=>{A(c,u(o)),s!==(s=u(o))&&(l.value=(l.__value=u(o))??"")}),F(i,l)}),m(n),Fa(n,r),F(e,n)}var Er=B('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function ie(e,t){let a=R(t,"label",8),r=R(t,"extraLabel",8,""),n=R(t,"option1",24,()=>[]),i=R(t,"value1",12),o=R(t,"option2",24,()=>[]),l=R(t,"value2",12);var c=Er(),s=g(c),d=g(s,!0);m(s);var f=v(s,2),p=g(f,!0);m(f);var h=v(f,2),_=g(h);yt(_,{get options(){return n()},get value(){return i()},set value(k){i(k)},$$legacy:!0});var b=v(_,2);yt(b,{get options(){return o()},get value(){return l()},set value(k){l(k)},$$legacy:!0}),m(h),m(c),N(()=>{A(d,a()),A(p,r())}),F(e,c)}var Ir=B('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function W(e,t){se(t,!1);let a=R(t,"label",8),r=R(t,"value",8),n=R(t,"decimals",8,0),i=R(t,"valueSuffix",8,"");le();var o=Ir(),l=g(o),c=g(l,!0);m(l);var s=v(l,2),d=g(s);m(s),m(o),N(f=>{A(c,a()),A(d,`${f??""}${i()??""}`)},[()=>(H(L),H(r()),H(n()),O(()=>L(r(),n())))],Y),F(e,o),ce()}var Fr=B('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function I(e,t){se(t,!1);let a=R(t,"label",8),r=R(t,"data",8);le();var n=Fr(),i=g(n),o=g(i,!0);m(i);var l=v(i,2),c=g(l,!0);m(l);var s=v(l,2),d=g(s,!0);m(s);var f=v(s,2),p=g(f,!0);m(f);var h=v(f,2),_=g(h,!0);m(h);var b=v(h,2),k=g(b,!0);m(b);var x=v(b,2),C=g(x,!0);m(x),m(n),N((P,M,y,w,D,$)=>{A(o,a()),A(c,P),A(d,M),A(p,y),A(_,w),A(k,D),A(C,$)},[()=>(H(L),H(r()),O(()=>L(r().initialSpeed,3))),()=>(H(L),H(r()),O(()=>L(r().targetSpeed,3))),()=>(H(L),H(r()),O(()=>L(r().acceleration,3))),()=>(H(L),H(r()),O(()=>L(r().duration,3))),()=>(H(L),H(r()),O(()=>L(r().distance,2))),()=>(H(L),H(r()),O(()=>L(r().hpConsumption,2)))],Y),F(e,n),ce()}var Br=B('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-4"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div></div></div> <div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>',1),Gr=B('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-5"><!> <!> <!> <!> <!></div> <h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Or=B('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div> <div class="w-full mx-auto mb-6 px-2 md:w-4/5"><input type="button" value="Calculate" class="block mx-auto w-full bg-amber-400 font-semibold py-2 rounded md:w-5/6 lg:w-2/3 hover:cursor-pointer"/></div> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Yr(e,t){se(t,!1);let a=z(),r=z(!1),n=z({stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0}});function i(){return St[parseInt(u(n).distance)]}function o(){J(a,Rr(u(n)))}function l(){return u(a).realStats.stamina+1<u(a).requiredStamina?"Not enough stamina/guts":u(a).realStats.stamina/u(a).requiredStamina<1.1&&u(a).requiredStamina>=0?"Borderline":"You have enough stamina!"}function c(){return u(a).realStats.stamina+1<u(a).requiredStamina?"text-red-600":u(a).realStats.stamina/u(a).requiredStamina<1.1&&u(a).requiredStamina>=0?"text-orange-400":"text-green-600"}le();var s=Or();La(S=>{Aa.title="UmaCalc"});var d=v(ke(s),2),f=g(d),p=g(f);G(p,{label:"Speed",get value(){return u(n).stats.speed},set value(S){T(n,u(n).stats.speed=S)},$$legacy:!0});var h=v(p,2);G(h,{label:"Stamina",get value(){return u(n).stats.stamina},set value(S){T(n,u(n).stats.stamina=S)},$$legacy:!0});var _=v(h,2);G(_,{label:"Power",get value(){return u(n).stats.power},set value(S){T(n,u(n).stats.power=S)},$$legacy:!0});var b=v(_,2);G(b,{label:"Guts",get value(){return u(n).stats.guts},set value(S){T(n,u(n).stats.guts=S)},$$legacy:!0});var k=v(b,2);G(k,{label:"Wit",get value(){return u(n).stats.wit},set value(S){T(n,u(n).stats.wit=S)},$$legacy:!0}),m(f);var x=v(f,2),C=g(x);ie(C,{label:"Track",get option1(){return za},get option2(){return De},get value1(){return u(n).surface},set value1(S){T(n,u(n).surface=S)},get value2(){return u(n).surfaceAptitude},set value2(S){T(n,u(n).surfaceAptitude=S)},$$legacy:!0});var P=v(C,2);const M=Y(i),y=Y(()=>Object.keys(St));ie(P,{label:"Distance",get extraLabel(){return u(M)},get option1(){return u(y)},get option2(){return De},get value1(){return u(n).distance},set value1(S){T(n,u(n).distance=S)},get value2(){return u(n).distanceAptitude},set value2(S){T(n,u(n).distanceAptitude=S)},$$legacy:!0});var w=v(P,2);ie(w,{label:"Style",get option1(){return Ya},get option2(){return De},get value1(){return u(n).strategy},set value1(S){T(n,u(n).strategy=S)},get value2(){return u(n).strategyAptitude},set value2(S){T(n,u(n).strategyAptitude=S)},$$legacy:!0});var D=v(w,2);ie(D,{label:"Mood/Condition",get option1(){return Va},get option2(){return Ka},get value1(){return u(n).mood},set value1(S){T(n,u(n).mood=S)},get value2(){return u(n).condition},set value2(S){T(n,u(n).condition=S)},$$legacy:!0}),m(x);var $=v(x,4),q=g($);G(q,{label:"Gold skills",showGrade:!1,get value(){return u(n).skills.goldRecovery},set value(S){T(n,u(n).skills.goldRecovery=S)},$$legacy:!0});var U=v(q,2);G(U,{label:"White skills",showGrade:!1,get value(){return u(n).skills.whiteRecovery},set value(S){T(n,u(n).skills.whiteRecovery=S)},$$legacy:!0});var ee=v(U,2);G(ee,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return u(n).skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(S){T(n,u(n).skills.uniqueRecoveryLevelTwoStarsOrBelow=S)},$$legacy:!0});var te=v(ee,2);G(te,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return u(n).skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(S){T(n,u(n).skills.uniqueRecoveryLevelThreeStarsOrAbove=S)},$$legacy:!0}),m($),m(d);var K=v(d,2),Q=g(K);m(K);var ae=v(K,2);{var ne=S=>{var Te=Gr(),ue=ke(Te),de=v(g(ue),2),ve=g(de),He=g(ve);W(He,{label:"Speed",get value(){return u(a).realStats.speed}});var qe=v(He,2);W(qe,{label:"Stamina",get value(){return u(a).realStats.stamina}});var Ee=v(qe,2);W(Ee,{label:"Power",get value(){return u(a).realStats.power}});var Ie=v(Ee,2);W(Ie,{label:"Guts",get value(){return u(a).realStats.guts}});var Tt=v(Ie,2);W(Tt,{label:"Wit",get value(){return u(a).realStats.wit}}),m(ve);var fe=v(ve,4),Fe=g(fe);W(Fe,{label:"Stamina Needed",get value(){return u(a).requiredStamina}});var pe=v(Fe,2),Ht=g(pe,!0);m(pe),m(fe);var Be=v(fe,2),Ge=g(Be);W(Ge,{label:"Skill proc rate",get value(){return u(a).skillProcRate},decimals:2,valueSuffix:"%"});var qt=v(Ge,2);W(qt,{label:"Rushed rate",get value(){return u(a).rushedRate},decimals:2,valueSuffix:"%"}),m(Be),m(de);var Oe=v(de,2),Ne=g(Oe);Lt(Ne),ht(),m(Oe),m(ue);var Et=v(ue,2);{var It=V=>{var re=Br(),me=ke(re),Ue=g(me),ge=g(Ue),he=g(ge),We=v(g(he),2),Ft=g(We,!0);m(We),m(he);var _e=v(he,2),Ze=v(g(_e),2),Bt=g(Ze,!0);m(Ze),m(_e);var Ve=v(_e,2),Ye=v(g(Ve),2),Gt=g(Ye,!0);m(Ye),m(Ve),m(ge);var ze=v(ge,2),xe=g(ze),Ke=v(g(xe),2),Ot=g(Ke,!0);m(Ke),m(xe);var Se=v(xe,2),Qe=v(g(Se),2),Nt=g(Qe,!0);m(Qe),m(Se);var ye=v(Se,2),Xe=v(g(ye),2),Ut=g(Xe,!0);m(Xe),m(ye);var Je=v(ye,2),je=v(g(Je),2),Wt=g(je,!0);m(je),m(Je),m(ze),m(Ue),m(me);var et=v(me,2),tt=g(et),at=g(tt),nt=v(g(at),2);I(nt,{label:"Starting Dash",get data(){return u(a).detailedBreakdown.startingDash}});var rt=v(nt,2);I(rt,{label:"Early Acceleration",get data(){return u(a).detailedBreakdown.phaseZeroAcceleration}});var it=v(rt,2);I(it,{label:"Early Steady",get data(){return u(a).detailedBreakdown.phaseZeroSteady}});var ot=v(it,2);I(ot,{label:"Middle Acceleration",get data(){return u(a).detailedBreakdown.phaseOneAcceleration}});var lt=v(ot,2);I(lt,{label:"Middle Steady",get data(){return u(a).detailedBreakdown.phaseOneSteady}});var st=v(lt,2);I(st,{label:"Late Acceleration",get data(){return u(a).detailedBreakdown.phaseTwoAcceleration}});var ct=v(st,2);I(ct,{label:"Late Steady",get data(){return u(a).detailedBreakdown.phaseTwoAndThreeSteady}});var ut=v(ct,2);I(ut,{label:"Last Spurt Acceleration",get data(){return u(a).detailedBreakdown.lastSpurtAcceleration}});var dt=v(ut,2);I(dt,{label:"Last Spurt Steady",get data(){return u(a).detailedBreakdown.lastSpurtSteady}});var vt=v(dt,2);I(vt,{label:"HP0 / Deceleration",get data(){return u(a).detailedBreakdown.hitPointsZeroDeceleration}});var ft=v(vt,4);I(ft,{label:"Ideal Last Spurt Acceleration",get data(){return u(a).detailedBreakdown.idealLastSpurtAcceleration}});var Zt=v(ft,2);I(Zt,{label:"Ideal Last Spurt Steady",get data(){return u(a).detailedBreakdown.idealLastSpurtSteady}}),m(at),m(tt),m(et),N((Vt,Yt,zt,Kt,Qt,Xt)=>{A(Ft,Vt),A(Bt,Yt),A(Gt,zt),A(Ot,Kt),A(Nt,u(a).requiredStamina),A(Ut,Qt),A(Wt,Xt)},[()=>L(u(a).baseSpeed,2),()=>L(u(a).initialHitPoints,2),()=>L(u(a).hitPointsWithRecovery,2),()=>L(u(a).targetHitPointsForLastSpurt,2),()=>L(u(a).lastSpurtDistance,2),()=>L(u(a).lastSpurtHitPointsConsumptionCoefficient,2)],Y),F(V,re)};Le(Et,V=>{u(r)&&V(It)})}N((V,re)=>{At(pe,1,`${V??""} text-center text-2xl font-bold self-center`),A(Ht,re)},[c,l],Y),Ua(Ne,()=>u(r),V=>J(r,V)),F(S,Te)};Le(ae,S=>{u(a)&&S(ne)})}ht(2),oe("click",Q,o),F(e,s),ce()}export{Yr as component};
