import"../chunks/CWj6FrbW.js";import{i as V}from"../chunks/CsWR9Nw8.js";import{ai as Ge,m as Ne,W as oe,n as F,z as Oe,o as Ue,H as R,a8 as Y,S as We,U as Ze,V as he,X as le,y as K,ak as Ve,ao as Ye,Y as ke,v as Le,Z as ze,ay as se,as as Pe,ag as _e,az as Ke,au as ae,aA as Se,i as Re,aB as Qe,aC as Xe,ar as Je,aD as je,x as et,aE as tt,aF as at,al as nt,$ as rt,r as it,aG as ot,aH as lt,aI as st,aJ as ct,aK as ut,aL as dt,e as y,a0 as Te,M as q,N as G,C as H,aM as vt,Q as m,P as _,R as f,L as N,u as ft,O,aw as xe,I as g,B as Q,aN as pt,aO as gt,a7 as ce,aP as mt,aQ as ye}from"../chunks/BUfLOW2L.js";import{l as ge,a as ht,s as P,d as _t,e as St,b as xt}from"../chunks/DxR1a_4L.js";import{p as L,i as fe,b as yt}from"../chunks/k5fHhs6s.js";function Ct(e,a){return a}function wt(e,a,t,n){for(var r=[],l=a.length,i=0;i<l;i++)Xe(a[i].e,r,!0);var o=l>0&&r.length===0&&t!==null;if(o){var c=t.parentNode;Je(c),c.append(t),n.clear(),W(e,a[0].prev,a[l-1].next)}je(r,()=>{for(var s=0;s<l;s++){var u=a[s];o||(n.delete(u.k),W(e,u.prev,u.next)),et(u.e,!o)}})}function bt(e,a,t,n,r,l=null){var i=e,o={flags:a,items:new Map,first:null};{var c=e;i=F?oe(Oe(c)):c.appendChild(Ge())}F&&Ue();var s=null,u=!1,d=Y(()=>{var v=t();return Re(v)?v:v==null?[]:Pe(v)});Ne(()=>{var v=R(d),p=v.length;if(u&&p===0)return;u=p===0;let h=!1;if(F){var M=We(i)===Ze;M!==(p===0)&&(i=he(),oe(i),le(!1),h=!0)}if(F){for(var b=null,x,C=0;C<p;C++){if(K.nodeType===Ve&&K.data===Ye){i=K,h=!0,le(!1);break}var w=v[C],A=n(w,C);x=$e(K,o,b,null,w,A,C,r,a,t),o.items.set(A,x),b=x}p>0&&oe(he())}F||Mt(v,o,i,r,a,n,t),l!==null&&(p===0?s?ke(s):s=Le(()=>l(i)):s!==null&&ze(s,()=>{s=null})),h&&le(!0),R(d)}),F&&(i=K)}function Mt(e,a,t,n,r,l,i){var o=e.length,c=a.items,s=a.first,u=s,d,v=null,p=[],h=[],M,b,x,C;for(C=0;C<o;C+=1){if(M=e[C],b=l(M,C),x=c.get(b),x===void 0){var w=u?u.e.nodes_start:t;v=$e(w,a,v,v===null?a.first:v.next,M,b,C,n,r,i),c.set(b,v),p=[],h=[],u=v.next;continue}if(At(x,M,C),(x.e.f&se)!==0&&ke(x.e),x!==u){if(d!==void 0&&d.has(x)){if(p.length<h.length){var A=h[0],k;v=A.prev;var S=p[0],T=p[p.length-1];for(k=0;k<p.length;k+=1)Ce(p[k],A,t);for(k=0;k<h.length;k+=1)d.delete(h[k]);W(a,S.prev,T.next),W(a,v,S),W(a,T,A),u=A,v=T,C-=1,p=[],h=[]}else d.delete(x),Ce(x,u,t),W(a,x.prev,x.next),W(a,x,v===null?a.first:v.next),W(a,v,x),v=x;continue}for(p=[],h=[];u!==null&&u.k!==b;)(u.e.f&se)===0&&(d??(d=new Set)).add(u),h.push(u),u=u.next;if(u===null)continue;x=u}p.push(x),v=x,u=x.next}if(u!==null||d!==void 0){for(var $=d===void 0?[]:Pe(d);u!==null;)(u.e.f&se)===0&&$.push(u),u=u.next;var I=$.length;if(I>0){var U=o===0?t:null;wt(a,$,U,c)}}_e.first=a.first&&a.first.e,_e.last=v&&v.e}function At(e,a,t,n){Ke(e.v,a),e.i=t}function $e(e,a,t,n,r,l,i,o,c,s){var u=(c&tt)!==0,d=(c&at)===0,v=u?d?ae(r,!1,!1):Se(r):r,p=(c&Qe)===0?i:Se(i),h={i:p,v,k:l,a:null,e:null,prev:t,next:n};try{return h.e=Le(()=>o(e,v,p,s),F),h.e.prev=t&&t.e,h.e.next=n&&n.e,t===null?a.first=h:(t.next=h,t.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Ce(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,l=e.e.nodes_start;l!==n;){var i=nt(l);r.before(l),l=i}}function W(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}function Dt(e,a,t){var n=e==null?"":""+e;return n===""?null:n}function He(e,a,t,n,r,l){var i=e.__className;if(F||i!==t||i===void 0){var o=Dt(t);(!F||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=t}return l}function qe(e,a,t){if(e.multiple){if(a==null)return;if(!Re(a))return ot();for(var n of e.options)n.selected=a.includes(X(n));return}for(n of e.options){var r=X(n);if(lt(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function kt(e){var a=new MutationObserver(()=>{qe(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),it(()=>{a.disconnect()})}function Lt(e,a,t=a){var n=!0;ge(e,"change",r=>{var l=r?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(l),X);else{var o=e.querySelector(l)??e.querySelector("option:not([disabled])");i=o&&X(o)}t(i)}),rt(()=>{var r=a();if(qe(e,r,n),n&&r===void 0){var l=e.querySelector(":checked");l!==null&&(r=X(l),t(r))}e.__value=r,n=!1}),kt(e)}function X(e){return"__value"in e?e.__value:e.value}const Pt=Symbol("is custom element"),Rt=Symbol("is html");function Ie(e){if(F){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;we(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;we(e,"checked",null),e.checked=r}}};e.__on_r=t,st(t),ht()}}function we(e,a,t,n){var r=Tt(e);F&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[ct]=t),e.removeAttribute(a))}function Tt(e){return e.__attributes??(e.__attributes={[Pt]:e.nodeName.includes("-"),[Rt]:e.namespaceURI===ut})}function $t(e,a,t=a){var n=dt();ge(e,"input",r=>{var l=r?e.defaultValue:e.value;if(l=ue(e)?de(l):l,t(l),n&&l!==(l=a())){var i=e.selectionStart,o=e.selectionEnd;e.value=l??"",o!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(o,e.value.length))}}),(F&&e.defaultValue!==e.value||y(a)==null&&e.value)&&t(ue(e)?de(e.value):e.value),Te(()=>{var r=a();ue(e)&&r===de(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Ht(e,a,t=a){ge(e,"change",n=>{var r=n?e.defaultChecked:e.checked;t(r)}),(F&&e.defaultChecked!==e.checked||y(a)==null)&&t(e.checked),Te(()=>{var n=a();e.checked=!!n})}function ue(e){var a=e.type;return a==="number"||a==="range"}function de(e){return e===""?null:+e}const ve=["S","A","B","C","D","E","F","G"],qt=["Great","Good","Normal","Bad","Terrible"],It=["Front","Pace","Late","End"],Ft=["Turf","Dirt"],Bt=["Firm","Soft","Heavy","Wet"],pe={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Et={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Gt={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Nt={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},Ot={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},Ut={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},Wt={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}},Zt={stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0}},Vt=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]],Yt={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function zt(e,a,t){return e+.8*a*t}function Kt(e,a,t){return e*(1+(a+t)/1e4)}function Qt(e,a){return e*550+a*150}function Xt(e,a){let t=0;return e>0&&(t+=350*Math.pow(1.02,e-1)),a>0&&(t+=550*Math.pow(1.02,a-1)),t}function Jt(e){return Et[e]}function jt(e,a){return Gt[e][a]}function ea(e){return Nt[e]}function ta(e){return Wt[e]}function aa(e){return Ot[e]}function na(e){return Ut[e]}function ra(e){return e*.85}function ia(e,a,t){return e*t+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function oa(e,a,t,n){return 6e-4*Math.sqrt(500*e)*a*t*n}function la(e,a,t,n,r){const l=(a-e)/t,i=(-e+Math.sqrt(e**2+2*t*(n/6-r)))/t;return Math.min(l,i)}function sa(e,a,t){return(e+a*t/2)*t}function ca(e,a,t,n,r){return 20*r*((a*t+e-n+12)**3-(e-n+12)**3)/(3*a)/144}function ua(e,a,t,n,r,l,i,o,c){const s=ra(e),u=ia(e,a.wit,t),d=oa(a.power,n,r,l),v=la(s,u,d,i,o),p=sa(s,d,v),h=ca(s,d,v,e,c.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:u,acceleration:d,duration:v,distance:p,hpConsumption:h}}function da(e,a){return e/a}function va(e,a,t){return Math.max(e/6-(a+t),0)}function fa(e,a,t,n){return 20*t*(e-a+12)**2/144*n}function pa(e,a,t,n,r){const l=t.targetSpeed,i=t.targetSpeed,o=0,c=va(a,n.distance,t.distance),s=da(c,l),u=fa(l,e,r.hpConsumptionCoefficient,s);return{initialSpeed:l,targetSpeed:i,acceleration:o,duration:s,distance:c,hpConsumption:u}}const me=3;function ga(e){return e*.85}function ma(e,a,t,n){return 24+6e-4*Math.sqrt(500*e)*a*t*n}function ha(e,a){return(e-me)/a}function _a(e,a){return(me+e)/2*a}function Sa(e,a){return 20*a*e}function xa(e,a,t,n,r,l){const i=me,o=ga(e),c=ma(a,t,n,r),s=ha(o,c),u=_a(o,s),d=Sa(s,l.hpConsumptionCoefficient);return{initialSpeed:i,targetSpeed:o,acceleration:c,distance:u,duration:s,hpConsumption:d}}function ya(e,a,t,n){return(e*a+t.speed)*n.speed**2}function Ca(e,a){return e*a}function wa(e,a,t,n){return(e*a+t.power)*n.acceleration}function ba(e,a){return e*a}function Ma(e,a,t){return e*a*t}function Aa(e,a,t,n,r){return{speed:ya(e.speed,a,t,n),stamina:Ca(e.stamina,a),power:wa(e.power,a,t,n),guts:ba(e.guts,a),wit:Ma(e.wit,a,r)}}function Da(e,a){return e/a}function ka(e,a){return e/2-a}function La(e,a,t,n){return 20*n*(a-e+12)**2/144*t}function Pa(e,a,t,n){const r=t.targetSpeed,l=t.targetSpeed,i=0,o=ka(a,t.distance),c=Da(o,r),s=La(e,r,c,n.hpConsumptionCoefficient);return{initialSpeed:r,targetSpeed:l,acceleration:i,duration:c,distance:o,hpConsumption:s}}function Ra(e,a,t){return Math.max(e/3-a-t,0)}function Ta(e,a){return e/a}function $a(e,a,t,n,r){return 20*t*n*(a-e+12)**2/144*r}function Ha(e){const a=e.targetSpeed,t=e.targetSpeed;return{initialSpeed:a,targetSpeed:t,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function qa(e,a,t,n,r,l,i){const o=e.initialSpeed,c=e.targetSpeed,s=e.acceleration,u=Ra(t,n,r.distance),d=Ta(u,c),v=$a(a,o,l.hpConsumptionCoefficient,i,d);return{initialSpeed:o,targetSpeed:c,acceleration:s,duration:d,distance:u,hpConsumption:v}}function Ia(e,a,t,n,r,l,i,o,c,s,u,d){const v=t+n+r+l+i,p=(a-v-(e/3-60)*20*o*c*(s-d+12)**2/144/s)/(20*o*c*((u-d+12)**2/144/u-(s-d+12)**2/144/s))+60,h=e/3;return Math.min(p,h)}function Fa(e){return 1+200/Math.sqrt(600*e)}function Ba(e,a,t,n,r,l,i,o,c){return e-(a+t+n+r+l+i+o+c)}function Ea(e,a,t,n,r){return t/(20*n*r*(a-e+12)**2/144)}function Ga(e,a,t,n,r,l,i,o){return 20*i*o*(t-e+12)**2/144*(a/3-(n+r+l))/t}function Na(e,a){return e*a}function Oa(e,a,t,n,r,l,i,o){const c=i.targetSpeed,s=i.targetSpeed,u=0,d=Ga(e,a,c,r.distance,l.distance,i.distance,o.hpConsumptionCoefficient,t),v=Math.min(d,n),p=Ea(e,c,v,o.hpConsumptionCoefficient,t),h=Na(c,p);return{initialSpeed:c,targetSpeed:s,acceleration:u,duration:p,distance:h,hpConsumption:v}}function Ua(e,a,t){return a===0?e:t}function Wa(e,a,t,n){return(e*(t+.01)+Math.sqrt(500*a)*n*.002)*1.05+Math.sqrt(500*a)*n*.002}function Za(e,a,t,n){return 6e-4*Math.sqrt(500*e)*a*t*n}function Fe(e,a,t){return(e-a)/t}function Be(e,a,t){return(e+a)/2*t}function Ee(e,a,t,n,r,l){return 20*r*l*((a+t*n-e+12)**3-(a-e+12)**3)/(3*t)/144}function Va(e,a,t,n){return{initialSpeed:-1,targetSpeed:Wa(e,a.speed,t.speedCorrection.late,n.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function Ya(e,a,t,n,r,l,i,o,c,s,u){const d=Ua(c.targetSpeed,s.distance,u.targetSpeed),v=e.targetSpeed,p=Za(t.power,n.accelerationCorrection.late,r.acceleration,l),h=Fe(v,d,p),M=Be(d,v,h),b=Ee(a,d,p,h,i.hpConsumptionCoefficient,o);return{initialSpeed:d,targetSpeed:v,acceleration:p,duration:h,distance:M,hpConsumption:b}}function za(e,a,t,n,r,l){const i=n.targetSpeed,o=l.targetSpeed,c=l.acceleration,s=Fe(o,i,c),u=Be(i,o,s),d=Ee(e,r.initialSpeed,l.acceleration,s,a.hpConsumptionCoefficient,t);return{initialSpeed:i,targetSpeed:o,acceleration:c,duration:s,distance:u,hpConsumption:d}}function Ka(e,a,t){return(-e+Math.sqrt(e**2+2*a*t))/a}function Qa(e,a,t,n,r){return e/3-(a+t+n+r)}function Xa(e,a,t,n,r,l){const i=l.targetSpeed,o=a,c=-1.2,s=Qa(e,t.distance,n.distance,r.distance,l.distance),u=Ka(i,c,s);return{initialSpeed:i,targetSpeed:o,acceleration:c,duration:u,distance:s,hpConsumption:0}}function Ja(e,a,t,n,r,l,i){const o=e+a+t+n+r,c=l+i;return o+c}function ja(e,a,t,n,r,l){return e+(a-t)/.8/n/(1+(r+l)/1e4)}function en(e){return(6.5/Math.log10(.1*e+1))**2}function tn(e){return Math.max(100-9e3/e,20)}function an(e){return 20-(e-2e3)/1e3}function nn(e,a){return .85*e+Math.sqrt(200*a)*.001}function rn(e,a,t){return e+a*t}function on(e,a,t){return e*t+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function ln(e,a,t,n,r,l){return e>a?-.8:6e-4*Math.sqrt(500*t)*n*r*l}function sn(e,a,t){return(a-e)/t}function cn(e,a,t){return(e+a)/2*t}function un(e,a,t,n,r){return 20*r*((a-n+12)**3-(e-n+12)**3)/(3*t)/144}function dn(e,a,t,n,r,l,i){const o=rn(t.initialSpeed,t.acceleration,t.duration),c=on(e,a.wit,n.speedCorrection.middle),s=ln(o,c,a.power,n.accelerationCorrection.middle,r.acceleration,l),u=sn(o,c,s),d=cn(o,c,u),v=un(o,c,s,e,i.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:c,acceleration:s,duration:u,distance:d,hpConsumption:v}}function vn(e,a,t,n,r){return e*n+Math.sqrt(500*a)*r*.002+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function fn(e,a,t,n,r,l){return e>a?-.8:6e-4*Math.sqrt(500*t)*n*r*l}function pn(e,a,t,n,r){return e/3<=a?0:(t-n)/r}function gn(e,a,t){return(e+a)/2*t}function mn(e,a,t,n,r,l){return 20*r*l*((a+t*n-e+12)**3-(a-e+12)**3)/(3*t)/144}function hn(e,a,t,n,r,l){const i=l.targetSpeed,o=vn(e,a.speed,a.wit,t.speedCorrection.late,n.speed),c=fn(i,o,a.power,t.accelerationCorrection.late,n.acceleration,r);return{initialSpeed:i,targetSpeed:o,acceleration:c,duration:-1,distance:-1,hpConsumption:-1}}function _n(e,a,t,n,r,l){const i=e.initialSpeed,o=e.targetSpeed,c=e.acceleration,s=pn(t,n,o,i,c),u=gn(i,o,s),d=mn(a,i,c,s,r.hpConsumptionCoefficient,l);return{initialSpeed:i,targetSpeed:o,acceleration:c,duration:s,distance:u,hpConsumption:d}}function Sn(e,a){return e/3-a}function xn(e,a){return e/a}function yn(e,a,t,n,r){return 20*a*t*(n-e+12)**2/144*r}function Cn(e,a,t,n,r,l){const i=n.targetSpeed,o=n.targetSpeed,c=0,s=Sn(a,r.distance),u=xn(s,i),d=yn(e,l.hpConsumptionCoefficient,t,i,u);return{initialSpeed:i,targetSpeed:o,acceleration:c,duration:u,distance:s,hpConsumption:d}}function wn(e){const a=parseInt(e.distance),t=Jt(e.mood),n=jt(e.surface,e.condition),r=ea(e.distanceAptitude),l=aa(e.strategyAptitude),i=ta(e.strategy),o=na(e.surfaceAptitude),c=Aa(e.stats,t,n,r,l),s=an(a),u=nn(s,c.guts),d=zt(a,c.stamina,i.hpCorrection),v=Qt(e.skills.goldRecovery,e.skills.whiteRecovery),p=Xt(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),h=Kt(d,v,p),M=tn(e.stats.wit),b=en(c.wit),x=Fa(c.guts),C=xa(s,c.power,i.accelerationCorrection.early,r.acceleration,o,n),w=ua(s,c,i.speedCorrection.early,i.accelerationCorrection.early,r.acceleration,o,a,C.distance,n),A=pa(s,a,w,C,n),k=dn(s,c,w,i,r,o,n),S=Pa(s,a,k,n);let T=hn(s,c,i,r,o,S),$=Ha(T),I=Va(s,c,i,r);const U=Ia(a,h,C.hpConsumption,w.hpConsumption,A.hpConsumption,k.hpConsumption,S.hpConsumption,n.hpConsumptionCoefficient,x,$.initialSpeed,I.targetSpeed,s);T=_n(T,s,a,U,n,x),$=qa($,s,a,U,T,n,x),I=Ya(I,s,c,i,r,o,n,x,S,T,$);const ne=Ba(h,C.hpConsumption,w.hpConsumption,A.hpConsumption,k.hpConsumption,S.hpConsumption,T.hpConsumption,$.hpConsumption,I.hpConsumption),J=Oa(s,a,x,ne,T,$,I,n),re=Xa(a,u,T,$,I,J),z=za(s,n,x,S,T,I),j=Cn(s,a,x,I,z,n),ee=Ja(C.hpConsumption,w.hpConsumption,A.hpConsumption,k.hpConsumption,S.hpConsumption,z.hpConsumption,j.hpConsumption),ie=ja(c.stamina,ee,h,i.hpCorrection,v,p);return{realStats:c,baseSpeed:s,initialHitPoints:d,hitPointsWithRecovery:h,lastSpurtDistance:U,lastSpurtHitPointsConsumptionCoefficient:x,targetHitPointsForLastSpurt:ee,requiredStamina:ie,skillProcRate:M,rushedRate:b,detailedBreakdown:{startingDash:C,phaseZeroAcceleration:w,phaseZeroSteady:A,phaseOneAcceleration:k,phaseOneSteady:S,phaseTwoAcceleration:T,phaseTwoAndThreeSteady:$,lastSpurtAcceleration:I,lastSpurtSteady:J,hitPointsZeroDeceleration:re,idealLastSpurtAcceleration:z,idealLastSpurtSteady:j}}}function D(e,a=0){if(e===0)return"-";const t=10**a;return(Math.sign(e)*Math.round(Math.abs(e)*t)/t).toFixed(a)}function be(e){return pe[parseInt(e.distance)]}function Me(e){return e.realStats.stamina+1<e.requiredStamina?"Not enough stamina/guts":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"Borderline":"You have enough stamina!"}function Ae(e){return e.realStats.stamina+1<e.requiredStamina?"text-red-600":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"text-orange-400":"text-green-600"}var bn=q("<option> </option>"),Mn=q('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function De(e,a){let t=L(a,"options",24,()=>[]),n=L(a,"value",12);var r=Mn();G(()=>{n(),vt(()=>{t()})}),bt(r,5,t,Ct,(l,i)=>{var o=bn(),c=_(o,!0);m(o);var s={};G(()=>{P(c,R(i)),s!==(s=R(i))&&(o.value=(o.__value=R(i))??"")}),H(l,o)}),m(r),Lt(r,n),H(e,r)}var An=q('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function te(e,a){let t=L(a,"label",8),n=L(a,"extraLabel",8,""),r=L(a,"option1",24,()=>[]),l=L(a,"value1",12),i=L(a,"option2",24,()=>[]),o=L(a,"value2",12);var c=An(),s=_(c),u=_(s,!0);m(s);var d=f(s,2),v=_(d,!0);m(d);var p=f(d,2),h=_(p);De(h,{get options(){return r()},get value(){return l()},set value(b){l(b)},$$legacy:!0});var M=f(h,2);De(M,{get options(){return i()},get value(){return o()},set value(b){o(b)},$$legacy:!0}),m(p),m(c),G(()=>{P(u,t()),P(v,n())}),H(e,c)}var Dn=q("<span> </span>"),kn=q('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function E(e,a){N(a,!0);let t=L(a,"label",3,""),n=L(a,"value",15),r=L(a,"showGrade",3,!0),l=L(a,"min",3,0),i=L(a,"max",3,1200),o,c=xe(()=>{var w;return((w=Vt.find(([A])=>n()>=A))==null?void 0:w[1])??""}),s=xe(()=>Yt[R(c)]??"text-gray-800");ft(()=>{n()<l()&&n(l()),n()>i()&&n(i())});function u(){o==null||o.focus(),o==null||o.select()}var d=kn();d.__click=u;var v=_(d),p=_(v),h=_(p,!0);m(p);var M=f(p,2),b=_(M);{var x=w=>{var A=Dn(),k=_(A,!0);m(A),G(()=>{He(A,1,`${R(s)??""} text-xl font-bold`),P(k,R(c))}),H(w,A)};fe(b,w=>{r()&&w(x)})}var C=f(b,2);Ie(C),yt(C,w=>o=w,()=>o),m(M),m(v),m(d),G(()=>P(h,t())),St("focus",C,u),$t(C,n),H(e,d),O()}_t(["click"]);var Ln=q('<div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div>');function Pn(e,a){N(a,!1);let t=L(a,"inputData",12);V();var n=Ln(),r=_(n),l=_(r);E(l,{label:"Speed",get value(){return t().stats.speed},set value(S){t(t().stats.speed=S,!0)},$$legacy:!0});var i=f(l,2);E(i,{label:"Stamina",get value(){return t().stats.stamina},set value(S){t(t().stats.stamina=S,!0)},$$legacy:!0});var o=f(i,2);E(o,{label:"Power",get value(){return t().stats.power},set value(S){t(t().stats.power=S,!0)},$$legacy:!0});var c=f(o,2);E(c,{label:"Guts",get value(){return t().stats.guts},set value(S){t(t().stats.guts=S,!0)},$$legacy:!0});var s=f(c,2);E(s,{label:"Wit",get value(){return t().stats.wit},set value(S){t(t().stats.wit=S,!0)},$$legacy:!0}),m(r);var u=f(r,2),d=_(u);te(d,{label:"Track",get option1(){return Ft},get option2(){return ve},get value1(){return t().surface},set value1(S){t(t().surface=S,!0)},get value2(){return t().surfaceAptitude},set value2(S){t(t().surfaceAptitude=S,!0)},$$legacy:!0});var v=f(d,2);const p=Y(()=>(g(be),g(t()),y(()=>be(t())))),h=Y(()=>(g(pe),y(()=>Object.keys(pe))));te(v,{label:"Distance",get extraLabel(){return R(p)},get option1(){return R(h)},get option2(){return ve},get value1(){return t().distance},set value1(S){t(t().distance=S,!0)},get value2(){return t().distanceAptitude},set value2(S){t(t().distanceAptitude=S,!0)},$$legacy:!0});var M=f(v,2);te(M,{label:"Style",get option1(){return It},get option2(){return ve},get value1(){return t().strategy},set value1(S){t(t().strategy=S,!0)},get value2(){return t().strategyAptitude},set value2(S){t(t().strategyAptitude=S,!0)},$$legacy:!0});var b=f(M,2);te(b,{label:"Mood/Condition",get option1(){return qt},get option2(){return Bt},get value1(){return t().mood},set value1(S){t(t().mood=S,!0)},get value2(){return t().condition},set value2(S){t(t().condition=S,!0)},$$legacy:!0}),m(u);var x=f(u,4),C=_(x);E(C,{label:"Gold skills",showGrade:!1,get value(){return t().skills.goldRecovery},set value(S){t(t().skills.goldRecovery=S,!0)},$$legacy:!0});var w=f(C,2);E(w,{label:"White skills",showGrade:!1,get value(){return t().skills.whiteRecovery},set value(S){t(t().skills.whiteRecovery=S,!0)},$$legacy:!0});var A=f(w,2);E(A,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return t().skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(S){t(t().skills.uniqueRecoveryLevelTwoStarsOrBelow=S,!0)},$$legacy:!0});var k=f(A,2);E(k,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return t().skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(S){t(t().skills.uniqueRecoveryLevelThreeStarsOrAbove=S,!0)},$$legacy:!0}),m(x),m(n),H(e,n),O()}var Rn=q('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function Z(e,a){N(a,!1);let t=L(a,"label",8),n=L(a,"value",8),r=L(a,"decimals",8,0),l=L(a,"valueSuffix",8,"");V();var i=Rn(),o=_(i),c=_(o,!0);m(o);var s=f(o,2),u=_(s);m(s),m(i),G(d=>{P(c,t()),P(u,`${d??""}${l()??""}`)},[()=>(g(D),g(n()),g(r()),y(()=>D(n(),r())))],Y),H(e,i),O()}var Tn=q('<h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="grid grid-cols-5"><!> <!> <!> <!> <!></div>',1);function $n(e,a){N(a,!1);let t=L(a,"stats",8);V();var n=Tn(),r=f(Q(n),2),l=_(r);Z(l,{label:"Speed",get value(){return g(t()),y(()=>t().speed)}});var i=f(l,2);Z(i,{label:"Stamina",get value(){return g(t()),y(()=>t().stamina)}});var o=f(i,2);Z(o,{label:"Power",get value(){return g(t()),y(()=>t().power)}});var c=f(o,2);Z(c,{label:"Guts",get value(){return g(t()),y(()=>t().guts)}});var s=f(c,2);Z(s,{label:"Wit",get value(){return g(t()),y(()=>t().wit)}}),m(r),H(e,n),O()}var Hn=q('<h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div>',1);function qn(e,a){N(a,!1);let t=L(a,"result",8);V();var n=Hn(),r=f(Q(n),2),l=_(r);Z(l,{label:"Stamina Needed",get value(){return g(t()),y(()=>t().requiredStamina)}});var i=f(l,2),o=_(i,!0);m(i),m(r);var c=f(r,2),s=_(c);Z(s,{label:"Skill proc rate",get value(){return g(t()),y(()=>t().skillProcRate)},decimals:2,valueSuffix:"%"});var u=f(s,2);Z(u,{label:"Rushed rate",get value(){return g(t()),y(()=>t().rushedRate)},decimals:2,valueSuffix:"%"}),m(c),G((d,v)=>{He(i,1,`${d??""} text-center text-2xl font-bold self-center`),P(o,v)},[()=>(g(Ae),g(t()),y(()=>Ae(t()))),()=>(g(Me),g(t()),y(()=>Me(t())))],Y),H(e,n),O()}var In=q('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function B(e,a){N(a,!1);let t=L(a,"label",8),n=L(a,"data",8);V();var r=In(),l=_(r),i=_(l,!0);m(l);var o=f(l,2),c=_(o,!0);m(o);var s=f(o,2),u=_(s,!0);m(s);var d=f(s,2),v=_(d,!0);m(d);var p=f(d,2),h=_(p,!0);m(p);var M=f(p,2),b=_(M,!0);m(M);var x=f(M,2),C=_(x,!0);m(x),m(r),G((w,A,k,S,T,$)=>{P(i,t()),P(c,w),P(u,A),P(v,k),P(h,S),P(b,T),P(C,$)},[()=>(g(D),g(n()),y(()=>D(n().initialSpeed,3))),()=>(g(D),g(n()),y(()=>D(n().targetSpeed,3))),()=>(g(D),g(n()),y(()=>D(n().acceleration,3))),()=>(g(D),g(n()),y(()=>D(n().duration,3))),()=>(g(D),g(n()),y(()=>D(n().distance,2))),()=>(g(D),g(n()),y(()=>D(n().hpConsumption,2)))],Y),H(e,r),O()}var Fn=q('<div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>');function Bn(e,a){N(a,!1);let t=L(a,"result",8);V();var n=Fn(),r=_(n),l=_(r),i=f(_(l),2);B(i,{label:"Starting Dash",get data(){return g(t()),y(()=>t().detailedBreakdown.startingDash)}});var o=f(i,2);B(o,{label:"Early Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseZeroAcceleration)}});var c=f(o,2);B(c,{label:"Early Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseZeroSteady)}});var s=f(c,2);B(s,{label:"Middle Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseOneAcceleration)}});var u=f(s,2);B(u,{label:"Middle Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseOneSteady)}});var d=f(u,2);B(d,{label:"Late Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseTwoAcceleration)}});var v=f(d,2);B(v,{label:"Late Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.phaseTwoAndThreeSteady)}});var p=f(v,2);B(p,{label:"Last Spurt Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.lastSpurtAcceleration)}});var h=f(p,2);B(h,{label:"Last Spurt Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.lastSpurtSteady)}});var M=f(h,2);B(M,{label:"HP0 / Deceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.hitPointsZeroDeceleration)}});var b=f(M,4);B(b,{label:"Ideal Last Spurt Acceleration",get data(){return g(t()),y(()=>t().detailedBreakdown.idealLastSpurtAcceleration)}});var x=f(b,2);B(x,{label:"Ideal Last Spurt Steady",get data(){return g(t()),y(()=>t().detailedBreakdown.idealLastSpurtSteady)}}),m(l),m(r),m(n),H(e,n),O()}var En=q('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-4"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div></div></div>');function Gn(e,a){N(a,!1);let t=L(a,"result",8);V();var n=En(),r=_(n),l=_(r),i=_(l),o=f(_(i),2),c=_(o,!0);m(o),m(i);var s=f(i,2),u=f(_(s),2),d=_(u,!0);m(u),m(s);var v=f(s,2),p=f(_(v),2),h=_(p,!0);m(p),m(v),m(l);var M=f(l,2),b=_(M),x=f(_(b),2),C=_(x,!0);m(x),m(b);var w=f(b,2),A=f(_(w),2),k=_(A,!0);m(A),m(w);var S=f(w,2),T=f(_(S),2),$=_(T,!0);m(T),m(S);var I=f(S,2),U=f(_(I),2),ne=_(U,!0);m(U),m(I),m(M),m(r),m(n),G((J,re,z,j,ee,ie)=>{P(c,J),P(d,re),P(h,z),P(C,j),P(k,(g(t()),y(()=>t().requiredStamina))),P($,ee),P(ne,ie)},[()=>(g(D),g(t()),y(()=>D(t().baseSpeed,2))),()=>(g(D),g(t()),y(()=>D(t().initialHitPoints,2))),()=>(g(D),g(t()),y(()=>D(t().hitPointsWithRecovery,2))),()=>(g(D),g(t()),y(()=>D(t().targetHitPointsForLastSpurt,2))),()=>(g(D),g(t()),y(()=>D(t().lastSpurtDistance,2))),()=>(g(D),g(t()),y(()=>D(t().lastSpurtHitPointsConsumptionCoefficient,2)))],Y),H(e,n),O()}var Nn=q("<!> <!>",1),On=q('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><!> <!></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Un=q('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <!> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Kn(e,a){N(a,!1);let t=ae(),n=ae(!1),r=ae({...Zt});pt(()=>R(r),()=>{ce(t,wn(R(r)))}),gt(),V();var l=Un();xt(s=>{mt.title="UmaCalc"});var i=f(Q(l),2);Pn(i,{get inputData(){return R(r)},set inputData(s){ce(r,s)},$$legacy:!0});var o=f(i,2);{var c=s=>{var u=On(),d=Q(u),v=_(d),p=_(v);$n(p,{get stats(){return R(t),y(()=>R(t).realStats)}});var h=f(p,2);qn(h,{get result(){return R(t)}}),m(v);var M=f(v,2),b=_(M);Ie(b),ye(),m(M),m(d);var x=f(d,2);{var C=w=>{var A=Nn(),k=Q(A);Gn(k,{get result(){return R(t)}});var S=f(k,2);Bn(S,{get result(){return R(t)}}),H(w,A)};fe(x,w=>{R(n)&&w(C)})}Ht(b,()=>R(n),w=>ce(n,w)),H(s,u)};fe(o,s=>{R(t)&&s(c)})}ye(2),H(e,l),O()}export{Kn as component};
