import"../chunks/CWj6FrbW.js";import{ai as Ee,m as Ne,I as le,n as F,z as Oe,o as Ue,T as L,Y as We,D as Ze,F as Ve,G as ge,J as oe,y as X,ak as Ye,ao as Ke,K as ke,v as De,L as je,ay as se,as as Ae,ag as me,az as ze,au as Je,aA as he,i as Me,aB as Xe,aC as Qe,ar as $e,aD as et,x as tt,aE as at,aF as nt,al as rt,M as it,r as lt,aG as ot,aH as st,aI as ut,aJ as ct,aK as dt,aL as vt,e as Le,N as Pe,a7 as E,a8 as I,C as q,aa as N,ac as _,ab as C,a9 as Z,ad as v,u as ft,aw as ee,B as Q,av as _e,V as pt,aM as gt,W as Ce,aN as Se}from"../chunks/B4F_PDGF.js";import{l as fe,a as mt,s as G,d as ht,e as _t,b as Ct}from"../chunks/DJ0vSZYn.js";import{p as H,i as ve,b as St}from"../chunks/5ffJjjcu.js";function wt(e,t){return t}function xt(e,t,a,n){for(var r=[],i=t.length,l=0;l<i;l++)Qe(t[l].e,r,!0);var o=i>0&&r.length===0&&a!==null;if(o){var u=a.parentNode;$e(u),u.append(a),n.clear(),U(e,t[0].prev,t[i-1].next)}et(r,()=>{for(var s=0;s<i;s++){var c=t[s];o||(n.delete(c.k),U(e,c.prev,c.next)),tt(c.e,!o)}})}function bt(e,t,a,n,r,i=null){var l=e,o={flags:t,items:new Map,first:null};{var u=e;l=F?le(Oe(u)):u.appendChild(Ee())}F&&Ue();var s=null,c=!1,d=We(()=>{var f=a();return Me(f)?f:f==null?[]:Ae(f)});Ne(()=>{var f=L(d),g=f.length;if(c&&g===0)return;c=g===0;let m=!1;if(F){var y=Ze(l)===Ve;y!==(g===0)&&(l=ge(),le(l),oe(!1),m=!0)}if(F){for(var x=null,h,S=0;S<g;S++){if(X.nodeType===Ye&&X.data===Ke){l=X,m=!0,oe(!1);break}var w=f[S],b=n(w,S);h=Te(X,o,x,null,w,b,S,r,t,a),o.items.set(b,h),x=h}g>0&&le(ge())}F||yt(f,o,l,r,t,n,a),i!==null&&(g===0?s?ke(s):s=De(()=>i(l)):s!==null&&je(s,()=>{s=null})),m&&oe(!0),L(d)}),F&&(l=X)}function yt(e,t,a,n,r,i,l){var o=e.length,u=t.items,s=t.first,c=s,d,f=null,g=[],m=[],y,x,h,S;for(S=0;S<o;S+=1){if(y=e[S],x=i(y,S),h=u.get(x),h===void 0){var w=c?c.e.nodes_start:a;f=Te(w,t,f,f===null?t.first:f.next,y,x,S,n,r,l),u.set(x,f),g=[],m=[],c=f.next;continue}if(kt(h,y,S),(h.e.f&se)!==0&&ke(h.e),h!==c){if(d!==void 0&&d.has(h)){if(g.length<m.length){var b=m[0],k;f=b.prev;var A=g[0],M=g[g.length-1];for(k=0;k<g.length;k+=1)we(g[k],b,a);for(k=0;k<m.length;k+=1)d.delete(m[k]);U(t,A.prev,M.next),U(t,f,A),U(t,M,b),c=b,f=M,S-=1,g=[],m=[]}else d.delete(h),we(h,c,a),U(t,h.prev,h.next),U(t,h,f===null?t.first:f.next),U(t,f,h),f=h;continue}for(g=[],m=[];c!==null&&c.k!==x;)(c.e.f&se)===0&&(d??(d=new Set)).add(c),m.push(c),c=c.next;if(c===null)continue;h=c}g.push(h),f=h,c=h.next}if(c!==null||d!==void 0){for(var P=d===void 0?[]:Ae(d);c!==null;)(c.e.f&se)===0&&P.push(c),c=c.next;var T=P.length;if(T>0){var O=o===0?a:null;xt(t,P,O,u)}}me.first=t.first&&t.first.e,me.last=f&&f.e}function kt(e,t,a,n){ze(e.v,t),e.i=a}function Te(e,t,a,n,r,i,l,o,u,s){var c=(u&at)!==0,d=(u&nt)===0,f=c?d?Je(r,!1,!1):he(r):r,g=(u&Xe)===0?l:he(l),m={i:g,v:f,k:i,a:null,e:null,prev:a,next:n};try{return m.e=De(()=>o(e,f,g,s),F),m.e.prev=a&&a.e,m.e.next=n&&n.e,a===null?t.first=m:(a.next=m,a.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function we(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==n;){var l=rt(i);r.before(i),i=l}}function U(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function Dt(e,t,a){var n=e==null?"":""+e;return n===""?null:n}function Re(e,t,a,n,r,i){var l=e.__className;if(F||l!==a||l===void 0){var o=Dt(a);(!F||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}return i}function He(e,t,a){if(e.multiple){if(t==null)return;if(!Me(t))return ot();for(var n of e.options)n.selected=t.includes($(n));return}for(n of e.options){var r=$(n);if(st(r,t)){n.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function At(e){var t=new MutationObserver(()=>{He(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),lt(()=>{t.disconnect()})}function Mt(e,t,a=t){var n=!0;fe(e,"change",r=>{var i=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),$);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");l=o&&$(o)}a(l)}),it(()=>{var r=t();if(He(e,r,n),n&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=$(i),a(r))}e.__value=r,n=!1}),At(e)}function $(e){return"__value"in e?e.__value:e.value}const Lt=Symbol("is custom element"),Pt=Symbol("is html");function Ge(e){if(F){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;xe(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;xe(e,"checked",null),e.checked=r}}};e.__on_r=a,ut(a),mt()}}function xe(e,t,a,n){var r=Tt(e);F&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=a)&&(t==="loading"&&(e[ct]=a),e.removeAttribute(t))}function Tt(e){return e.__attributes??(e.__attributes={[Lt]:e.nodeName.includes("-"),[Pt]:e.namespaceURI===dt})}function Rt(e,t,a=t){var n=vt();fe(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=ue(e)?ce(i):i,a(i),n&&i!==(i=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),(F&&e.defaultValue!==e.value||Le(t)==null&&e.value)&&a(ue(e)?ce(e.value):e.value),Pe(()=>{var r=t();ue(e)&&r===ce(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Ht(e,t,a=t){fe(e,"change",n=>{var r=n?e.defaultChecked:e.checked;a(r)}),(F&&e.defaultChecked!==e.checked||Le(t)==null)&&a(e.checked),Pe(()=>{var n=t();e.checked=!!n})}function ue(e){var t=e.type;return t==="number"||t==="range"}function ce(e){return e===""?null:+e}const de=["S","A","B","C","D","E","F","G"],Gt=["Great","Good","Normal","Bad","Terrible"],qt=["Front","Pace","Late","End"],It=["Turf","Dirt"],Bt=["Firm","Soft","Heavy","Wet"],qe={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1700:"Mile",1800:"Mile",1900:"Medium",2e3:"Medium",2100:"Medium",2200:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Ft={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Et={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Nt={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},Ot={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},Ut={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},Wt={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}},Zt={stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0,singleCircle:{speed:0,stamina:0,power:0,guts:0,wit:0,all:0},doubleCircle:{speed:0,stamina:0,power:0,guts:0,wit:0,all:0}}},Vt=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]],Yt={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function Kt(e,t,a){return e+.8*t*a}function jt(e,t,a){return e*(1+(t+a)/1e4)}function zt(e,t){return e*550+t*150}function Jt(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function Xt(e){return Ft[e]}function Qt(e,t){return Et[e][t]}function $t(e){return Nt[e]}function ea(e){return Wt[e]}function ta(e){return Ot[e]}function aa(e){return Ut[e]}function na(e){return e*.85}function ra(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function ia(e,t,a,n){return 6e-4*Math.sqrt(500*e)*t*a*n}function la(e,t,a,n,r){const i=(t-e)/a,l=(-e+Math.sqrt(e**2+2*a*(n/6-r)))/a;return Math.min(i,l)}function oa(e,t,a){return(e+t*a/2)*a}function sa(e,t,a,n,r){return 20*r*((t*a+e-n+12)**3-(e-n+12)**3)/(3*t)/144}function ua(e,t,a,n,r,i,l,o,u){const s=na(e),c=ra(e,t.wit,a),d=ia(t.power,n,r,i),f=la(s,c,d,l,o),g=oa(s,d,f),m=sa(s,d,f,e,u.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:c,acceleration:d,duration:f,distance:g,hpConsumption:m}}function ca(e,t){return e/t}function da(e,t,a){return Math.max(e/6-(t+a),0)}function va(e,t,a,n){return 20*a*(e-t+12)**2/144*n}function fa(e,t,a,n,r){const i=a.targetSpeed,l=a.targetSpeed,o=0,u=da(t,n.distance,a.distance),s=ca(u,i),c=va(i,e,r.hpConsumptionCoefficient,s);return{initialSpeed:i,targetSpeed:l,acceleration:o,duration:s,distance:u,hpConsumption:c}}const pe=3;function pa(e){return e*.85}function ga(e,t,a,n){return 24+6e-4*Math.sqrt(500*e)*t*a*n}function ma(e,t){return(e-pe)/t}function ha(e,t){return(pe+e)/2*t}function _a(e,t){return 20*t*e}function Ca(e,t,a,n,r,i){const l=pe,o=pa(e),u=ga(t,a,n,r),s=ma(o,u),c=ha(o,s),d=_a(s,i.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:o,acceleration:u,distance:c,duration:s,hpConsumption:d}}function j(e,t){return e*40+t*60}function Sa(e,t,a,n,r){return(e*t+a.speed)*n.speed**2+r}function wa(e,t,a){return e*t+a}function xa(e,t,a,n,r){return(e*t+a.power)*n.acceleration+r}function ba(e,t,a){return e*t+a}function ya(e,t,a,n){return e*t*a+n}function ka(e,t,a,n,r,i){const l=j(i.singleCircle.all,i.doubleCircle.all),o=l+j(i.singleCircle.speed,i.doubleCircle.speed),u=l+j(i.singleCircle.stamina,i.doubleCircle.stamina),s=l+j(i.singleCircle.power,i.doubleCircle.power),c=l+j(i.singleCircle.guts,i.doubleCircle.guts),d=l+j(i.singleCircle.wit,i.doubleCircle.wit);return{speed:Sa(e.speed,t,a,n,o),stamina:wa(e.stamina,t,u),power:xa(e.power,t,a,n,s),guts:ba(e.guts,t,c),wit:ya(e.wit,t,r,d)}}function Da(e,t){return e/t}function Aa(e,t){return e/2-t}function Ma(e,t,a,n){return 20*n*(t-e+12)**2/144*a}function La(e,t,a,n){const r=a.targetSpeed,i=a.targetSpeed,l=0,o=Aa(t,a.distance),u=Da(o,r),s=Ma(e,r,u,n.hpConsumptionCoefficient);return{initialSpeed:r,targetSpeed:i,acceleration:l,duration:u,distance:o,hpConsumption:s}}function Pa(e,t,a){return Math.max(e/3-t-a,0)}function Ta(e,t){return e/t}function Ra(e,t,a,n,r){return 20*a*n*(t-e+12)**2/144*r}function Ha(e){const t=e.targetSpeed,a=e.targetSpeed;return{initialSpeed:t,targetSpeed:a,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function Ga(e,t,a,n,r,i,l){const o=e.initialSpeed,u=e.targetSpeed,s=e.acceleration,c=Pa(a,n,r.distance),d=Ta(c,u),f=Ra(t,o,i.hpConsumptionCoefficient,l,d);return{initialSpeed:o,targetSpeed:u,acceleration:s,duration:d,distance:c,hpConsumption:f}}function qa(e,t,a,n,r,i,l,o,u,s,c,d){const f=a+n+r+i+l,g=(t-f-(e/3-60)*20*o*u*(s-d+12)**2/144/s)/(20*o*u*((c-d+12)**2/144/c-(s-d+12)**2/144/s))+60,m=e/3;return Math.min(g,m)}function Ia(e){return 1+200/Math.sqrt(600*e)}function Ba(e,t,a,n,r,i,l,o,u){return e-(t+a+n+r+i+l+o+u)}function Fa(e,t,a,n,r){return a/(20*n*r*(t-e+12)**2/144)}function Ea(e,t,a,n,r,i,l,o){return 20*l*o*(a-e+12)**2/144*(t/3-(n+r+i))/a}function Na(e,t){return e*t}function Oa(e,t,a,n,r,i,l,o){const u=l.targetSpeed,s=l.targetSpeed,c=0,d=Ea(e,t,u,r.distance,i.distance,l.distance,o.hpConsumptionCoefficient,a),f=Math.min(d,n),g=Fa(e,u,f,o.hpConsumptionCoefficient,a),m=Na(u,g);return{initialSpeed:u,targetSpeed:s,acceleration:c,duration:g,distance:m,hpConsumption:f}}function Ua(e,t,a){return t===0?e:a}function Wa(e,t,a,n){return(e*(a+.01)+Math.sqrt(500*t)*n*.002)*1.05+Math.sqrt(500*t)*n*.002}function Za(e,t,a,n){return 6e-4*Math.sqrt(500*e)*t*a*n}function Ie(e,t,a){return(e-t)/a}function Be(e,t,a){return(e+t)/2*a}function Fe(e,t,a,n,r,i){return 20*r*i*((t+a*n-e+12)**3-(t-e+12)**3)/(3*a)/144}function Va(e,t,a,n){return{initialSpeed:-1,targetSpeed:Wa(e,t.speed,a.speedCorrection.late,n.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function Ya(e,t,a,n,r,i,l,o,u,s,c){const d=Ua(u.targetSpeed,s.distance,c.targetSpeed),f=e.targetSpeed,g=Za(a.power,n.accelerationCorrection.late,r.acceleration,i),m=Ie(f,d,g),y=Be(d,f,m),x=Fe(t,d,g,m,l.hpConsumptionCoefficient,o);return{initialSpeed:d,targetSpeed:f,acceleration:g,duration:m,distance:y,hpConsumption:x}}function Ka(e,t,a,n,r,i){const l=n.targetSpeed,o=i.targetSpeed,u=i.acceleration,s=Ie(o,l,u),c=Be(l,o,s),d=Fe(e,r.initialSpeed,i.acceleration,s,t.hpConsumptionCoefficient,a);return{initialSpeed:l,targetSpeed:o,acceleration:u,duration:s,distance:c,hpConsumption:d}}function ja(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function za(e,t,a,n,r){return e/3-(t+a+n+r)}function Ja(e,t,a,n,r,i){const l=i.targetSpeed,o=t,u=-1.2,s=za(e,a.distance,n.distance,r.distance,i.distance),c=ja(l,u,s);return{initialSpeed:l,targetSpeed:o,acceleration:u,duration:c,distance:s,hpConsumption:0}}function Xa(e,t,a,n,r,i,l){const o=e+t+a+n+r,u=i+l;return o+u}function Qa(e,t,a,n,r,i){return e+(t-a)/.8/n/(1+(r+i)/1e4)}function $a(e){return(6.5/Math.log10(.1*e+1))**2}function en(e){return Math.max(100-9e3/e,20)}function tn(e){return 20-(e-2e3)/1e3}function an(e,t){return .85*e+Math.sqrt(200*t)*.001}function be(e,t,a,n,r,i,l,o,u,s){return e+t+a+n+r+i+l+o+u+s}function nn(e,t,a){return e+t*a}function rn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function ln(e,t,a,n,r,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*n*r*i}function on(e,t,a){return(t-e)/a}function sn(e,t,a){return(e+t)/2*a}function un(e,t,a,n,r){return 20*r*((t-n+12)**3-(e-n+12)**3)/(3*a)/144}function cn(e,t,a,n,r,i,l){const o=nn(a.initialSpeed,a.acceleration,a.duration),u=rn(e,t.wit,n.speedCorrection.middle),s=ln(o,u,t.power,n.accelerationCorrection.middle,r.acceleration,i),c=on(o,u,s),d=sn(o,u,c),f=un(o,u,s,e,l.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:u,acceleration:s,duration:c,distance:d,hpConsumption:f}}function dn(e,t,a,n,r){return e*n+Math.sqrt(500*t)*r*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function vn(e,t,a,n,r,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*n*r*i}function fn(e,t,a,n,r){return e/3<=t?0:(a-n)/r}function pn(e,t,a){return(e+t)/2*a}function gn(e,t,a,n,r,i){return 20*r*i*((t+a*n-e+12)**3-(t-e+12)**3)/(3*a)/144}function mn(e,t,a,n,r,i){const l=i.targetSpeed,o=dn(e,t.speed,t.wit,a.speedCorrection.late,n.speed),u=vn(l,o,t.power,a.accelerationCorrection.late,n.acceleration,r);return{initialSpeed:l,targetSpeed:o,acceleration:u,duration:-1,distance:-1,hpConsumption:-1}}function hn(e,t,a,n,r,i){const l=e.initialSpeed,o=e.targetSpeed,u=e.acceleration,s=fn(a,n,o,l,u),c=pn(l,o,s),d=gn(t,l,u,s,r.hpConsumptionCoefficient,i);return{initialSpeed:l,targetSpeed:o,acceleration:u,duration:s,distance:c,hpConsumption:d}}function _n(e,t){return e/3-t}function Cn(e,t){return e/t}function Sn(e,t,a,n,r){return 20*t*a*(n-e+12)**2/144*r}function wn(e,t,a,n,r,i){const l=n.targetSpeed,o=n.targetSpeed,u=0,s=_n(t,r.distance),c=Cn(s,l),d=Sn(e,i.hpConsumptionCoefficient,a,l,c);return{initialSpeed:l,targetSpeed:o,acceleration:u,duration:c,distance:s,hpConsumption:d}}function xn(e){const t=parseInt(e.distance),a=Xt(e.mood),n=Qt(e.surface,e.condition),r=$t(e.distanceAptitude),i=ta(e.strategyAptitude),l=ea(e.strategy),o=aa(e.surfaceAptitude),u=ka(e.stats,a,n,r,i,e.skills),s=tn(t),c=an(s,u.guts),d=Kt(t,u.stamina,l.hpCorrection),f=zt(e.skills.goldRecovery,e.skills.whiteRecovery),g=Jt(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),m=jt(d,f,g),y=en(e.stats.wit),x=$a(u.wit),h=Ia(u.guts),S=Ca(s,u.power,l.accelerationCorrection.early,r.acceleration,o,n),w=ua(s,u,l.speedCorrection.early,l.accelerationCorrection.early,r.acceleration,o,t,S.distance,n),b=fa(s,t,w,S,n),k=cn(s,u,w,l,r,o,n),A=La(s,t,k,n);let M=mn(s,u,l,r,o,A),P=Ha(M),T=Va(s,u,l,r);const O=qa(t,m,S.hpConsumption,w.hpConsumption,b.hpConsumption,k.hpConsumption,A.hpConsumption,n.hpConsumptionCoefficient,h,P.initialSpeed,T.targetSpeed,s);M=hn(M,s,t,O,n,h),P=Ga(P,s,t,O,M,n,h),T=Ya(T,s,u,l,r,o,n,h,A,M,P);const te=Ba(m,S.hpConsumption,w.hpConsumption,b.hpConsumption,k.hpConsumption,A.hpConsumption,M.hpConsumption,P.hpConsumption,T.hpConsumption),V=Oa(s,t,h,te,M,P,T,n),Y=Ja(t,c,M,P,T,V),K=Ka(s,n,h,A,M,T),z=wn(s,t,h,T,K,n),J=Xa(S.hpConsumption,w.hpConsumption,b.hpConsumption,k.hpConsumption,A.hpConsumption,K.hpConsumption,z.hpConsumption),ae=Qa(u.stamina,J,m,l.hpCorrection,f,g),ne=be(S.distance,w.distance,b.distance,k.distance,A.distance,M.distance,P.distance,T.distance,V.distance,Y.distance),ie=be(S.duration,w.duration,b.duration,k.duration,A.duration,M.duration,P.duration,T.duration,V.duration,Y.duration);return{realStats:u,baseSpeed:s,initialHitPoints:d,hitPointsWithRecovery:m,lastSpurtDistance:O,lastSpurtHitPointsConsumptionCoefficient:h,targetHitPointsForLastSpurt:J,requiredStamina:ae,skillProcRate:y,rushedRate:x,detailedBreakdown:{startingDash:S,phaseZeroAcceleration:w,phaseZeroSteady:b,phaseOneAcceleration:k,phaseOneSteady:A,phaseTwoAcceleration:M,phaseTwoAndThreeSteady:P,lastSpurtAcceleration:T,lastSpurtSteady:V,hitPointsZeroDeceleration:Y,totalProjection:{acceleration:0,distance:ne,duration:ie,hpConsumption:0,initialSpeed:0,targetSpeed:0},idealLastSpurtAcceleration:K,idealLastSpurtSteady:z}}}function W(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function bn(e){return qe[parseInt(e.distance)]}function yn(e){return e.realStats.stamina+1<e.requiredStamina?"Not enough stamina/guts":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"Borderline":"You have enough stamina!"}function kn(e){return e.realStats.stamina+1<e.requiredStamina?"text-red-600":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"text-orange-400":"text-green-600"}var Dn=I("<option> </option>"),An=I('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function ye(e,t){E(t,!0);let a=H(t,"options",19,()=>[]),n=H(t,"value",15);var r=An();bt(r,21,a,wt,(i,l)=>{var o=Dn(),u=C(o,!0);_(o);var s={};Z(()=>{G(u,L(l)),s!==(s=L(l))&&(o.value=(o.__value=L(l))??"")}),q(i,o)}),_(r),Mt(r,n),q(e,r),N()}var Mn=I('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function re(e,t){E(t,!0);let a=H(t,"label",3,""),n=H(t,"extraLabel",3,""),r=H(t,"options1",19,()=>[]),i=H(t,"value1",15),l=H(t,"options2",19,()=>[]),o=H(t,"value2",15);var u=Mn(),s=C(u),c=C(s,!0);_(s);var d=v(s,2),f=C(d,!0);_(d);var g=v(d,2),m=C(g);ye(m,{get options(){return r()},get value(){return i()},set value(x){i(x)}});var y=v(m,2);ye(y,{get options(){return l()},get value(){return o()},set value(x){o(x)}}),_(g),_(u),Z(()=>{G(c,a()),G(f,n())}),q(e,u),N()}var Ln=I("<span> </span>"),Pn=I('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function D(e,t){E(t,!0);let a=H(t,"label",3,""),n=H(t,"value",15),r=H(t,"showGrade",3,!0),i=H(t,"min",3,0),l=H(t,"max",3,1200),o,u=ee(()=>{var w;return((w=Vt.find(([b])=>n()>=b))==null?void 0:w[1])??""}),s=ee(()=>Yt[L(u)]??"text-gray-800");ft(()=>{n()<i()&&n(i()),n()>l()&&n(l())});function c(){o==null||o.focus(),o==null||o.select()}var d=Pn();d.__click=c;var f=C(d),g=C(f),m=C(g,!0);_(g);var y=v(g,2),x=C(y);{var h=w=>{var b=Ln(),k=C(b,!0);_(b),Z(()=>{Re(b,1,`${L(s)??""} text-xl font-bold`),G(k,L(u))}),q(w,b)};ve(x,w=>{r()&&w(h)})}var S=v(x,2);Ge(S),St(S,w=>o=w,()=>o),_(y),_(f),_(d),Z(()=>G(m,a())),_t("focus",S,c),Rt(S,n),q(e,d),N()}ht(["click"]);var Tn=I('<div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Condition Skills</h2> <h3 class="text-l font-semibold text-center">Single Circle</h3> <div class="mx-auto w-full grid grid-cols-6 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!> <!></div> <h3 class="text-l font-semibold text-center">Double Circle</h3> <div class="mx-auto w-full grid grid-cols-6 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!> <!></div></div>');function Rn(e,t){E(t,!0);let a=H(t,"inputData",15);var n=Tn(),r=C(n),i=C(r);D(i,{label:"Speed",get value(){return a().stats.speed},set value(p){a(a().stats.speed=p,!0)}});var l=v(i,2);D(l,{label:"Stamina",get value(){return a().stats.stamina},set value(p){a(a().stats.stamina=p,!0)}});var o=v(l,2);D(o,{label:"Power",get value(){return a().stats.power},set value(p){a(a().stats.power=p,!0)}});var u=v(o,2);D(u,{label:"Guts",get value(){return a().stats.guts},set value(p){a(a().stats.guts=p,!0)}});var s=v(u,2);D(s,{label:"Wit",get value(){return a().stats.wit},set value(p){a(a().stats.wit=p,!0)}}),_(r);var c=v(r,2),d=C(c);re(d,{label:"Track",get options1(){return It},get options2(){return de},get value1(){return a().surface},set value1(p){a(a().surface=p,!0)},get value2(){return a().surfaceAptitude},set value2(p){a(a().surfaceAptitude=p,!0)}});var f=v(d,2);const g=ee(()=>bn(a())),m=ee(()=>Object.keys(qe));re(f,{label:"Distance",get extraLabel(){return L(g)},get options1(){return L(m)},get options2(){return de},get value1(){return a().distance},set value1(p){a(a().distance=p,!0)},get value2(){return a().distanceAptitude},set value2(p){a(a().distanceAptitude=p,!0)}});var y=v(f,2);re(y,{label:"Style",get options1(){return qt},get options2(){return de},get value1(){return a().strategy},set value1(p){a(a().strategy=p,!0)},get value2(){return a().strategyAptitude},set value2(p){a(a().strategyAptitude=p,!0)}});var x=v(y,2);re(x,{label:"Mood/Condition",get options1(){return Gt},get options2(){return Bt},get value1(){return a().mood},set value1(p){a(a().mood=p,!0)},get value2(){return a().condition},set value2(p){a(a().condition=p,!0)}}),_(c);var h=v(c,4),S=C(h);D(S,{label:"Gold skills",showGrade:!1,get value(){return a().skills.goldRecovery},set value(p){a(a().skills.goldRecovery=p,!0)}});var w=v(S,2);D(w,{label:"White skills",showGrade:!1,get value(){return a().skills.whiteRecovery},set value(p){a(a().skills.whiteRecovery=p,!0)}});var b=v(w,2);D(b,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return a().skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(p){a(a().skills.uniqueRecoveryLevelTwoStarsOrBelow=p,!0)}});var k=v(b,2);D(k,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return a().skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(p){a(a().skills.uniqueRecoveryLevelThreeStarsOrAbove=p,!0)}}),_(h);var A=v(h,6),M=C(A);D(M,{label:"Speed",showGrade:!1,get value(){return a().skills.singleCircle.speed},set value(p){a(a().skills.singleCircle.speed=p,!0)}});var P=v(M,2);D(P,{label:"Stamina",showGrade:!1,get value(){return a().skills.singleCircle.stamina},set value(p){a(a().skills.singleCircle.stamina=p,!0)}});var T=v(P,2);D(T,{label:"Power",showGrade:!1,get value(){return a().skills.singleCircle.power},set value(p){a(a().skills.singleCircle.power=p,!0)}});var O=v(T,2);D(O,{label:"Guts",showGrade:!1,get value(){return a().skills.singleCircle.guts},set value(p){a(a().skills.singleCircle.guts=p,!0)}});var te=v(O,2);D(te,{label:"Wit",showGrade:!1,get value(){return a().skills.singleCircle.wit},set value(p){a(a().skills.singleCircle.wit=p,!0)}});var V=v(te,2);D(V,{label:"All",showGrade:!1,get value(){return a().skills.singleCircle.all},set value(p){a(a().skills.singleCircle.all=p,!0)}}),_(A);var Y=v(A,4),K=C(Y);D(K,{label:"Speed",showGrade:!1,get value(){return a().skills.doubleCircle.speed},set value(p){a(a().skills.doubleCircle.speed=p,!0)}});var z=v(K,2);D(z,{label:"Stamina",showGrade:!1,get value(){return a().skills.doubleCircle.stamina},set value(p){a(a().skills.doubleCircle.stamina=p,!0)}});var J=v(z,2);D(J,{label:"Power",showGrade:!1,get value(){return a().skills.doubleCircle.power},set value(p){a(a().skills.doubleCircle.power=p,!0)}});var ae=v(J,2);D(ae,{label:"Guts",showGrade:!1,get value(){return a().skills.doubleCircle.guts},set value(p){a(a().skills.doubleCircle.guts=p,!0)}});var ne=v(ae,2);D(ne,{label:"Wit",showGrade:!1,get value(){return a().skills.doubleCircle.wit},set value(p){a(a().skills.doubleCircle.wit=p,!0)}});var ie=v(ne,2);D(ie,{label:"All",showGrade:!1,get value(){return a().skills.doubleCircle.all},set value(p){a(a().skills.doubleCircle.all=p,!0)}}),_(Y),_(n),q(e,n),N()}var Hn=I('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function R(e,t){E(t,!0);let a=H(t,"decimals",3,0),n=H(t,"valueSuffix",3,"");var r=Hn(),i=C(r),l=C(i,!0);_(i);var o=v(i,2),u=C(o);_(o),_(r),Z(s=>{G(l,t.label),G(u,`${s??""}${n()??""}`)},[()=>W(t.value,a())]),q(e,r),N()}var Gn=I('<h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="grid grid-cols-5"><!> <!> <!> <!> <!></div>',1);function qn(e,t){E(t,!0);var a=Gn(),n=v(Q(a),2),r=C(n);R(r,{label:"Speed",get value(){return t.stats.speed}});var i=v(r,2);R(i,{label:"Stamina",get value(){return t.stats.stamina}});var l=v(i,2);R(l,{label:"Power",get value(){return t.stats.power}});var o=v(l,2);R(o,{label:"Guts",get value(){return t.stats.guts}});var u=v(o,2);R(u,{label:"Wit",get value(){return t.stats.wit}}),_(n),q(e,a),N()}var In=I('<h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-3"><!> <p> </p> <!></div> <div class="grid grid-cols-2"><!> <!></div>',1);function Bn(e,t){E(t,!0);var a=In(),n=v(Q(a),2),r=C(n);R(r,{label:"Stamina Needed",get value(){return t.result.requiredStamina}});var i=v(r,2),l=C(i,!0);_(i);var o=v(i,2);R(o,{label:"Time to finish",get value(){return t.result.detailedBreakdown.totalProjection.duration},decimals:2,valueSuffix:"s"}),_(n);var u=v(n,2),s=C(u);R(s,{label:"Skill proc rate",get value(){return t.result.skillProcRate},decimals:2,valueSuffix:"%"});var c=v(s,2);R(c,{label:"Rushed rate",get value(){return t.result.rushedRate},decimals:2,valueSuffix:"%"}),_(u),Z((d,f)=>{Re(i,1,`${d??""} text-center text-2xl font-bold self-center`),G(l,f)},[()=>kn(t.result),()=>yn(t.result)]),q(e,a),N()}var Fn=I('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function B(e,t){E(t,!0);var a=Fn(),n=C(a),r=C(n,!0);_(n);var i=v(n,2),l=C(i,!0);_(i);var o=v(i,2),u=C(o,!0);_(o);var s=v(o,2),c=C(s,!0);_(s);var d=v(s,2),f=C(d,!0);_(d);var g=v(d,2),m=C(g,!0);_(g);var y=v(g,2),x=C(y,!0);_(y),_(a),Z((h,S,w,b,k,A)=>{G(r,t.label),G(l,h),G(u,S),G(c,w),G(f,b),G(m,k),G(x,A)},[()=>W(t.data.initialSpeed,3),()=>W(t.data.targetSpeed,3),()=>W(t.data.acceleration,3),()=>W(t.data.duration,3),()=>W(t.data.distance,2),()=>W(t.data.hpConsumption,2)]),q(e,a),N()}var En=I('<div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>');function Nn(e,t){E(t,!0);var a=En(),n=C(a),r=C(n),i=v(C(r),2);B(i,{label:"Starting Dash",get data(){return t.detailedBreakdown.startingDash}});var l=v(i,2);B(l,{label:"Early Acceleration",get data(){return t.detailedBreakdown.phaseZeroAcceleration}});var o=v(l,2);B(o,{label:"Early Steady",get data(){return t.detailedBreakdown.phaseZeroSteady}});var u=v(o,2);B(u,{label:"Middle Acceleration",get data(){return t.detailedBreakdown.phaseOneAcceleration}});var s=v(u,2);B(s,{label:"Middle Steady",get data(){return t.detailedBreakdown.phaseOneSteady}});var c=v(s,2);B(c,{label:"Late Acceleration",get data(){return t.detailedBreakdown.phaseTwoAcceleration}});var d=v(c,2);B(d,{label:"Late Steady",get data(){return t.detailedBreakdown.phaseTwoAndThreeSteady}});var f=v(d,2);B(f,{label:"Last Spurt Acceleration",get data(){return t.detailedBreakdown.lastSpurtAcceleration}});var g=v(f,2);B(g,{label:"Last Spurt Steady",get data(){return t.detailedBreakdown.lastSpurtSteady}});var m=v(g,2);B(m,{label:"HP0 / Deceleration",get data(){return t.detailedBreakdown.hitPointsZeroDeceleration}});var y=v(m,2);B(y,{label:"Total Projection",get data(){return t.detailedBreakdown.totalProjection}});var x=v(y,4);B(x,{label:"Ideal Last Spurt Acceleration",get data(){return t.detailedBreakdown.idealLastSpurtAcceleration}});var h=v(x,2);B(h,{label:"Ideal Last Spurt Steady",get data(){return t.detailedBreakdown.idealLastSpurtSteady}}),_(r),_(n),_(a),q(e,a),N()}var On=I('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><!> <!> <!></div> <div class="grid grid-cols-4"><!> <!> <!> <!></div></div></div>');function Un(e,t){E(t,!0);var a=On(),n=C(a),r=C(n),i=C(r);R(i,{label:"Base Speed [m/s]",get value(){return t.result.baseSpeed},decimals:2});var l=v(i,2);R(l,{label:"Initial HP",get value(){return t.result.initialHitPoints},decimals:2});var o=v(l,2);R(o,{label:"HP with Recovery",get value(){return t.result.hitPointsWithRecovery},decimals:2}),_(r);var u=v(r,2),s=C(u);R(s,{label:"Target hitpoints for Last Spurt",get value(){return t.result.targetHitPointsForLastSpurt},decimals:2});var c=v(s,2);R(c,{label:"Required Stamina",get value(){return t.result.requiredStamina}});var d=v(c,2);R(d,{label:"Last Spurt Distance",get value(){return t.result.lastSpurtDistance},decimals:2});var f=v(d,2);R(f,{label:"Last Spurt HP Coefficient",get value(){return t.result.lastSpurtHitPointsConsumptionCoefficient},decimals:2}),_(u),_(n),_(a),q(e,a),N()}var Wn=I("<!> <!>",1),Zn=I('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><!> <!></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Vn=I('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <!> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Jn(e,t){E(t,!0);let a=_e(!1),n=_e(pt(Zt)),r=ee(()=>xn(L(n)));var i=Vn();Ct(s=>{gt.title="UmaCalc"});var l=v(Q(i),2);Rn(l,{get inputData(){return L(n)},set inputData(s){Ce(n,s,!0)}});var o=v(l,2);{var u=s=>{var c=Zn(),d=Q(c),f=C(d),g=C(f);qn(g,{get stats(){return L(r).realStats}});var m=v(g,2);Bn(m,{get result(){return L(r)}}),_(f);var y=v(f,2),x=C(y);Ge(x),Se(),_(y),_(d);var h=v(d,2);{var S=w=>{var b=Wn(),k=Q(b);Un(k,{get result(){return L(r)}});var A=v(k,2);Nn(A,{get detailedBreakdown(){return L(r).detailedBreakdown}}),q(w,b)};ve(h,w=>{L(a)&&w(S)})}Ht(x,()=>L(a),w=>Ce(a,w)),q(s,c)};ve(o,s=>{L(r)&&s(u)})}Se(2),q(e,i),N()}export{Jn as component};
