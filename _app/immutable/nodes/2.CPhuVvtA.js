import"../chunks/CWj6FrbW.js";import{i as le}from"../chunks/D7yyfmma.js";import{ai as ea,m as ta,W as Ce,n as q,z as aa,o as na,H as u,a8 as z,S as ra,U as ia,V as pt,X as we,y as J,ak as oa,ao as la,Y as Ct,v as wt,Z as sa,ay as be,as as bt,ag as ht,az as ca,au as W,aA as gt,i as De,aB as ua,aC as da,ar as va,aD as fa,x as pa,aE as ha,aF as ga,al as ma,$ as _a,r as Sa,aG as xa,aH as ya,aI as Ca,aJ as wa,aK as ba,aL as Aa,e as G,a0 as At,L as ee,aM as Pt,aN as kt,M as E,N,C as B,O as te,R as v,P as g,a7 as Q,I,Q as h,aO as Pa,B as Ae,aP as ka,aQ as R,aR as mt}from"../chunks/JMHaOCld.js";import{l as Le,a as Ma,e as oe,s as k,b as Ta}from"../chunks/C7iduzYR.js";import{p as H,i as Te,b as Da}from"../chunks/BMDX70Gu.js";function La(e,t){return t}function Ra(e,t,a,r){for(var n=[],i=t.length,l=0;l<i;l++)da(t[l].e,n,!0);var o=i>0&&n.length===0&&a!==null;if(o){var s=a.parentNode;va(s),s.append(a),r.clear(),U(e,t[0].prev,t[i-1].next)}fa(n,()=>{for(var c=0;c<i;c++){var d=t[c];o||(r.delete(d.k),U(e,d.prev,d.next)),pa(d.e,!o)}})}function Ha(e,t,a,r,n,i=null){var l=e,o={flags:t,items:new Map,first:null};{var s=e;l=q?Ce(aa(s)):s.appendChild(ea())}q&&na();var c=null,d=!1,p=z(()=>{var f=a();return De(f)?f:f==null?[]:bt(f)});ta(()=>{var f=u(p),m=f.length;if(d&&m===0)return;d=m===0;let _=!1;if(q){var A=ra(l)===ia;A!==(m===0)&&(l=pt(),Ce(l),we(!1),_=!0)}if(q){for(var w=null,S,C=0;C<m;C++){if(J.nodeType===oa&&J.data===la){l=J,_=!0,we(!1);break}var M=f[C],P=r(M,C);S=Mt(J,o,w,null,M,P,C,n,t,a),o.items.set(P,S),w=S}m>0&&Ce(pt())}q||Ia(f,o,l,n,t,r,a),i!==null&&(m===0?c?Ct(c):c=wt(()=>i(l)):c!==null&&sa(c,()=>{c=null})),_&&we(!0),u(p)}),q&&(l=J)}function Ia(e,t,a,r,n,i,l){var o=e.length,s=t.items,c=t.first,d=c,p,f=null,m=[],_=[],A,w,S,C;for(C=0;C<o;C+=1){if(A=e[C],w=i(A,C),S=s.get(w),S===void 0){var M=d?d.e.nodes_start:a;f=Mt(M,t,f,f===null?t.first:f.next,A,w,C,r,n,l),s.set(w,f),m=[],_=[],d=f.next;continue}if(qa(S,A,C),(S.e.f&be)!==0&&Ct(S.e),S!==d){if(p!==void 0&&p.has(S)){if(m.length<_.length){var P=_[0],y;f=P.prev;var b=m[0],D=m[m.length-1];for(y=0;y<m.length;y+=1)_t(m[y],P,a);for(y=0;y<_.length;y+=1)p.delete(_[y]);U(t,b.prev,D.next),U(t,f,b),U(t,D,P),d=P,f=D,C-=1,m=[],_=[]}else p.delete(S),_t(S,d,a),U(t,S.prev,S.next),U(t,S,f===null?t.first:f.next),U(t,f,S),f=S;continue}for(m=[],_=[];d!==null&&d.k!==w;)(d.e.f&be)===0&&(p??(p=new Set)).add(d),_.push(d),d=d.next;if(d===null)continue;S=d}m.push(S),f=S,d=S.next}if(d!==null||p!==void 0){for(var L=p===void 0?[]:bt(p);d!==null;)(d.e.f&be)===0&&L.push(d),d=d.next;var Z=L.length;if(Z>0){var K=o===0?a:null;Ra(t,L,K,s)}}ht.first=t.first&&t.first.e,ht.last=f&&f.e}function qa(e,t,a,r){ca(e.v,t),e.i=a}function Mt(e,t,a,r,n,i,l,o,s,c){var d=(s&ha)!==0,p=(s&ga)===0,f=d?p?W(n,!1,!1):gt(n):n,m=(s&ua)===0?l:gt(l),_={i:m,v:f,k:i,a:null,e:null,prev:a,next:r};try{return _.e=wt(()=>o(e,f,m,c),q),_.e.prev=a&&a.e,_.e.next=r&&r.e,a===null?t.first=_:(a.next=_,a.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function _t(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==r;){var l=ma(i);n.before(i),i=l}}function U(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function Fa(e,t,a){var r=e==null?"":""+e;return r===""?null:r}function Tt(e,t,a,r,n,i){var l=e.__className;if(q||l!==a||l===void 0){var o=Fa(a);(!q||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}return i}function Dt(e,t,a){if(e.multiple){if(t==null)return;if(!De(t))return xa();for(var r of e.options)r.selected=t.includes(j(r));return}for(r of e.options){var n=j(r);if(ya(n,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Ba(e){var t=new MutationObserver(()=>{Dt(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Sa(()=>{t.disconnect()})}function Ea(e,t,a=t){var r=!0;Le(e,"change",n=>{var i=n?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),j);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");l=o&&j(o)}a(l)}),_a(()=>{var n=t();if(Dt(e,n,r),r&&n===void 0){var i=e.querySelector(":checked");i!==null&&(n=j(i),a(n))}e.__value=n,r=!1}),Ba(e)}function j(e){return"__value"in e?e.__value:e.value}const Oa=Symbol("is custom element"),Ga=Symbol("is html");function Lt(e){if(q){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;St(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var n=e.checked;St(e,"checked",null),e.checked=n}}};e.__on_r=a,Ca(a),Ma()}}function St(e,t,a,r){var n=Na(e);q&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=a)&&(t==="loading"&&(e[wa]=a),e.removeAttribute(t))}function Na(e){return e.__attributes??(e.__attributes={[Oa]:e.nodeName.includes("-"),[Ga]:e.namespaceURI===ba})}function Za(e,t,a=t){var r=Aa();Le(e,"input",n=>{var i=n?e.defaultValue:e.value;if(i=Pe(e)?ke(i):i,a(i),r&&i!==(i=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),(q&&e.defaultValue!==e.value||G(t)==null&&e.value)&&a(Pe(e)?ke(e.value):e.value),At(()=>{var n=t();Pe(e)&&n===ke(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function $a(e,t,a=t){Le(e,"change",r=>{var n=r?e.defaultChecked:e.checked;a(n)}),(q&&e.defaultChecked!==e.checked||G(t)==null)&&a(e.checked),At(()=>{var r=t();e.checked=!!r})}function Pe(e){var t=e.type;return t==="number"||t==="range"}function ke(e){return e===""?null:+e}function Ua(e){return function(...t){var a=t[0];return a.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Wa(e,t){var i;var a=(i=e.$$events)==null?void 0:i[t.type],r=De(a)?a.slice():a==null?[]:[a];for(var n of r)n.call(this,t)}const Me=["S","A","B","C","D","E","F","G"],Va=["Great","Good","Normal","Bad","Terrible"],Ya=["Front","Pace","Late","End"],za=["Turf","Dirt"],Ka=["Firm","Soft","Heavy","Wet"],xt={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},Qa={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},Xa={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Ja={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},ja={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},en={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},tn={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}};function T(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function an(e,t,a){return e+.8*t*a}function nn(e,t,a){return e*(1+(t+a)/1e4)}function rn(e,t){return e*550+t*150}function on(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function ln(e){return Qa[e]}function sn(e,t){return Xa[e][t]}function cn(e){return Ja[e]}function un(e){return tn[e]}function dn(e){return ja[e]}function vn(e){return en[e]}function fn(e){return e*.85}function pn(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function hn(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function gn(e,t,a,r,n){const i=(t-e)/a,l=(-e+Math.sqrt(e**2+2*a*(r/6-n)))/a;return Math.min(i,l)}function mn(e,t,a){return(e+t*a/2)*a}function _n(e,t,a,r,n){return 20*n*((t*a+e-r+12)**3-(e-r+12)**3)/(3*t)/144}function Sn(e,t,a,r,n,i,l,o,s,c){const d=fn(e),p=pn(e,t,a),f=hn(r,n,i,l),m=gn(d,p,f,o,s),_=mn(d,f,m),A=_n(d,f,m,e,c.hpConsumptionCoefficient);return{initialSpeed:d,targetSpeed:p,acceleration:f,duration:m,distance:_,hpConsumption:A}}function xn(e,t){return e/t}function yn(e,t,a){return Math.max(e/6-(t+a),0)}function Cn(e,t,a,r){return 20*a*(e-t+12)**2/144*r}function wn(e,t,a,r,n){const i=a.targetSpeed,l=a.targetSpeed,o=0,s=yn(t,r.distance,a.distance),c=xn(s,i),d=Cn(i,e,n.hpConsumptionCoefficient,c);return{initialSpeed:i,targetSpeed:l,acceleration:o,duration:c,distance:s,hpConsumption:d}}const Re=3;function bn(e){return e*.85}function An(e,t,a,r){return 24+6e-4*Math.sqrt(500*e)*t*a*r}function Pn(e,t){return(e-Re)/t}function kn(e,t){return(Re+e)/2*t}function Mn(e,t){return 20*t*e}function Tn(e,t,a,r,n,i){const l=Re,o=bn(e),s=An(t,a,r,n),c=Pn(o,s),d=kn(o,c),p=Mn(c,i.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:o,acceleration:s,distance:d,duration:c,hpConsumption:p}}function Dn(e,t,a,r){return(e*t+a.speed)*r.speed**2}function Ln(e,t){return e*t}function Rn(e,t,a,r){return(e*t+a.power)*r.acceleration}function Hn(e,t){return e*t}function In(e,t,a){return e*t*a}function qn(e,t,a,r,n){return{speed:Dn(e.speed,t,a,r),stamina:Ln(e.stamina,t),power:Rn(e.power,t,a,r),guts:Hn(e.guts,t),wit:In(e.wit,t,n)}}function Fn(e,t){return e/t}function Bn(e,t){return e/2-t}function En(e,t,a,r){return 20*r*(t-e+12)**2/144*a}function On(e,t,a,r){const n=a.targetSpeed,i=a.targetSpeed,l=0,o=Bn(t,a.distance),s=Fn(o,n),c=En(e,n,s,r.hpConsumptionCoefficient);return{initialSpeed:n,targetSpeed:i,acceleration:l,duration:s,distance:o,hpConsumption:c}}function Gn(e,t,a){return Math.max(e/3-t-a,0)}function Nn(e,t){return e/t}function Zn(e,t,a,r,n){return 20*a*r*(t-e+12)**2/144*n}function $n(e){const t=e.targetSpeed,a=e.targetSpeed;return{initialSpeed:t,targetSpeed:a,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function Un(e,t,a,r,n,i,l){const o=e.initialSpeed,s=e.targetSpeed,c=e.acceleration,d=Gn(a,r,n.distance),p=Nn(d,s),f=Zn(t,o,i.hpConsumptionCoefficient,l,p);return{initialSpeed:o,targetSpeed:s,acceleration:c,duration:p,distance:d,hpConsumption:f}}function Wn(e,t,a,r,n,i,l,o,s,c,d,p){const f=a+r+n+i+l,m=(t-f-(e/3-60)*20*o*s*(c-p+12)**2/144/c)/(20*o*s*((d-p+12)**2/144/d-(c-p+12)**2/144/c))+60,_=e/3;return Math.min(m,_)}function Vn(e){return 1+200/Math.sqrt(600*e)}function Yn(e,t,a,r,n,i,l,o,s){return e-(t+a+r+n+i+l+o+s)}function zn(e,t,a,r,n){return a/(20*r*n*(t-e+12)**2/144)}function Kn(e,t,a,r,n,i,l,o){return 20*l*o*(a-e+12)**2/144*(t/3-(r+n+i))/a}function Qn(e,t){return e*t}function Xn(e,t,a,r,n,i,l,o){const s=l.targetSpeed,c=l.targetSpeed,d=0,p=Kn(e,t,s,n.distance,i.distance,l.distance,o.hpConsumptionCoefficient,a),f=Math.min(p,r),m=zn(e,s,f,o.hpConsumptionCoefficient,a),_=Qn(s,m);return{initialSpeed:s,targetSpeed:c,acceleration:d,duration:m,distance:_,hpConsumption:f}}function Jn(e,t,a){return t===0?e:a}function jn(e,t,a,r){return(e*(a+.01)+Math.sqrt(500*t)*r*.002)*1.05+Math.sqrt(500*t)*r*.002}function er(e,t,a,r){return 6e-4*Math.sqrt(500*e)*t*a*r}function Rt(e,t,a){return(e-t)/a}function Ht(e,t,a){return(e+t)/2*a}function It(e,t,a,r,n,i){return 20*n*i*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function tr(e,t,a,r){return{initialSpeed:-1,targetSpeed:jn(e,t.speed,a.speedCorrection.late,r.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function ar(e,t,a,r,n,i,l,o,s,c,d){const p=Jn(s.targetSpeed,c.distance,d.targetSpeed),f=e.targetSpeed,m=er(a.power,r.accelerationCorrection.late,n.acceleration,i),_=Rt(f,p,m),A=Ht(p,f,_),w=It(t,p,m,_,l.hpConsumptionCoefficient,o);return{initialSpeed:p,targetSpeed:f,acceleration:m,duration:_,distance:A,hpConsumption:w}}function nr(e,t,a,r,n,i){const l=r.targetSpeed,o=i.targetSpeed,s=i.acceleration,c=Rt(o,l,s),d=Ht(l,o,c),p=It(e,n.initialSpeed,i.acceleration,c,t.hpConsumptionCoefficient,a);return{initialSpeed:l,targetSpeed:o,acceleration:s,duration:c,distance:d,hpConsumption:p}}function rr(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function ir(e,t,a,r,n){return e/3-(t+a+r+n)}function or(e,t,a,r,n){const i=n.targetSpeed,l=0,o=-1.2,s=ir(e,t.distance,a.distance,r.distance,n.distance),c=rr(i,o,s);return{initialSpeed:i,targetSpeed:l,acceleration:o,duration:c,distance:s,hpConsumption:0}}function lr(e,t,a,r,n,i,l){const o=e+t+a+r+n,s=i+l;return o+s}function sr(e,t,a,r,n,i){return e+(t-a)/.8/r/(1+(n+i)/1e4)}function cr(e){return(6.5/Math.log10(.1*e+1))**2}function ur(e){return Math.max(100-9e3/e,20)}function dr(e){return 20-(e-2e3)/1e3}function vr(e,t,a){return e+t*a}function fr(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function pr(e,t,a,r,n,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*i}function hr(e,t,a){return(t-e)/a}function gr(e,t,a){return(e+t)/2*a}function mr(e,t,a,r,n){return 20*n*((t-r+12)**3-(e-r+12)**3)/(3*a)/144}function _r(e,t,a,r,n,i,l){const o=vr(a.initialSpeed,a.acceleration,a.duration),s=fr(e,t.wit,r.speedCorrection.middle),c=pr(o,s,t.power,r.accelerationCorrection.middle,n.acceleration,i),d=hr(o,s,c),p=gr(o,s,d),f=mr(o,s,c,e,l.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:s,acceleration:c,duration:d,distance:p,hpConsumption:f}}function Sr(e,t,a,r,n){return e*r+Math.sqrt(500*t)*n*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function xr(e,t,a,r,n,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*r*n*i}function yr(e,t,a,r,n){return e/3<=t?0:(a-r)/n}function Cr(e,t,a){return(e+t)/2*a}function wr(e,t,a,r,n,i){return 20*n*i*((t+a*r-e+12)**3-(t-e+12)**3)/(3*a)/144}function br(e,t,a,r,n,i){const l=i.targetSpeed,o=Sr(e,t.speed,t.wit,a.speedCorrection.late,r.speed),s=xr(l,o,t.power,a.accelerationCorrection.late,r.acceleration,n);return{initialSpeed:l,targetSpeed:o,acceleration:s,duration:-1,distance:-1,hpConsumption:-1}}function Ar(e,t,a,r,n,i){const l=e.initialSpeed,o=e.targetSpeed,s=e.acceleration,c=yr(a,r,o,l,s),d=Cr(l,o,c),p=wr(t,l,s,c,n.hpConsumptionCoefficient,i);return{initialSpeed:l,targetSpeed:o,acceleration:s,duration:c,distance:d,hpConsumption:p}}function Pr(e,t){return e/3-t}function kr(e,t){return e/t}function Mr(e,t,a,r,n){return 20*t*a*(r-e+12)**2/144*n}function Tr(e,t,a,r,n,i){const l=r.targetSpeed,o=r.targetSpeed,s=0,c=Pr(t,n.distance),d=kr(c,l),p=Mr(e,i.hpConsumptionCoefficient,a,l,d);return{initialSpeed:l,targetSpeed:o,acceleration:s,duration:d,distance:c,hpConsumption:p}}function Dr(e){const t=parseInt(e.distance),a=ln(e.mood),r=sn(e.surface,e.condition),n=cn(e.distanceAptitude),i=dn(e.strategyAptitude),l=un(e.strategy),o=vn(e.surfaceAptitude),s=qn(e.stats,a,r,n,i),c=dr(t),d=an(t,s.stamina,l.hpCorrection),p=rn(e.skills.goldRecovery,e.skills.whiteRecovery),f=on(e.skills.uniqueRecoveryTwoStarsOrBelow,e.skills.uniqueRecoveryThreeStarsOrAbove),m=nn(d,p,f),_=ur(s.wit),A=cr(s.wit),w=Vn(s.guts),S=Tn(c,s.power,l.accelerationCorrection.early,n.acceleration,o,r),C=Sn(c,s.wit,l.speedCorrection.early,s.power,l.accelerationCorrection.early,n.acceleration,o,t,S.distance,r),M=wn(c,t,C,S,r),P=_r(c,s,C,l,n,o,r),y=On(c,t,P,r);let b=br(c,s,l,n,o,y),D=$n(b),L=tr(c,s,l,n);const Z=Wn(t,m,S.hpConsumption,C.hpConsumption,M.hpConsumption,P.hpConsumption,y.hpConsumption,r.hpConsumptionCoefficient,w,D.initialSpeed,L.targetSpeed,c);b=Ar(b,c,t,Z,r,w),D=Un(D,c,t,Z,b,r,w),L=ar(L,c,s,l,n,o,r,w,y,b,D);const K=Yn(m,S.hpConsumption,C.hpConsumption,M.hpConsumption,P.hpConsumption,y.hpConsumption,b.hpConsumption,D.hpConsumption,L.hpConsumption),X=Xn(c,t,w,K,b,D,L,r),se=or(t,b,D,L,X),V=nr(c,r,w,y,b,L),ae=Tr(c,t,w,L,V,r),ne=lr(S.hpConsumption,C.hpConsumption,M.hpConsumption,P.hpConsumption,y.hpConsumption,V.hpConsumption,ae.hpConsumption),ce=sr(s.stamina,ne,m,l.hpCorrection,p,f);return{realStats:s,baseSpeed:c,initialHitPoints:d,hitPointsWithRecovery:m,lastSpurtDistance:Z,lastSpurtHitPointsConsumptionCoefficient:w,targetHitPointsForLastSpurt:ne,requiredStamina:ce,skillProcRate:_,rushedRate:A,detailedBreakdown:{startingDash:S,phaseZeroAcceleration:C,phaseZeroSteady:M,phaseOneAcceleration:P,phaseOneSteady:y,phaseTwoAcceleration:b,phaseTwoAndThreeSteady:D,lastSpurtAcceleration:L,lastSpurtSteady:X,hitPointsZeroDeceleration:se,idealLastSpurtAcceleration:V,idealLastSpurtSteady:ae}}}var Lr=E("<span> </span>"),Rr=E('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 appearance-none bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="text" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function O(e,t){ee(t,!1);let a=H(t,"label",8),r=H(t,"value",12),n=H(t,"showGrade",8,!0),i=0,l=1200,o=W(""),s=W(""),c=W();const d=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]];let p={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function f(){var y,b;(y=u(c))==null||y.focus(),(b=u(c))==null||b.select()}Pt(()=>(I(r()),u(o)),()=>{var y;r()<i&&r(i),r()>l&&r(l),Q(o,((y=d.find(([b])=>r()>=b))==null?void 0:y[1])??""),Q(s,p[u(o)]??"text-gray-800")}),kt(),le();var m=Rr(),_=g(m),A=g(_),w=g(A,!0);h(A);var S=v(A,2),C=g(S);{var M=y=>{var b=Lr(),D=g(b,!0);h(b),N(()=>{Tt(b,1,`${u(s)??""} text-xl font-bold`),k(D,u(o))}),B(y,b)};Te(C,y=>{n()&&y(M)})}var P=v(C,2);Lt(P),Da(P,y=>Q(c,y),()=>u(c)),h(S),h(_),h(m),N(()=>k(w,a())),Za(P,r),oe("click",P,Ua(function(y){Wa.call(this,t,y)})),oe("focus",P,f),oe("click",m,f),B(e,m),te()}var Hr=E("<option> </option>"),Ir=E('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function yt(e,t){let a=H(t,"options",24,()=>[]),r=H(t,"value",12);var n=Ir();N(()=>{r(),Pa(()=>{a()})}),Ha(n,5,a,La,(i,l)=>{var o=Hr(),s=g(o,!0);h(o);var c={};N(()=>{k(s,u(l)),c!==(c=u(l))&&(o.value=(o.__value=u(l))??"")}),B(i,o)}),h(n),Ea(n,r),B(e,n)}var qr=E('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function ie(e,t){ee(t,!1);let a=H(t,"label",8),r=H(t,"extraLabel",8,""),n=H(t,"option1",24,()=>[]),i=H(t,"value1",12),l=H(t,"option2",24,()=>[]),o=H(t,"value2",12),s="",c=W(""),d={S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};Pt(()=>{},()=>{Q(c,d[s]??"text-gray-800")}),kt();var p=qr(),f=g(p),m=g(f,!0);h(f);var _=v(f,2),A=g(_,!0);h(_);var w=v(_,2),S=g(w);yt(S,{get options(){return n()},get value(){return i()},set value(M){i(M)},$$legacy:!0});var C=v(S,2);yt(C,{get options(){return l()},get value(){return o()},set value(M){o(M)},$$legacy:!0}),h(w),h(p),N(()=>{k(m,a()),k(A,r())}),B(e,p),te()}var Fr=E('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function $(e,t){ee(t,!1);let a=H(t,"label",8),r=H(t,"value",8),n=H(t,"decimals",8,0),i=H(t,"valueSuffix",8,"");le();var l=Fr(),o=g(l),s=g(o,!0);h(o);var c=v(o,2),d=g(c);h(c),h(l),N(p=>{k(s,a()),k(d,`${p??""}${i()??""}`)},[()=>(I(T),I(r()),I(n()),G(()=>T(r(),n())))],z),B(e,l),te()}var Br=E('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function F(e,t){ee(t,!1);let a=H(t,"label",8),r=H(t,"data",8);le();var n=Br(),i=g(n),l=g(i,!0);h(i);var o=v(i,2),s=g(o,!0);h(o);var c=v(o,2),d=g(c,!0);h(c);var p=v(c,2),f=g(p,!0);h(p);var m=v(p,2),_=g(m,!0);h(m);var A=v(m,2),w=g(A,!0);h(A);var S=v(A,2),C=g(S,!0);h(S),h(n),N((M,P,y,b,D,L)=>{k(l,a()),k(s,M),k(d,P),k(f,y),k(_,b),k(w,D),k(C,L)},[()=>(I(T),I(r()),G(()=>T(r().initialSpeed,3))),()=>(I(T),I(r()),G(()=>T(r().targetSpeed,3))),()=>(I(T),I(r()),G(()=>T(r().acceleration,3))),()=>(I(T),I(r()),G(()=>T(r().duration,3))),()=>(I(T),I(r()),G(()=>T(r().distance,2))),()=>(I(T),I(r()),G(()=>T(r().hpConsumption,2)))],z),B(e,n),te()}var Er=E('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-5"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-2"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div></div></div></div> <div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></div></div>',1),Or=E('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-5"><!> <!> <!> <!> <!></div> <h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),Gr=E('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div> <div class="w-full mx-auto mb-6 px-2 md:w-4/5"><input type="button" value="Calculate" class="block mx-auto w-full bg-amber-400 font-semibold py-2 rounded md:w-5/6 lg:w-2/3 hover:cursor-pointer"/></div> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function Vr(e,t){ee(t,!1);let a=W(),r=W(!1),n=W({stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryTwoStarsOrBelow:0,uniqueRecoveryThreeStarsOrAbove:0}});function i(){return xt[parseInt(u(n).distance)]}function l(){Q(a,Dr(u(n)))}function o(){return u(a).realStats.stamina+1<u(a).requiredStamina?"Not enough stamina/guts":u(a).realStats.stamina/u(a).requiredStamina<1.1&&u(a).requiredStamina>=0?"Borderline":"You have enough stamina!"}function s(){return u(a).realStats.stamina+1<u(a).requiredStamina?"text-red-600":u(a).realStats.stamina/u(a).requiredStamina<1.1&&u(a).requiredStamina>=0?"text-orange-400":"text-green-600"}le();var c=Gr();Ta(x=>{ka.title="UmaCalc"});var d=v(Ae(c),2),p=g(d),f=g(p);O(f,{label:"Speed",get value(){return u(n).stats.speed},set value(x){R(n,u(n).stats.speed=x)},$$legacy:!0});var m=v(f,2);O(m,{label:"Stamina",get value(){return u(n).stats.stamina},set value(x){R(n,u(n).stats.stamina=x)},$$legacy:!0});var _=v(m,2);O(_,{label:"Power",get value(){return u(n).stats.power},set value(x){R(n,u(n).stats.power=x)},$$legacy:!0});var A=v(_,2);O(A,{label:"Guts",get value(){return u(n).stats.guts},set value(x){R(n,u(n).stats.guts=x)},$$legacy:!0});var w=v(A,2);O(w,{label:"Wit",get value(){return u(n).stats.wit},set value(x){R(n,u(n).stats.wit=x)},$$legacy:!0}),h(p);var S=v(p,2),C=g(S);ie(C,{label:"Track",get option1(){return za},get option2(){return Me},get value1(){return u(n).surface},set value1(x){R(n,u(n).surface=x)},get value2(){return u(n).surfaceAptitude},set value2(x){R(n,u(n).surfaceAptitude=x)},$$legacy:!0});var M=v(C,2);const P=z(i),y=z(()=>Object.keys(xt));ie(M,{label:"Distance",get extraLabel(){return u(P)},get option1(){return u(y)},get option2(){return Me},get value1(){return u(n).distance},set value1(x){R(n,u(n).distance=x)},get value2(){return u(n).distanceAptitude},set value2(x){R(n,u(n).distanceAptitude=x)},$$legacy:!0});var b=v(M,2);ie(b,{label:"Style",get option1(){return Ya},get option2(){return Me},get value1(){return u(n).strategy},set value1(x){R(n,u(n).strategy=x)},get value2(){return u(n).strategyAptitude},set value2(x){R(n,u(n).strategyAptitude=x)},$$legacy:!0});var D=v(b,2);ie(D,{label:"Mood/Condition",get option1(){return Va},get option2(){return Ka},get value1(){return u(n).mood},set value1(x){R(n,u(n).mood=x)},get value2(){return u(n).condition},set value2(x){R(n,u(n).condition=x)},$$legacy:!0}),h(S);var L=v(S,4),Z=g(L);O(Z,{label:"Gold skills",showGrade:!1,get value(){return u(n).skills.goldRecovery},set value(x){R(n,u(n).skills.goldRecovery=x)},$$legacy:!0});var K=v(Z,2);O(K,{label:"White skills",showGrade:!1,get value(){return u(n).skills.whiteRecovery},set value(x){R(n,u(n).skills.whiteRecovery=x)},$$legacy:!0});var X=v(K,2);O(X,{label:"2* or below uniques",showGrade:!1,get value(){return u(n).skills.uniqueRecoveryTwoStarsOrBelow},set value(x){R(n,u(n).skills.uniqueRecoveryTwoStarsOrBelow=x)},$$legacy:!0});var se=v(X,2);O(se,{label:"3* or above uniques",showGrade:!1,get value(){return u(n).skills.uniqueRecoveryThreeStarsOrAbove},set value(x){R(n,u(n).skills.uniqueRecoveryThreeStarsOrAbove=x)},$$legacy:!0}),h(L),h(d);var V=v(d,2),ae=g(V);h(V);var ne=v(V,2);{var ce=x=>{var He=Or(),ue=Ae(He),de=v(g(ue),2),ve=g(de),Ie=g(ve);$(Ie,{label:"Speed",get value(){return u(a).realStats.speed}});var qe=v(Ie,2);$(qe,{label:"Stamina",get value(){return u(a).realStats.stamina}});var Fe=v(qe,2);$(Fe,{label:"Power",get value(){return u(a).realStats.power}});var Be=v(Fe,2);$(Be,{label:"Guts",get value(){return u(a).realStats.guts}});var qt=v(Be,2);$(qt,{label:"Wit",get value(){return u(a).realStats.wit}}),h(ve);var fe=v(ve,4),Ee=g(fe);$(Ee,{label:"Stamina Needed",get value(){return u(a).requiredStamina}});var pe=v(Ee,2),Ft=g(pe,!0);h(pe),h(fe);var Oe=v(fe,2),Ge=g(Oe);$(Ge,{label:"Skill proc rate",get value(){return u(a).skillProcRate},decimals:2,valueSuffix:"%"});var Bt=v(Ge,2);$(Bt,{label:"Rushed rate",get value(){return u(a).rushedRate},decimals:2,valueSuffix:"%"}),h(Oe),h(de);var Ne=v(de,2),Ze=g(Ne);Lt(Ze),mt(),h(Ne),h(ue);var Et=v(ue,2);{var Ot=Y=>{var re=Er(),he=Ae(re),$e=g(he),ge=g($e),me=g(ge),Ue=v(g(me),2),Gt=g(Ue,!0);h(Ue),h(me);var _e=v(me,2),We=v(g(_e),2),Nt=g(We,!0);h(We),h(_e);var Se=v(_e,2),Ve=v(g(Se),2),Zt=g(Ve,!0);h(Ve),h(Se);var xe=v(Se,2),Ye=v(g(xe),2),$t=g(Ye,!0);h(Ye),h(xe);var ze=v(xe,2),Ke=v(g(ze),2),Ut=g(Ke,!0);h(Ke),h(ze),h(ge);var Qe=v(ge,2),ye=g(Qe),Xe=v(g(ye),2),Wt=g(Xe,!0);h(Xe),h(ye);var Je=v(ye,2),je=v(g(Je),2),Vt=g(je,!0);h(je),h(Je),h(Qe),h($e),h(he);var et=v(he,2),tt=g(et),at=g(tt),nt=v(g(at),2);F(nt,{label:"Starting Dash",get data(){return u(a).detailedBreakdown.startingDash}});var rt=v(nt,2);F(rt,{label:"phase 0 Acceleration",get data(){return u(a).detailedBreakdown.phaseZeroAcceleration}});var it=v(rt,2);F(it,{label:"phase 0 Steady",get data(){return u(a).detailedBreakdown.phaseZeroSteady}});var ot=v(it,2);F(ot,{label:"phase 1 Acceleration",get data(){return u(a).detailedBreakdown.phaseOneAcceleration}});var lt=v(ot,2);F(lt,{label:"phase 1 Steady",get data(){return u(a).detailedBreakdown.phaseOneSteady}});var st=v(lt,2);F(st,{label:"phase 2 Acceleration",get data(){return u(a).detailedBreakdown.phaseTwoAcceleration}});var ct=v(st,2);F(ct,{label:"phase 2, 3 Steady",get data(){return u(a).detailedBreakdown.phaseTwoAndThreeSteady}});var ut=v(ct,2);F(ut,{label:"Last Spurt Acceleration",get data(){return u(a).detailedBreakdown.lastSpurtAcceleration}});var dt=v(ut,2);F(dt,{label:"Last Spurt Steady",get data(){return u(a).detailedBreakdown.lastSpurtSteady}});var vt=v(dt,2);F(vt,{label:"HP0 / Deceleration",get data(){return u(a).detailedBreakdown.hitPointsZeroDeceleration}});var ft=v(vt,2);F(ft,{label:"Ideal Last Spurt Acceleration",get data(){return u(a).detailedBreakdown.idealLastSpurtAcceleration}});var Yt=v(ft,2);F(Yt,{label:"Ideal Last Spurt Steady",get data(){return u(a).detailedBreakdown.idealLastSpurtSteady}}),h(at),h(tt),h(et),N((zt,Kt,Qt,Xt,Jt,jt)=>{k(Gt,zt),k(Nt,Kt),k(Zt,Qt),k($t,Xt),k(Ut,Jt),k(Wt,jt),k(Vt,u(a).requiredStamina)},[()=>T(u(a).baseSpeed,2),()=>T(u(a).initialHitPoints,2),()=>T(u(a).hitPointsWithRecovery,2),()=>T(u(a).lastSpurtDistance,2),()=>T(u(a).lastSpurtHitPointsConsumptionCoefficient,2),()=>T(u(a).targetHitPointsForLastSpurt,2)],z),B(Y,re)};Te(Et,Y=>{u(r)&&Y(Ot)})}N((Y,re)=>{Tt(pe,1,`${Y??""} text-center text-2xl font-bold self-center`),k(Ft,re)},[s,o],z),$a(Ze,()=>u(r),Y=>Q(r,Y)),B(x,He)};Te(ne,x=>{u(a)&&x(ce)})}mt(2),oe("click",ae,l),B(e,c),te()}export{Vr as component};
