import"../chunks/CWj6FrbW.js";import{i as qe}from"../chunks/BZMQH1f0.js";import{ai as Ie,m as Fe,W as ae,n as q,z as Be,o as Ee,H as D,a8 as Ge,S as Ne,U as Oe,V as fe,X as ne,y as V,ak as Ue,ao as We,Y as xe,v as Ce,Z as Ze,ay as re,as as ye,ag as pe,az as Ve,au as j,aA as me,i as we,aB as Ye,aC as ze,ar as Ke,aD as Xe,x as Je,aE as Qe,aF as je,al as $e,$ as et,r as tt,aG as at,aH as nt,aI as rt,aJ as it,aK as ot,aL as lt,e as ue,a0 as be,L as B,M as T,C as R,O as E,Q as h,P as g,N as U,R as f,u as st,aw as $,B as Y,aM as ct,aN as ut,a7 as ie,aO as dt,aP as he}from"../chunks/CnoABtCr.js";import{l as de,a as vt,s as A,d as ft,e as pt,b as mt}from"../chunks/BsOx7KcN.js";import{p as L,i as ce,b as ht}from"../chunks/CxMg8yjf.js";function gt(e,t){return t}function _t(e,t,a,n){for(var r=[],i=t.length,l=0;l<i;l++)ze(t[l].e,r,!0);var o=i>0&&r.length===0&&a!==null;if(o){var c=a.parentNode;Ke(c),c.append(a),n.clear(),N(e,t[0].prev,t[i-1].next)}Xe(r,()=>{for(var s=0;s<i;s++){var u=t[s];o||(n.delete(u.k),N(e,u.prev,u.next)),Je(u.e,!o)}})}function St(e,t,a,n,r,i=null){var l=e,o={flags:t,items:new Map,first:null};{var c=e;l=q?ae(Be(c)):c.appendChild(Ie())}q&&Ee();var s=null,u=!1,d=Ge(()=>{var v=a();return we(v)?v:v==null?[]:ye(v)});Fe(()=>{var v=D(d),p=v.length;if(u&&p===0)return;u=p===0;let m=!1;if(q){var y=Ne(l)===Oe;y!==(p===0)&&(l=fe(),ae(l),ne(!1),m=!0)}if(q){for(var w=null,S,x=0;x<p;x++){if(V.nodeType===Ue&&V.data===We){l=V,m=!0,ne(!1);break}var C=v[x],b=n(C,x);S=Me(V,o,w,null,C,b,x,r,t,a),o.items.set(b,S),w=S}p>0&&ae(fe())}q||xt(v,o,l,r,t,n,a),i!==null&&(p===0?s?xe(s):s=Ce(()=>i(l)):s!==null&&Ze(s,()=>{s=null})),m&&ne(!0),D(d)}),q&&(l=V)}function xt(e,t,a,n,r,i,l){var o=e.length,c=t.items,s=t.first,u=s,d,v=null,p=[],m=[],y,w,S,x;for(x=0;x<o;x+=1){if(y=e[x],w=i(y,x),S=c.get(w),S===void 0){var C=u?u.e.nodes_start:a;v=Me(C,t,v,v===null?t.first:v.next,y,w,x,n,r,l),c.set(w,v),p=[],m=[],u=v.next;continue}if(Ct(S,y,x),(S.e.f&re)!==0&&xe(S.e),S!==u){if(d!==void 0&&d.has(S)){if(p.length<m.length){var b=m[0],M;v=b.prev;var _=p[0],k=p[p.length-1];for(M=0;M<p.length;M+=1)ge(p[M],b,a);for(M=0;M<m.length;M+=1)d.delete(m[M]);N(t,_.prev,k.next),N(t,v,_),N(t,k,b),u=b,v=k,x-=1,p=[],m=[]}else d.delete(S),ge(S,u,a),N(t,S.prev,S.next),N(t,S,v===null?t.first:v.next),N(t,v,S),v=S;continue}for(p=[],m=[];u!==null&&u.k!==w;)(u.e.f&re)===0&&(d??(d=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;S=u}p.push(S),v=S,u=S.next}if(u!==null||d!==void 0){for(var P=d===void 0?[]:ye(d);u!==null;)(u.e.f&re)===0&&P.push(u),u=u.next;var H=P.length;if(H>0){var W=o===0?a:null;_t(t,P,W,c)}}pe.first=t.first&&t.first.e,pe.last=v&&v.e}function Ct(e,t,a,n){Ve(e.v,t),e.i=a}function Me(e,t,a,n,r,i,l,o,c,s){var u=(c&Qe)!==0,d=(c&je)===0,v=u?d?j(r,!1,!1):me(r):r,p=(c&Ye)===0?l:me(l),m={i:p,v,k:i,a:null,e:null,prev:a,next:n};try{return m.e=Ce(()=>o(e,v,p,s),q),m.e.prev=a&&a.e,m.e.next=n&&n.e,a===null?t.first=m:(a.next=m,a.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function ge(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==n;){var l=$e(i);r.before(i),i=l}}function N(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function yt(e,t,a){var n=e==null?"":""+e;return n===""?null:n}function Ae(e,t,a,n,r,i){var l=e.__className;if(q||l!==a||l===void 0){var o=yt(a);(!q||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}return i}function De(e,t,a){if(e.multiple){if(t==null)return;if(!we(t))return at();for(var n of e.options)n.selected=t.includes(z(n));return}for(n of e.options){var r=z(n);if(nt(r,t)){n.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function wt(e){var t=new MutationObserver(()=>{De(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),tt(()=>{t.disconnect()})}function bt(e,t,a=t){var n=!0;de(e,"change",r=>{var i=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),z);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");l=o&&z(o)}a(l)}),et(()=>{var r=t();if(De(e,r,n),n&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=z(i),a(r))}e.__value=r,n=!1}),wt(e)}function z(e){return"__value"in e?e.__value:e.value}const Mt=Symbol("is custom element"),At=Symbol("is html");function ke(e){if(q){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;_e(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;_e(e,"checked",null),e.checked=r}}};e.__on_r=a,rt(a),vt()}}function _e(e,t,a,n){var r=Dt(e);q&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=a)&&(t==="loading"&&(e[it]=a),e.removeAttribute(t))}function Dt(e){return e.__attributes??(e.__attributes={[Mt]:e.nodeName.includes("-"),[At]:e.namespaceURI===ot})}function kt(e,t,a=t){var n=lt();de(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=oe(e)?le(i):i,a(i),n&&i!==(i=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),(q&&e.defaultValue!==e.value||ue(t)==null&&e.value)&&a(oe(e)?le(e.value):e.value),be(()=>{var r=t();oe(e)&&r===le(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Lt(e,t,a=t){de(e,"change",n=>{var r=n?e.defaultChecked:e.checked;a(r)}),(q&&e.defaultChecked!==e.checked||ue(t)==null)&&a(e.checked),be(()=>{var n=t();e.checked=!!n})}function oe(e){var t=e.type;return t==="number"||t==="range"}function le(e){return e===""?null:+e}const se=["S","A","B","C","D","E","F","G"],Pt=["Great","Good","Normal","Bad","Terrible"],Rt=["Front","Pace","Late","End"],Tt=["Turf","Dirt"],Ht=["Firm","Soft","Heavy","Wet"],Le={1e3:"Sprint",1200:"Sprint",1400:"Sprint",1500:"Mile",1600:"Mile",1800:"Mile",2e3:"Medium",2200:"Medium",2300:"Medium",2400:"Medium",2500:"Long",2600:"Long",3e3:"Long",3200:"Long",3400:"Long",3600:"Long"},qt={Great:1.04,Good:1.02,Normal:1,Bad:.98,Terrible:.96},It={Turf:{Heavy:{speed:0,power:-50,hpConsumptionCoefficient:1.02},Wet:{speed:-50,power:-50,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:0,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}},Dirt:{Heavy:{speed:0,power:-100,hpConsumptionCoefficient:1.01},Wet:{speed:-50,power:-100,hpConsumptionCoefficient:1.02},Firm:{speed:0,power:-100,hpConsumptionCoefficient:1},Soft:{speed:0,power:-50,hpConsumptionCoefficient:1}}},Ft={S:{speed:1.05,acceleration:1},A:{speed:1,acceleration:1},B:{speed:.9,acceleration:1},C:{speed:.8,acceleration:1},D:{speed:.6,acceleration:1},E:{speed:.4,acceleration:.6},F:{speed:.2,acceleration:.5},G:{speed:.1,acceleration:.4}},Bt={S:1.1,A:1,B:.85,C:.75,D:.6,E:.4,F:.2,G:.1},Et={S:1.05,A:1,B:.9,C:.8,D:.6,E:.4,F:.2,G:.1},Gt={Front:{hpCorrection:.95,speedCorrection:{early:1,middle:.98,late:.962},accelerationCorrection:{early:1,middle:1,late:.996}},Pace:{hpCorrection:.89,speedCorrection:{early:.978,middle:.991,late:.975},accelerationCorrection:{early:.985,middle:1,late:.996}},Late:{hpCorrection:1,speedCorrection:{early:.938,middle:.998,late:.994},accelerationCorrection:{early:.975,middle:1,late:1}},End:{hpCorrection:.995,speedCorrection:{early:.931,middle:1,late:1},accelerationCorrection:{early:.945,middle:1,late:.997}}},Nt={stats:{speed:1200,stamina:800,power:1e3,guts:400,wit:1e3},surface:"Turf",surfaceAptitude:"A",distance:"2000",distanceAptitude:"A",strategy:"Front",strategyAptitude:"A",mood:"Great",condition:"Firm",skills:{goldRecovery:0,whiteRecovery:0,uniqueRecoveryLevelTwoStarsOrBelow:0,uniqueRecoveryLevelThreeStarsOrAbove:0}},Ot=[[1100,"SS"],[1e3,"S"],[800,"A"],[600,"B"],[400,"C"],[300,"D"],[200,"E"],[100,"F"],[0,"G"]],Ut={SS:"text-orange-500",S:"text-orange-500",A:"text-orange-500",B:"text-pink-500",C:"text-green-600",D:"text-blue-500",E:"text-red-500",F:"text-gray-500",G:"text-gray-400"};function Wt(e,t,a){return e+.8*t*a}function Zt(e,t,a){return e*(1+(t+a)/1e4)}function Vt(e,t){return e*550+t*150}function Yt(e,t){let a=0;return e>0&&(a+=350*Math.pow(1.02,e-1)),t>0&&(a+=550*Math.pow(1.02,t-1)),a}function zt(e){return qt[e]}function Kt(e,t){return It[e][t]}function Xt(e){return Ft[e]}function Jt(e){return Gt[e]}function Qt(e){return Bt[e]}function jt(e){return Et[e]}function $t(e){return e*.85}function ea(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function ta(e,t,a,n){return 6e-4*Math.sqrt(500*e)*t*a*n}function aa(e,t,a,n,r){const i=(t-e)/a,l=(-e+Math.sqrt(e**2+2*a*(n/6-r)))/a;return Math.min(i,l)}function na(e,t,a){return(e+t*a/2)*a}function ra(e,t,a,n,r){return 20*r*((t*a+e-n+12)**3-(e-n+12)**3)/(3*t)/144}function ia(e,t,a,n,r,i,l,o,c){const s=$t(e),u=ea(e,t.wit,a),d=ta(t.power,n,r,i),v=aa(s,u,d,l,o),p=na(s,d,v),m=ra(s,d,v,e,c.hpConsumptionCoefficient);return{initialSpeed:s,targetSpeed:u,acceleration:d,duration:v,distance:p,hpConsumption:m}}function oa(e,t){return e/t}function la(e,t,a){return Math.max(e/6-(t+a),0)}function sa(e,t,a,n){return 20*a*(e-t+12)**2/144*n}function ca(e,t,a,n,r){const i=a.targetSpeed,l=a.targetSpeed,o=0,c=la(t,n.distance,a.distance),s=oa(c,i),u=sa(i,e,r.hpConsumptionCoefficient,s);return{initialSpeed:i,targetSpeed:l,acceleration:o,duration:s,distance:c,hpConsumption:u}}const ve=3;function ua(e){return e*.85}function da(e,t,a,n){return 24+6e-4*Math.sqrt(500*e)*t*a*n}function va(e,t){return(e-ve)/t}function fa(e,t){return(ve+e)/2*t}function pa(e,t){return 20*t*e}function ma(e,t,a,n,r,i){const l=ve,o=ua(e),c=da(t,a,n,r),s=va(o,c),u=fa(o,s),d=pa(s,i.hpConsumptionCoefficient);return{initialSpeed:l,targetSpeed:o,acceleration:c,distance:u,duration:s,hpConsumption:d}}function ha(e,t,a,n){return(e*t+a.speed)*n.speed**2}function ga(e,t){return e*t}function _a(e,t,a,n){return(e*t+a.power)*n.acceleration}function Sa(e,t){return e*t}function xa(e,t,a){return e*t*a}function Ca(e,t,a,n,r){return{speed:ha(e.speed,t,a,n),stamina:ga(e.stamina,t),power:_a(e.power,t,a,n),guts:Sa(e.guts,t),wit:xa(e.wit,t,r)}}function ya(e,t){return e/t}function wa(e,t){return e/2-t}function ba(e,t,a,n){return 20*n*(t-e+12)**2/144*a}function Ma(e,t,a,n){const r=a.targetSpeed,i=a.targetSpeed,l=0,o=wa(t,a.distance),c=ya(o,r),s=ba(e,r,c,n.hpConsumptionCoefficient);return{initialSpeed:r,targetSpeed:i,acceleration:l,duration:c,distance:o,hpConsumption:s}}function Aa(e,t,a){return Math.max(e/3-t-a,0)}function Da(e,t){return e/t}function ka(e,t,a,n,r){return 20*a*n*(t-e+12)**2/144*r}function La(e){const t=e.targetSpeed,a=e.targetSpeed;return{initialSpeed:t,targetSpeed:a,acceleration:0,duration:-1,distance:-1,hpConsumption:-1}}function Pa(e,t,a,n,r,i,l){const o=e.initialSpeed,c=e.targetSpeed,s=e.acceleration,u=Aa(a,n,r.distance),d=Da(u,c),v=ka(t,o,i.hpConsumptionCoefficient,l,d);return{initialSpeed:o,targetSpeed:c,acceleration:s,duration:d,distance:u,hpConsumption:v}}function Ra(e,t,a,n,r,i,l,o,c,s,u,d){const v=a+n+r+i+l,p=(t-v-(e/3-60)*20*o*c*(s-d+12)**2/144/s)/(20*o*c*((u-d+12)**2/144/u-(s-d+12)**2/144/s))+60,m=e/3;return Math.min(p,m)}function Ta(e){return 1+200/Math.sqrt(600*e)}function Ha(e,t,a,n,r,i,l,o,c){return e-(t+a+n+r+i+l+o+c)}function qa(e,t,a,n,r){return a/(20*n*r*(t-e+12)**2/144)}function Ia(e,t,a,n,r,i,l,o){return 20*l*o*(a-e+12)**2/144*(t/3-(n+r+i))/a}function Fa(e,t){return e*t}function Ba(e,t,a,n,r,i,l,o){const c=l.targetSpeed,s=l.targetSpeed,u=0,d=Ia(e,t,c,r.distance,i.distance,l.distance,o.hpConsumptionCoefficient,a),v=Math.min(d,n),p=qa(e,c,v,o.hpConsumptionCoefficient,a),m=Fa(c,p);return{initialSpeed:c,targetSpeed:s,acceleration:u,duration:p,distance:m,hpConsumption:v}}function Ea(e,t,a){return t===0?e:a}function Ga(e,t,a,n){return(e*(a+.01)+Math.sqrt(500*t)*n*.002)*1.05+Math.sqrt(500*t)*n*.002}function Na(e,t,a,n){return 6e-4*Math.sqrt(500*e)*t*a*n}function Pe(e,t,a){return(e-t)/a}function Re(e,t,a){return(e+t)/2*a}function Te(e,t,a,n,r,i){return 20*r*i*((t+a*n-e+12)**3-(t-e+12)**3)/(3*a)/144}function Oa(e,t,a,n){return{initialSpeed:-1,targetSpeed:Ga(e,t.speed,a.speedCorrection.late,n.speed),acceleration:-1,duration:-1,distance:-1,hpConsumption:-1}}function Ua(e,t,a,n,r,i,l,o,c,s,u){const d=Ea(c.targetSpeed,s.distance,u.targetSpeed),v=e.targetSpeed,p=Na(a.power,n.accelerationCorrection.late,r.acceleration,i),m=Pe(v,d,p),y=Re(d,v,m),w=Te(t,d,p,m,l.hpConsumptionCoefficient,o);return{initialSpeed:d,targetSpeed:v,acceleration:p,duration:m,distance:y,hpConsumption:w}}function Wa(e,t,a,n,r,i){const l=n.targetSpeed,o=i.targetSpeed,c=i.acceleration,s=Pe(o,l,c),u=Re(l,o,s),d=Te(e,r.initialSpeed,i.acceleration,s,t.hpConsumptionCoefficient,a);return{initialSpeed:l,targetSpeed:o,acceleration:c,duration:s,distance:u,hpConsumption:d}}function Za(e,t,a){return(-e+Math.sqrt(e**2+2*t*a))/t}function Va(e,t,a,n,r){return e/3-(t+a+n+r)}function Ya(e,t,a,n,r,i){const l=i.targetSpeed,o=t,c=-1.2,s=Va(e,a.distance,n.distance,r.distance,i.distance),u=Za(l,c,s);return{initialSpeed:l,targetSpeed:o,acceleration:c,duration:u,distance:s,hpConsumption:0}}function za(e,t,a,n,r,i,l){const o=e+t+a+n+r,c=i+l;return o+c}function Ka(e,t,a,n,r,i){return e+(t-a)/.8/n/(1+(r+i)/1e4)}function Xa(e){return(6.5/Math.log10(.1*e+1))**2}function Ja(e){return Math.max(100-9e3/e,20)}function Qa(e){return 20-(e-2e3)/1e3}function ja(e,t){return .85*e+Math.sqrt(200*t)*.001}function $a(e,t,a){return e+t*a}function en(e,t,a){return e*a+(t/5500*Math.log10(t*.1)-.65/2)*.01*e}function tn(e,t,a,n,r,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*n*r*i}function an(e,t,a){return(t-e)/a}function nn(e,t,a){return(e+t)/2*a}function rn(e,t,a,n,r){return 20*r*((t-n+12)**3-(e-n+12)**3)/(3*a)/144}function on(e,t,a,n,r,i,l){const o=$a(a.initialSpeed,a.acceleration,a.duration),c=en(e,t.wit,n.speedCorrection.middle),s=tn(o,c,t.power,n.accelerationCorrection.middle,r.acceleration,i),u=an(o,c,s),d=nn(o,c,u),v=rn(o,c,s,e,l.hpConsumptionCoefficient);return{initialSpeed:o,targetSpeed:c,acceleration:s,duration:u,distance:d,hpConsumption:v}}function ln(e,t,a,n,r){return e*n+Math.sqrt(500*t)*r*.002+(a/5500*Math.log10(a*.1)-.65/2)*.01*e}function sn(e,t,a,n,r,i){return e>t?-.8:6e-4*Math.sqrt(500*a)*n*r*i}function cn(e,t,a,n,r){return e/3<=t?0:(a-n)/r}function un(e,t,a){return(e+t)/2*a}function dn(e,t,a,n,r,i){return 20*r*i*((t+a*n-e+12)**3-(t-e+12)**3)/(3*a)/144}function vn(e,t,a,n,r,i){const l=i.targetSpeed,o=ln(e,t.speed,t.wit,a.speedCorrection.late,n.speed),c=sn(l,o,t.power,a.accelerationCorrection.late,n.acceleration,r);return{initialSpeed:l,targetSpeed:o,acceleration:c,duration:-1,distance:-1,hpConsumption:-1}}function fn(e,t,a,n,r,i){const l=e.initialSpeed,o=e.targetSpeed,c=e.acceleration,s=cn(a,n,o,l,c),u=un(l,o,s),d=dn(t,l,c,s,r.hpConsumptionCoefficient,i);return{initialSpeed:l,targetSpeed:o,acceleration:c,duration:s,distance:u,hpConsumption:d}}function pn(e,t){return e/3-t}function mn(e,t){return e/t}function hn(e,t,a,n,r){return 20*t*a*(n-e+12)**2/144*r}function gn(e,t,a,n,r,i){const l=n.targetSpeed,o=n.targetSpeed,c=0,s=pn(t,r.distance),u=mn(s,l),d=hn(e,i.hpConsumptionCoefficient,a,l,u);return{initialSpeed:l,targetSpeed:o,acceleration:c,duration:u,distance:s,hpConsumption:d}}function _n(e){const t=parseInt(e.distance),a=zt(e.mood),n=Kt(e.surface,e.condition),r=Xt(e.distanceAptitude),i=Qt(e.strategyAptitude),l=Jt(e.strategy),o=jt(e.surfaceAptitude),c=Ca(e.stats,a,n,r,i),s=Qa(t),u=ja(s,c.guts),d=Wt(t,c.stamina,l.hpCorrection),v=Vt(e.skills.goldRecovery,e.skills.whiteRecovery),p=Yt(e.skills.uniqueRecoveryLevelTwoStarsOrBelow,e.skills.uniqueRecoveryLevelThreeStarsOrAbove),m=Zt(d,v,p),y=Ja(e.stats.wit),w=Xa(c.wit),S=Ta(c.guts),x=ma(s,c.power,l.accelerationCorrection.early,r.acceleration,o,n),C=ia(s,c,l.speedCorrection.early,l.accelerationCorrection.early,r.acceleration,o,t,x.distance,n),b=ca(s,t,C,x,n),M=on(s,c,C,l,r,o,n),_=Ma(s,t,M,n);let k=vn(s,c,l,r,o,_),P=La(k),H=Oa(s,c,l,r);const W=Ra(t,m,x.hpConsumption,C.hpConsumption,b.hpConsumption,M.hpConsumption,_.hpConsumption,n.hpConsumptionCoefficient,S,P.initialSpeed,H.targetSpeed,s);k=fn(k,s,t,W,n,S),P=Pa(P,s,t,W,k,n,S),H=Ua(H,s,c,l,r,o,n,S,_,k,P);const ee=Ha(m,x.hpConsumption,C.hpConsumption,b.hpConsumption,M.hpConsumption,_.hpConsumption,k.hpConsumption,P.hpConsumption,H.hpConsumption),K=Ba(s,t,S,ee,k,P,H,n),te=Ya(t,u,k,P,H,K),Z=Wa(s,n,S,_,k,H),X=gn(s,t,S,H,Z,n),J=za(x.hpConsumption,C.hpConsumption,b.hpConsumption,M.hpConsumption,_.hpConsumption,Z.hpConsumption,X.hpConsumption),He=Ka(c.stamina,J,m,l.hpCorrection,v,p);return{realStats:c,baseSpeed:s,initialHitPoints:d,hitPointsWithRecovery:m,lastSpurtDistance:W,lastSpurtHitPointsConsumptionCoefficient:S,targetHitPointsForLastSpurt:J,requiredStamina:He,skillProcRate:y,rushedRate:w,detailedBreakdown:{startingDash:x,phaseZeroAcceleration:C,phaseZeroSteady:b,phaseOneAcceleration:M,phaseOneSteady:_,phaseTwoAcceleration:k,phaseTwoAndThreeSteady:P,lastSpurtAcceleration:H,lastSpurtSteady:K,hitPointsZeroDeceleration:te,idealLastSpurtAcceleration:Z,idealLastSpurtSteady:X}}}function I(e,t=0){if(e===0)return"-";const a=10**t;return(Math.sign(e)*Math.round(Math.abs(e)*a)/a).toFixed(t)}function Sn(e){return Le[parseInt(e.distance)]}function xn(e){return e.realStats.stamina+1<e.requiredStamina?"Not enough stamina/guts":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"Borderline":"You have enough stamina!"}function Cn(e){return e.realStats.stamina+1<e.requiredStamina?"text-red-600":e.realStats.stamina/e.requiredStamina<1.1&&e.requiredStamina>=0?"text-orange-400":"text-green-600"}var yn=T("<option> </option>"),wn=T('<select class="w-full px-3 py-1 bg-white font-semibold hover:cursor-pointer"></select>');function Se(e,t){B(t,!0);let a=L(t,"options",19,()=>[]),n=L(t,"value",15);var r=wn();St(r,21,a,gt,(i,l)=>{var o=yn(),c=g(o,!0);h(o);var s={};U(()=>{A(c,D(l)),s!==(s=D(l))&&(o.value=(o.__value=D(l))??"")}),R(i,o)}),h(r),bt(r,n),R(e,r),E()}var bn=T('<div class="flex items-center my-1 space-x-2"><div class="text-xl font-semibold"> </div> <div class="text-sm pt-2"> </div> <div class="ml-auto flex border border-green-500 rounded w-3/5"><!> <!></div></div>');function Q(e,t){B(t,!0);let a=L(t,"label",3,""),n=L(t,"extraLabel",3,""),r=L(t,"options1",19,()=>[]),i=L(t,"value1",15),l=L(t,"options2",19,()=>[]),o=L(t,"value2",15);var c=bn(),s=g(c),u=g(s,!0);h(s);var d=f(s,2),v=g(d,!0);h(d);var p=f(d,2),m=g(p);Se(m,{get options(){return r()},get value(){return i()},set value(w){i(w)}});var y=f(m,2);Se(y,{get options(){return l()},get value(){return o()},set value(w){o(w)}}),h(p),h(c),U(()=>{A(u,a()),A(v,n())}),R(e,c),E()}var Mn=T("<span> </span>"),An=T('<button tabindex="-1" class="cursor-text"><div class="bg-green-50 rounded text-center"><div class="p-1 text-xs font-semibold bg-green-500 rounded-t text-white"> </div> <div class="flex items-baseline justify-center space-x-1 pl-2 md:pl-0"><!> <input class="w-12 bg-transparent text-center text-sm font-semibold focus:outline-none no-spinner" type="number" inputmode="numeric" pattern="[0-9]*" name="speed"/></div></div></button>');function G(e,t){B(t,!0);let a=L(t,"label",3,""),n=L(t,"value",15),r=L(t,"showGrade",3,!0),i=L(t,"min",3,0),l=L(t,"max",3,1200),o,c=$(()=>{var C;return((C=Ot.find(([b])=>n()>=b))==null?void 0:C[1])??""}),s=$(()=>Ut[D(c)]??"text-gray-800");st(()=>{n()<i()&&n(i()),n()>l()&&n(l())});function u(){o==null||o.focus(),o==null||o.select()}var d=An();d.__click=u;var v=g(d),p=g(v),m=g(p,!0);h(p);var y=f(p,2),w=g(y);{var S=C=>{var b=Mn(),M=g(b,!0);h(b),U(()=>{Ae(b,1,`${D(s)??""} text-xl font-bold`),A(M,D(c))}),R(C,b)};ce(w,C=>{r()&&C(S)})}var x=f(w,2);ke(x),ht(x,C=>o=C,()=>o),h(y),h(v),h(d),U(()=>A(m,a())),pt("focus",x,u),kt(x,n),R(e,d),E()}ft(["click"]);var Dn=T('<div class="w-full mx-auto py-6 p-2 md:w-4/5"><div class="mx-auto w-full grid grid-cols-5 gap-2 mb-6 md:w-5/6 lg:w-2/3"><!> <!> <!> <!> <!></div> <div class="mx-auto w-full mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div> <h2 class="text-xl font-semibold text-center">Recovery Skills</h2> <div class="mx-auto w-full grid grid-cols-4 gap-2 mb-2 md:w-5/6 lg:w-2/3"><!> <!> <!> <!></div></div>');function kn(e,t){B(t,!0);let a=L(t,"inputData",15);var n=Dn(),r=g(n),i=g(r);G(i,{label:"Speed",get value(){return a().stats.speed},set value(_){a(a().stats.speed=_,!0)}});var l=f(i,2);G(l,{label:"Stamina",get value(){return a().stats.stamina},set value(_){a(a().stats.stamina=_,!0)}});var o=f(l,2);G(o,{label:"Power",get value(){return a().stats.power},set value(_){a(a().stats.power=_,!0)}});var c=f(o,2);G(c,{label:"Guts",get value(){return a().stats.guts},set value(_){a(a().stats.guts=_,!0)}});var s=f(c,2);G(s,{label:"Wit",get value(){return a().stats.wit},set value(_){a(a().stats.wit=_,!0)}}),h(r);var u=f(r,2),d=g(u);Q(d,{label:"Track",get options1(){return Tt},get options2(){return se},get value1(){return a().surface},set value1(_){a(a().surface=_,!0)},get value2(){return a().surfaceAptitude},set value2(_){a(a().surfaceAptitude=_,!0)}});var v=f(d,2);const p=$(()=>Sn(a())),m=$(()=>Object.keys(Le));Q(v,{label:"Distance",get extraLabel(){return D(p)},get options1(){return D(m)},get options2(){return se},get value1(){return a().distance},set value1(_){a(a().distance=_,!0)},get value2(){return a().distanceAptitude},set value2(_){a(a().distanceAptitude=_,!0)}});var y=f(v,2);Q(y,{label:"Style",get options1(){return Rt},get options2(){return se},get value1(){return a().strategy},set value1(_){a(a().strategy=_,!0)},get value2(){return a().strategyAptitude},set value2(_){a(a().strategyAptitude=_,!0)}});var w=f(y,2);Q(w,{label:"Mood/Condition",get options1(){return Pt},get options2(){return Ht},get value1(){return a().mood},set value1(_){a(a().mood=_,!0)},get value2(){return a().condition},set value2(_){a(a().condition=_,!0)}}),h(u);var S=f(u,4),x=g(S);G(x,{label:"Gold skills",showGrade:!1,get value(){return a().skills.goldRecovery},set value(_){a(a().skills.goldRecovery=_,!0)}});var C=f(x,2);G(C,{label:"White skills",showGrade:!1,get value(){return a().skills.whiteRecovery},set value(_){a(a().skills.whiteRecovery=_,!0)}});var b=f(C,2);G(b,{label:"unique <= 2* level",showGrade:!1,max:5,get value(){return a().skills.uniqueRecoveryLevelTwoStarsOrBelow},set value(_){a(a().skills.uniqueRecoveryLevelTwoStarsOrBelow=_,!0)}});var M=f(b,2);G(M,{label:"unique >= 3* level",showGrade:!1,max:6,get value(){return a().skills.uniqueRecoveryLevelThreeStarsOrAbove},set value(_){a(a().skills.uniqueRecoveryLevelThreeStarsOrAbove=_,!0)}}),h(S),h(n),R(e,n),E()}var Ln=T('<div><p class="text-center font-bold"> </p> <p class="text-center"> </p></div>');function O(e,t){B(t,!0);let a=L(t,"decimals",3,0),n=L(t,"valueSuffix",3,"");var r=Ln(),i=g(r),l=g(i,!0);h(i);var o=f(i,2),c=g(o);h(o),h(r),U(s=>{A(l,t.label),A(c,`${s??""}${n()??""}`)},[()=>I(t.value,a())]),R(e,r),E()}var Pn=T('<h2 class="text-2xl font-semibold text-center my-4">Real Stats</h2> <div class="grid grid-cols-5"><!> <!> <!> <!> <!></div>',1);function Rn(e,t){B(t,!0);var a=Pn(),n=f(Y(a),2),r=g(n);O(r,{label:"Speed",get value(){return t.stats.speed}});var i=f(r,2);O(i,{label:"Stamina",get value(){return t.stats.stamina}});var l=f(i,2);O(l,{label:"Power",get value(){return t.stats.power}});var o=f(l,2);O(o,{label:"Guts",get value(){return t.stats.guts}});var c=f(o,2);O(c,{label:"Wit",get value(){return t.stats.wit}}),h(n),R(e,a),E()}var Tn=T('<h2 class="text-2xl font-semibold text-center">Results</h2> <div class="grid grid-cols-2"><!> <p> </p></div> <div class="grid grid-cols-2"><!> <!></div>',1);function Hn(e,t){B(t,!0);var a=Tn(),n=f(Y(a),2),r=g(n);O(r,{label:"Stamina Needed",get value(){return t.result.requiredStamina}});var i=f(r,2),l=g(i,!0);h(i),h(n);var o=f(n,2),c=g(o);O(c,{label:"Skill proc rate",get value(){return t.result.skillProcRate},decimals:2,valueSuffix:"%"});var s=f(c,2);O(s,{label:"Rushed rate",get value(){return t.result.rushedRate},decimals:2,valueSuffix:"%"}),h(o),U((u,d)=>{Ae(i,1,`${u??""} text-center text-2xl font-bold self-center`),A(l,d)},[()=>Cn(t.result),()=>xn(t.result)]),R(e,a),E()}var qn=T('<div class="flex items-center border-y border-gray-200 py-2"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div> <div class="flex-1 text-right pr-4 flex-shrink-0"> </div></div>');function F(e,t){B(t,!0);var a=qn(),n=g(a),r=g(n,!0);h(n);var i=f(n,2),l=g(i,!0);h(i);var o=f(i,2),c=g(o,!0);h(o);var s=f(o,2),u=g(s,!0);h(s);var d=f(s,2),v=g(d,!0);h(d);var p=f(d,2),m=g(p,!0);h(p);var y=f(p,2),w=g(y,!0);h(y),h(a),U((S,x,C,b,M,_)=>{A(r,t.label),A(l,S),A(c,x),A(u,C),A(v,b),A(m,M),A(w,_)},[()=>I(t.data.initialSpeed,3),()=>I(t.data.targetSpeed,3),()=>I(t.data.acceleration,3),()=>I(t.data.duration,3),()=>I(t.data.distance,2),()=>I(t.data.hpConsumption,2)]),R(e,a),E()}var In=T('<div class="w-full mx-auto flex flex-col items-center py-6 lg:w-4/5"><div class="w-full mx-auto overflow-x-auto lg:w-full"><div class="min-w-[800px]"><div class="flex items-center bg-gray-100 font-semibold"><div class="w-1/5 pl-4 font-medium text-gray-700 flex-shrink-0"></div> <div class="flex-1 text-center pr-4">Initial Speed [m/s]</div> <div class="flex-1 text-center pr-4">Target Speed [m/s]</div> <div class="flex-1 text-center pr-4">Acceleration [m/s²]</div> <div class="flex-1 text-center pr-4">Time [s]</div> <div class="flex-1 text-center pr-4">Distance [m]</div> <div class="flex-1 text-center pr-4">HP Consumption</div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <br/> <!> <!></div></div></div>');function Fn(e,t){B(t,!0);var a=In(),n=g(a),r=g(n),i=f(g(r),2);F(i,{label:"Starting Dash",get data(){return t.result.detailedBreakdown.startingDash}});var l=f(i,2);F(l,{label:"Early Acceleration",get data(){return t.result.detailedBreakdown.phaseZeroAcceleration}});var o=f(l,2);F(o,{label:"Early Steady",get data(){return t.result.detailedBreakdown.phaseZeroSteady}});var c=f(o,2);F(c,{label:"Middle Acceleration",get data(){return t.result.detailedBreakdown.phaseOneAcceleration}});var s=f(c,2);F(s,{label:"Middle Steady",get data(){return t.result.detailedBreakdown.phaseOneSteady}});var u=f(s,2);F(u,{label:"Late Acceleration",get data(){return t.result.detailedBreakdown.phaseTwoAcceleration}});var d=f(u,2);F(d,{label:"Late Steady",get data(){return t.result.detailedBreakdown.phaseTwoAndThreeSteady}});var v=f(d,2);F(v,{label:"Last Spurt Acceleration",get data(){return t.result.detailedBreakdown.lastSpurtAcceleration}});var p=f(v,2);F(p,{label:"Last Spurt Steady",get data(){return t.result.detailedBreakdown.lastSpurtSteady}});var m=f(p,2);F(m,{label:"HP0 / Deceleration",get data(){return t.result.detailedBreakdown.hitPointsZeroDeceleration}});var y=f(m,4);F(y,{label:"Ideal Last Spurt Acceleration",get data(){return t.result.detailedBreakdown.idealLastSpurtAcceleration}});var w=f(y,2);F(w,{label:"Ideal Last Spurt Steady",get data(){return t.result.detailedBreakdown.idealLastSpurtSteady}}),h(r),h(n),h(a),R(e,a),E()}var Bn=T('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><div class="grid grid-cols-3"><div><p class="text-center font-bold">Base Speed [m/s]</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Initial HP</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">HP with Recovery</p> <p class="text-center"> </p></div></div> <div class="grid grid-cols-4"><div><p class="text-center font-bold">Target hitpoints for Last Spurt</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Required Stamina</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt Distance</p> <p class="text-center"> </p></div> <div><p class="text-center font-bold">Last Spurt HP Coefficient</p> <p class="text-center"> </p></div></div></div></div>');function En(e,t){B(t,!0);var a=Bn(),n=g(a),r=g(n),i=g(r),l=f(g(i),2),o=g(l,!0);h(l),h(i);var c=f(i,2),s=f(g(c),2),u=g(s,!0);h(s),h(c);var d=f(c,2),v=f(g(d),2),p=g(v,!0);h(v),h(d),h(r);var m=f(r,2),y=g(m),w=f(g(y),2),S=g(w,!0);h(w),h(y);var x=f(y,2),C=f(g(x),2),b=g(C,!0);h(C),h(x);var M=f(x,2),_=f(g(M),2),k=g(_,!0);h(_),h(M);var P=f(M,2),H=f(g(P),2),W=g(H,!0);h(H),h(P),h(m),h(n),h(a),U((ee,K,te,Z,X,J)=>{A(o,ee),A(u,K),A(p,te),A(S,Z),A(b,t.result.requiredStamina),A(k,X),A(W,J)},[()=>I(t.result.baseSpeed,2),()=>I(t.result.initialHitPoints,2),()=>I(t.result.hitPointsWithRecovery,2),()=>I(t.result.targetHitPointsForLastSpurt,2),()=>I(t.result.lastSpurtDistance,2),()=>I(t.result.lastSpurtHitPointsConsumptionCoefficient,2)]),R(e,a),E()}var Gn=T("<!> <!>",1),Nn=T('<div class="w-full mx-auto flex flex-col items-center md:w-5/6 lg:w-2/3"><div class="w-full flex flex-col gap-2 md:w-4/5"><!> <!></div> <label class="my-4"><input type="checkbox"/> Show detailed data</label></div> <!>',1),On=T('<h1 class="font-dynamic-splash text-3xl font-semibold text-center mb-6">UmaCalc</h1> <!> <!> <p class="w-full text-center">UmaCalc is not affiliated with the developers of Uma Musume. All the materials from the Uma Musume game are copyrights of Cygames, Inc.</p>',1);function zn(e,t){B(t,!1);let a=j(),n=j(!1),r=j({...Nt});ct(()=>D(r),()=>{ie(a,_n(D(r)))}),ut(),qe();var i=On();mt(s=>{dt.title="UmaCalc"});var l=f(Y(i),2);kn(l,{get inputData(){return D(r)},set inputData(s){ie(r,s)},$$legacy:!0});var o=f(l,2);{var c=s=>{var u=Nn(),d=Y(u),v=g(d),p=g(v);Rn(p,{get stats(){return D(a),ue(()=>D(a).realStats)}});var m=f(p,2);Hn(m,{get result(){return D(a)}}),h(v);var y=f(v,2),w=g(y);ke(w),he(),h(y),h(d);var S=f(d,2);{var x=C=>{var b=Gn(),M=Y(b);En(M,{get result(){return D(a)}});var _=f(M,2);Fn(_,{get result(){return D(a)}}),R(C,b)};ce(S,C=>{D(n)&&C(x)})}Lt(w,()=>D(n),C=>ie(n,C)),R(s,u)};ce(o,s=>{D(a)&&s(c)})}he(2),R(e,i),E()}export{zn as component};
